"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="add019d5-4c01-55b7-b940-2d7a3dde2ad3")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7561],{400439:(e,t,n)=>{n.d(t,{MC:()=>r,S1:()=>l,UW:()=>a,Vc:()=>o,jP:()=>s,p0:()=>i});let r="component_panel--titleButtons--R-kU7",a="component_panel--componentControlsButton--O969g",l="component_panel--componentPanel--aKD1Q",o="component_panel--ui3ComponentRenameInputRow--nU8OK",i="component_panel--ui3ComponentRenameUnfocusedInputOverride--n2SfL",s="component_panel--ui3PanelHeaderRow--hU6q6 props_panel--ui3PanelHeaderRow--Ab8Jz"},687881:(e,t,n)=>{n.d(t,{$C:()=>i,$s:()=>S,AQ:()=>I,Bt:()=>E,EA:()=>u,I0:()=>c,Kg:()=>N,Ki:()=>T,LO:()=>r,MC:()=>b,Mx:()=>P,N1:()=>f,Og:()=>x,Qp:()=>l,VM:()=>w,We:()=>s,Wf:()=>R,YF:()=>o,Z0:()=>a,cZ:()=>k,iB:()=>y,l_:()=>A,me:()=>m,ns:()=>C,qw:()=>g,sK:()=>p,t4:()=>_,u$:()=>v,vF:()=>h,vS:()=>d});let r="instance_panel--panelTitleRow--TN-S6",a="instance_panel--collapsibleTitleRow--YQUPk",l="instance_panel--instanceNameContainer--DjJ1a",o="instance_panel--isInComponentPlayground--jSk5E",i="instance_panel--instanceIcon--9Rb3Q",s="instance_panel--pickerButtonText--37jAr ellipsis--ellipsis--Tjyfa",c="instance_panel--propPillContainer--uUMdd",d="instance_panel--pickerButton--aETR-",p="instance_panel--selectedPickerButton--PqYr4",u="instance_panel--sublayerPanelWithHover--jgbud",m="instance_panel--sublayerPanelMixedState--h9Vb4",_="instance_panel--chevronIcon--0j2aS",g="instance_panel--viewOnlyPickerButton--70Wl5 instance_panel--pickerButton--aETR-",f="instance_panel--selectInstanceIcon--9lKUr",E="instance_panel--ui3InstanceNameContainer--2BVOa instance_panel--instanceNameContainer--DjJ1a",h="instance_panel--instanceNameTitle--khSFz ellipsis--ellipsis--Tjyfa",y="instance_panel--ui3InstanceNameTitle--RLDS5 ellipsis--ellipsis--Tjyfa",v="instance_panel--instanceNameTitleWide--InQRA instance_panel--instanceNameTitle--khSFz ellipsis--ellipsis--Tjyfa",b="instance_panel--titleButtons--8ha4T",w="instance_panel--dropdownOption--g0g2W",T="instance_panel--restoreComponentButtonRow--zPAzH",N="instance_panel--restoreComponentButton--kkxan",S="instance_panel--missingVariantErrorBox--Dvch2",I="instance_panel--missingVariantDescription--1OogA",C="instance_panel--missingVariantButtonContainer--T5wE1",k="instance_panel--missingVariantButton--WgVP5",A="instance_panel--updateIcon--4lm0w",x="instance_panel--propsContainer--CPc3n",R="instance_panel--bubbledInstancePropSection--9PzLJ",P="instance_panel--instancePanel--QoDrU"},435091:(e,t,n)=>{n.d(t,{Df:()=>c,I0:()=>l,RK:()=>o,TQ:()=>d,ai:()=>s,dY:()=>i,jK:()=>r,ke:()=>a});let r="layer_panel--blendMode--ze-EB",a="layer_panel--opacity--8b7LU",l="layer_panel--propPillContainer--HA1XZ",o="layer_panel--visible--O8HLY",i="layer_panel--visibleHintIcon--40eBB",s="layer_panel--chevron--UUQ0D",c="layer_panel--blendModeInput--46kUO",d="layer_panel--opacityVar--wSBBb"},832039:(e,t,n)=>{n.d(t,{$k:()=>a,EH:()=>o,Kk:()=>s,gw:()=>l,hF:()=>i,kL:()=>r});let r="panel_title_input--container--zi38f",a="panel_title_input--originalValue--m9A5M",l="panel_title_input--uneditableOriginalValue--On4-3 panel_title_input--originalValue--m9A5M",o="panel_title_input--originalValueText--HfAix sf_pro--uiFontWithSFProFallback--m-p9V",i="panel_title_input--input--Go0Lh raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t sf_pro--uiFontWithSFProFallback--m-p9V",s="panel_title_input--icon--nfisf"},641160:(e,t,n)=>{n.d(t,{$L:()=>k,A7:()=>D,By:()=>y,FY:()=>I,Fo:()=>g,I1:()=>U,IU:()=>Y,KE:()=>s,Lp:()=>_,Mf:()=>T,OI:()=>c,Oh:()=>O,Ov:()=>Z,Ph:()=>o,R:()=>f,T0:()=>B,UN:()=>$,Yg:()=>R,Zp:()=>V,a8:()=>X,aj:()=>z,dn:()=>v,eh:()=>h,ek:()=>a,eu:()=>m,ew:()=>i,gF:()=>A,gq:()=>p,gv:()=>x,hv:()=>w,iV:()=>S,j6:()=>H,jG:()=>u,kb:()=>P,lf:()=>E,mp:()=>r,pb:()=>q,qq:()=>G,rq:()=>C,s5:()=>F,tM:()=>d,tq:()=>L,ux:()=>l,wQ:()=>j,wR:()=>M,yR:()=>N,yW:()=>b,yc:()=>K,zU:()=>W});let r="properties_panel--focusManager--iZVd8",a="properties_panel--hideOnFocus--ZF9Cv",l="properties_panel--panelPosition--oppQ8",o="properties_panel--withInsetEditorEnabled--ahDM-",i="properties_panel--insetForRulers--rk7or",s="properties_panel--panelContainer--cKjqh",c="properties_panel--shareButton--QK9z-",d="properties_panel--panelContainerCollapsedWithBackground--9UCfA",p="properties_panel--scrollOuterContainer--rxp11",u="properties_panel--scrollContainer--o2LxW",m="properties_panel--panelContainerLoading--wdXCI",_="properties_panel--drillDownContainer--VaNDa",g="properties_panel--withInProductHelpSidePanelOpen--wZUFI",f="properties_panel--hidden--JXxwt",E="properties_panel--externalStyleLink--NJGQN",h="properties_panel--propertiesPanel--BQ7Lw",y="properties_panel--propertiesPanelNoTabs--xP4a6",v="properties_panel--propertiesPanelCollapsed--XjWdJ",b="properties_panel--tabsHeader--b5J9f pages_panel--tabsHeader--ez-pH",w="properties_panel--tabsHeaderBordered--UTQmW properties_panel--tabsHeader--b5J9f pages_panel--tabsHeader--ez-pH",T="properties_panel--tab--G8lIz pages_panel--tab--Uge5B",N="properties_panel--tabActive--s04ep pages_panel--tabActive--BitzC pages_panel--tab--Uge5B",S="properties_panel--tabActiveSingle--wUXVu properties_panel--tabActive--s04ep pages_panel--tabActive--BitzC pages_panel--tab--Uge5B",I="properties_panel--stylePreviewContainer--KAG5V",C="properties_panel--ui3ToolbarPanel--jj-VE",k="properties_panel--ui3ToolbarForPanelHeader--1QBL6",A="properties_panel--ui3SelectionActionsContainer---7oX-",x="properties_panel--dropdownInput--EOia1",R="properties_panel--panelHeaderControls--oFMeq",P="properties_panel--left--1pgjP",O="properties_panel--rightButtons--aG2jP",D="properties_panel--fullHeightSidebarTabsHeader--PHP85",L="properties_panel--fullHeightSidebarTabs--WP5tu pages_panel--tabsHeader--ez-pH",M="properties_panel--zoomMenuContainer--GW3DS",F="properties_panel--instanceDropdownOverrides--8wA5k",K="properties_panel--bumpSelectChevronToLeft--7Xcx3",B="properties_panel--ui3FrameLayerHeaderSelect--eG1lv",V="properties_panel--ui3ToolbarItemsMixedText--77Auf",U="properties_panel--ui3UnfocusedRenameComponentInputOverrides--ZCc0j",H="properties_panel--ui3FocusedRenameComponentInputOverrides--GYahZ",z="properties_panel--ui3NodeTypeDisplay--1I8ks ellipsis--ellipsis--Tjyfa",G="properties_panel--ui3HiddenOnboardingTarget--dNILG",W="properties_panel--dialogTriggerButton--7xDVp",Y="properties_panel--instanceNeedsUpdatesIcon--NLnYQ",X="properties_panel--recordingButton--abkhq",Z="properties_panel--recordingButtonActive--ptAfB properties_panel--recordingButton--abkhq",$="properties_panel--recordingsEntrypointWindowPosition--QvGDw",j="properties_panel--broadcastDropdownPosition--h2V5V",q="properties_panel--fullViewportBroadcastClose--h4wE2"},866577:(e,t,n)=>{n.d(t,{Je:()=>r,Y9:()=>o,YV:()=>i,dJ:()=>a,jN:()=>s,os:()=>l});let r="240px",a="independent_corner_radius_modal--cornerRadiusContent--DPDSk",l="independent_corner_radius_modal--independentCornerPanel--WDoVj independent_corner_radius_modal--cornerRadiusModalContent--sopW9",o="independent_corner_radius_modal--cornerSmoothingPanel--fUaKb independent_corner_radius_modal--cornerRadiusModalContent--sopW9",i="independent_corner_radius_modal--cornerSmoothingTitle--WTrG6",s="independent_corner_radius_modal--cornerSmoothingContainer--DTnrk"},664241:(e,t,n)=>{n.d(t,{$6:()=>a,G:()=>d,Ig:()=>i,Z7:()=>c,cF:()=>p,l_:()=>o,mq:()=>l,nM:()=>s,o3:()=>r});let r="variable_mode_entries--variableSetName--hmoV4",a="variable_mode_entries--ui3VariableSetName--eqW9C variable_mode_entries--variableSetName--hmoV4",l="variable_mode_entries--variableSetModeSelect--P6crF",o="variable_mode_entries--updateIcon--BNz-S",i="variable_mode_entries--dropdownDescription--OQef0",s="variable_mode_entries--row--8OoWO",c="variable_mode_entries--infoIconContainer--DmUPj",d="variable_mode_entries--infoIcon--JylKl",p="variable_mode_entries--infoOption--fKiWW"},706607:(e,t,n)=>{n.r(t),n.d(t,{activeButton:()=>i,chevron:()=>y,delightfulMenu:()=>c,disabledButton:()=>o,disabledFullHeightSidebarFlyout:()=>m,enabledButton:()=>l,flyout:()=>d,flyoutButton:()=>_,flyoutDropdownShown:()=>p,fullHeightSidebarFlyout:()=>u,fullHeightSidebarFlyoutButton:()=>f,fullHeightSidebarFlyoutChevron:()=>g,fullHeightSidebarFlyoutDropdownShown:()=>E,grid:()=>h,largeDisplayDropdown:()=>v,pointingDropdown:()=>s,selected:()=>a,updatesBadge:()=>r});let r="toolbar_styles--updatesBadge--NbkFp",a="toolbar_styles--selected--zUa6K",l="toolbar_styles--enabledButton--fEwmC",o="toolbar_styles--disabledButton--wv8Iu",i="toolbar_styles--activeButton--YHzcB",s="toolbar_styles--pointingDropdown--6rrL3",c="toolbar_styles--delightfulMenu--A6bY7",d="toolbar_styles--flyout--S3qfl",p="toolbar_styles--flyoutDropdownShown--WU8JV",u="toolbar_styles--fullHeightSidebarFlyout--d9LJ3 toolbar_styles--flyout--S3qfl",m="toolbar_styles--disabledFullHeightSidebarFlyout--hBPDA",_="toolbar_styles--flyoutButton--lyOUg",g="toolbar_styles--fullHeightSidebarFlyoutChevron--aENEg",f="toolbar_styles--fullHeightSidebarFlyoutButton--dU4LR toolbar_styles--flyout--S3qfl",E="toolbar_styles--fullHeightSidebarFlyoutDropdownShown--rT9w3 toolbar_styles--flyoutDropdownShown--WU8JV",h="toolbar_styles--grid--M8sVG",y="toolbar_styles--chevron--3YF14",v="toolbar_styles--largeDisplayDropdown--yFQ1V"},447798:(e,t,n)=>{n.d(t,{AQ:()=>_,Er:()=>A,Ex:()=>g,GC:()=>i,Jg:()=>a,KE:()=>r,Lq:()=>l,Pf:()=>v,R:()=>o,TE:()=>N,U:()=>E,V3:()=>u,WT:()=>h,XA:()=>d,Xs:()=>m,YT:()=>x,Zm:()=>S,by:()=>k,dM:()=>b,e1:()=>C,eh:()=>I,gb:()=>f,gt:()=>c,l3:()=>s,q3:()=>y,uX:()=>w,yM:()=>p,yT:()=>T});let r="toolbar_view--toolbar--RuPI6",a="toolbar_view--figjamBorder--KF3VY",l="toolbar_view--loading--fU68L",o="toolbar_view--hidden--eM-fR",i="toolbar_view--buttonGroup--UA9-B",s="toolbar_view--leftButtonGroup--qkjBh",c="toolbar_view--rightButtonGroup--weV86",d="toolbar_view--overviewRightButtonGroup--nPoWM",p="toolbar_view--hideTools--No4T8",u="toolbar_view--centerButtonGroup--kxpQA",m="toolbar_view--cachedFilenameViewSubtree--JoP3h",_="toolbar_view--menuButton--nAIP3",g="toolbar_view--unclickableMenuButtonUI3--Zzd1A",f="toolbar_view--iconButton--1MUm6",E="toolbar_view--wide--Mpb1c",h="toolbar_view--actionButtonContainer--7fDmd",y="toolbar_view--actionButtonBadge--2cmhk",v="toolbar_view--label--O5fOT ellipsis--ellipsis--Tjyfa",b="toolbar_view--textButtonContainer--17OKy",w="toolbar_view--textButton--THnFZ basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",T="toolbar_view--toolButtonContainer--IRGt-",N="toolbar_view--unreadDotActive--KHyuc",S="toolbar_view--unreadDot--zuWYA",I="toolbar_view--loginButton--kH7Jx",C="toolbar_view--unsavedChangesIconContainer--zEmEv",k="toolbar_view--unsavedChangesIcon--rYfws",A="toolbar_view--missingFontSvg--hHv5S",x="toolbar_view--focusModeVariantsToggleActiveButton--VqPiO"},384890:(e,t,n)=>{n.d(t,{DX:()=>c,Dg:()=>l,FS:()=>i,Fx:()=>p,Kc:()=>d,Kd:()=>a,NJ:()=>u,Sl:()=>o,ZQ:()=>s,_2:()=>g,cC:()=>f,jH:()=>m,mV:()=>_,tQ:()=>r});let r="google_device_try_file_modal--googleDeviceClaimModal--SnMzX",a="google_device_try_file_modal--googleDeviceReceivedEmailModal--wvtHu",l="google_device_try_file_modal--imgContainer--4BUIg",o="google_device_try_file_modal--image--u4Tnt",i="google_device_try_file_modal--textContainer--GamBO",s="google_device_try_file_modal--googleDeviceImage--xfwpW",c="google_device_try_file_modal--googleDeviceClaimHeader--K6jxS text--fontPos20--Bcz97 text--_fontBase--QdLsd",d="google_device_try_file_modal--googleDeviceClaimSubtitle--Whve5 text--fontPos13--xW8hS text--_fontBase--QdLsd",p="google_device_try_file_modal--googleDeviceClaimSubtitleBold--X6Koc text--fontPos13--xW8hS text--_fontBase--QdLsd",u="google_device_try_file_modal--googleDeviceClaimDisclaimer--6nB4d text--fontPos12--YsUAh text--_fontBase--QdLsd",m="google_device_try_file_modal--googleDeviceClaimInlineLink--oLkX-",_="google_device_try_file_modal--googleDeviceClaimError--Ogemp text--fontPos14--OL9Hp text--_fontBase--QdLsd",g="google_device_try_file_modal--googleDeviceClaimInput--9V2zI",f="google_device_try_file_modal--googleDeviceClaimInputError--PsSOq"},821150:(e,t,n)=>{n.d(t,{$9:()=>s,BZ:()=>r,Gv:()=>u,Lq:()=>f,PE:()=>l,Pj:()=>m,SI:()=>_,Xm:()=>h,_Z:()=>o,hj:()=>g,ig:()=>c,mj:()=>d,ow:()=>a,s1:()=>E,uO:()=>i,vL:()=>p});let r="styles_properties_form--styleNameAndDescriptionContainer--L2pn-",a="styles_properties_form--styleDescriptionLabel--ErQ6b",l="styles_properties_form--styleDescriptionContainer--NtXrJ",o="styles_properties_form--textInput--rWj8- raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",i="styles_properties_form--expandingTextInput--E7usn",s="styles_properties_form--textPreviewContainer---jjb4 styles_properties_form--previewContainer--SH1Yk",c="styles_properties_form--gridAndEffectPreviewContainer--9q2FM styles_properties_form--previewContainer--SH1Yk",d="styles_properties_form--loadedFillPreviewContainer--36WiC styles_properties_form--fillPreviewSize--GiUdz",p="styles_properties_form--loadingFillPreviewContainer--WPdS6 styles_properties_form--fillPreviewSize--GiUdz",u="styles_properties_form--stylePreview--tJF78",m="styles_properties_form--textStylePreview--Jp6WQ",_="styles_properties_form--textStylePreviewInverted--GeC3b",g="styles_properties_form--fillStylePreview--xOVAg styles_properties_form--fillPreviewSize--GiUdz",f="styles_properties_form--loading--0A0hy",E="styles_properties_form--isLoaded--2czdf",h="styles_properties_form--themeDropdown--RvF-0"},99123:(e,t,n)=>{n.d(t,{BE:()=>m,CL:()=>l,Le:()=>s,Lq:()=>d,Qo:()=>u,Sn:()=>p,X9:()=>r,f$:()=>c,iS:()=>_,k8:()=>i,wH:()=>a,xm:()=>o});let r="slides_color_controls--panelToggle--kL4qJ",a="slides_color_controls--selected--FUTwH",l="slides_color_controls--imagePreviewOverlay--h5Rqz",o="slides_color_controls--imagePreviewContainer--ivfKV",i="slides_color_controls--colorChit--pdLKf",s="slides_color_controls--chitBackground--Vlkza",c="slides_color_controls--chitAlpha--GJlf2 chit--chitAlpha--Mn-aK",d="slides_color_controls--editChitButton--Am-hP",p="slides_color_controls--enabled--3SYlu",u="slides_color_controls--shownForTests--S2xlM",m="slides_color_controls--videoSettingsButton--MEiwV",_="slides_color_controls--controlsRowReset--w3uKf"},626217:(e,t,n)=>{n.d(t,{i:()=>s,s:()=>i});var r=n(794272),a=n(964881),l=n(852800),o=n(227944);function i(e=!0){let t=(0,o.Ku)(["add-selection-ready-status","remove-selection-status"]);return t["add-selection-ready-status"]||t["remove-selection-status"]&&!e}function s(e){let t=(0,r.R)(e=>e.mirror.appModel.activeCanvasEditModeType),n=(0,a.l7)();return!!e&&(t===l.m1T.DEV_HANDOFF||t===l.m1T.DEV_HANDOFF_HISTORY||n)&&(e.isFrame||e.isSymbol||e.isSection)}},215837:(e,t,n)=>{n.d(t,{L:()=>c});var r=n(411855),a=n(188507),l=n(794272),o=n(617453),i=n(788612),s=n(924491);function c(){let{openFile:e,sceneGraphSelection:t,currentPage:n,singleNodeName:c,currentSelectedProperty:d,saveAsState:p,dropdownShown:u,pickerShown:m,exportSettings:_}=(0,l.R)(e=>({openFile:e.openFile,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,currentPage:e.mirror.appModel.currentPage,singleNodeName:s.LI.singleNodeNameFrom(e.mirror.selectionProperties),saveAsState:e.saveAsState,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,exportSettings:e.mirror.selectionProperties.exportSettings})),g=(0,o.UX)(),f=(0,a.wA)();return r.createElement(i.VZ,{hideHeader:!0,padding:i.UZ.NONE,recordingKey:"export",noBorder:!0},r.createElement(s.LI,{exportSettings:_,openFile:e,sceneGraphSelection:t,currentPage:n,singleNodeName:c,currentSelectedProperty:d,saveAsState:p,panelWidth:g,dispatch:f,dropdownShown:u,pickerShown:m,numSelected:Object.keys(t).length}))}},187796:(e,t,n)=>{n.d(t,{$G:()=>E,B5:()=>N,Cs:()=>T,EN:()=>b,F9:()=>v,I9:()=>S,Tk:()=>h,Ud:()=>I,lK:()=>C,u9:()=>w});var r=n(411855),a=n(188507),l=n(704513),o=n.n(l),i=n(717068),s=n(794272),c=n(939863),d=n(852800),p=n(848661),u=n(618056),m=n(335682),_=n(239349);function g(e){return(0,p.gl)(e)?0:e??0}function f(e,t,n){return"NONE"!==e.stackMode?e[t]:e.inferredAutoLayoutResult?.[n]}function E(e){let t;let{selectionProperties:n,sceneGraph:r,sceneGraphSelection:a}=(0,s.R)(e=>({selectionProperties:e.mirror.selectionProperties,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection}));if(e)return{distance:{top:{distance:0,type:"distance"},bottom:{distance:0,type:"distance"},left:{distance:0,type:"distance"},right:{distance:0,type:"distance"}},border:{top:0,bottom:0,left:0,right:0},radius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},padding:{top:0,bottom:0,left:0,right:0},width:0,height:0};let l=(0,_.Zl)(r,(0,_.RJ)(a)),o=l?.parentNode||null,i=function(e){let t=e?.borderStrokeWeightsIndependent;if((0,p.hS)(t)&&t){let{borderTopVisible:t,borderBottomVisible:n,borderLeftVisible:r,borderRightVisible:a,borderTopWeight:l,borderBottomWeight:o,borderLeftWeight:i,borderRightWeight:s}=e;return{top:t?g(l):0,bottom:n?g(o):0,left:r?g(i):0,right:a?g(s):0}}let n=e?.strokePaints;if((0,p.hS)(n)&&Array.isArray(n)&&n.length>0){let t=(n?.filter(e=>e?.visible&&(e?.opacity??0>0))||[]).length>0?g(e?.strokeWeight):0;return{top:t,bottom:t,left:t,right:t}}return{top:0,bottom:0,left:0,right:0}}(n),c={topLeft:g(n.rectangleTopLeftCornerRadius),topRight:g(n.rectangleTopRightCornerRadius),bottomLeft:g(n.rectangleBottomLeftCornerRadius),bottomRight:g(n.rectangleBottomRightCornerRadius)},d="NONE"!==n.stackMode||n.inferredAutoLayoutResult&&"NONE"!==n.inferredAutoLayoutResult.stackMode;t=d?{top:g(f(n,"stackVerticalPadding","stackPaddingTop")),bottom:g(f(n,"stackPaddingBottom","stackPaddingBottom")),left:g(f(n,"stackHorizontalPadding","stackPaddingLeft")),right:g(f(n,"stackPaddingRight","stackPaddingRight"))}:{top:0,bottom:0,left:0,right:0};let u=d&&n.bordersTakeSpace?{top:t.top+i.top,bottom:t.bottom+i.bottom,left:t.left+i.left,right:t.right+i.right}:{...t},m=g(n.width)-u.left-u.right,E=g(n.height)-u.top-u.bottom;return{distance:o&&"NONE"!==o.stackMode&&l?.stackPositioning!=="ABSOLUTE"?function(e,t){if(!e||!t||"NONE"===t.stackMode)return{};let n=t.childrenNodes.filter(e=>e?.stackPositioning!=="ABSOLUTE").map(e=>e?.guid),r=n.indexOf(e.guid),a=0===r,l=r===n.length-1;return"HORIZONTAL"===t.stackMode?{top:{distance:t.stackTopPadding,type:"padding"},bottom:{distance:t.stackBottomPadding,type:"padding"},left:a?{distance:t.stackLeftPadding,type:"padding"}:{distance:t.stackSpacing,type:"spacing"},right:l?{distance:t.stackRightPadding,type:"padding"}:{distance:t.stackSpacing,type:"spacing"}}:{top:a?{distance:t.stackTopPadding,type:"padding"}:{distance:t.stackSpacing,type:"spacing"},bottom:l?{distance:t.stackBottomPadding,type:"padding"}:{distance:t.stackSpacing,type:"spacing"},left:{distance:t.stackLeftPadding,type:"padding"},right:{distance:t.stackRightPadding,type:"padding"}}}(l,o):function(e,t){if(!e||!t||"CANVAS"===t.type||"DOCUMENT"===t.type||"SECTION"===t.type)return{};let n=t.absoluteBoundingBox.w,r=t.absoluteBoundingBox.h,a=t.absoluteBoundingBox.y,l=t.absoluteBoundingBox.x,o=e.absoluteBoundingBox.w,i=e.absoluteBoundingBox.h,s=e.absoluteBoundingBox.y,c=e.absoluteBoundingBox.x;return{top:{distance:s-a,type:"distance"},bottom:{distance:a+r-(i+s),type:"distance"},left:{distance:c-l,type:"distance"},right:{distance:n+l-(c+o),type:"distance"}}}(l,o),border:i,radius:c,padding:t,width:m,height:E}}let h=12;function y(e){return e&&e>2?Math.min(e,h):2}function v(e){return{borderTopLeftRadius:y(e.topLeft),borderTopRightRadius:y(e.topRight),borderBottomRightRadius:y(e.bottomRight),borderBottomLeftRadius:y(e.bottomLeft)}}function b(e,t,n){let r=y(n),a="top"===e?"bottom":"top",l="left"===t?"right":"left";return{[`border${o()(e)}${o()(t)}Radius`]:r,top:"top"===e?0:void 0,bottom:"bottom"===e?0:void 0,left:"left"===t?0:void 0,right:"right"===t?0:void 0,[`border${o()(e)}Width`]:"1px",[`border${o()(a)}Width`]:"0px",[`border${o()(t)}Width`]:"1px",[`border${o()(l)}Width`]:"0px"}}function w(e){return!!e&&"-"!==e&&"string"==typeof e}let T=(e="NONE")=>"HORIZONTAL"===e||"VERTICAL"===e;function N(e=0){if(0===e)return"-";let t=`${e}`.indexOf(".");if(-1===t||t>3)return`${Math.round(e)}`;let n=parseFloat(e.toFixed(4-t-1));return 0===n?"-":`${n}`}function S(e=0,t,n){if(!n||(0,p.gl)(t))return e;let r={[d.mKm.FILL_CONTAINER]:(0,c.t)("inspect_panel.properties.fill"),[d.mKm.HUG_CONTENT]:(0,c.t)("inspect_panel.properties.hug"),[d.mKm.FIXED]:(0,c.t)("inspect_panel.properties.fixed")}[t||d.mKm.FIXED],a=(e||0).toLocaleString("en",{maximumFractionDigits:2});return`${r} (${a}px)`}function I(...e){let[t=0,n=0,r=0,a=0]=e;return(0,i.Ef)(e)?0!==t?[t]:void 0:[t,n,r,a]}function C(){let e=(0,a.d4)(m.sS),t=(0,a.d4)(e=>e.mirror.selectionProperties.fillPaints)||null,n=r.useMemo(()=>u.N9(t)?.filter(e=>e.opacity>0&&e.visible&&e.image),[t]);if(n?.length!==1||!n[0]?.image)return null;let l=(0,u.qg)(n[0].image);return e&&l?n[0]:null}},495085:(e,t,n)=>{n.d(t,{J:()=>i});var r=n(411855),a=n(531664),l=n(788612),o=n(564092);function i(){let e=(0,o.kN)();return Object.values(e).filter(e=>!!e.explicitMode).length?r.createElement(l.VZ,{title:"Modes",recordingKey:"modes"},Object.entries(e).map(([e,t])=>{let n=t.modeOptions.find(e=>a.c2(e.modeId,t.explicitMode))?.name;return r.createElement(l._p,{key:e,name:t.collectionName,value:n})})):null}},155497:(e,t,n)=>{function r(e){try{return new URL(e),!0}catch(e){return!1}}function a(e){return e.startsWith("http://")||e.startsWith("https://")}n.d(t,{G:()=>r,H:()=>a})},236478:(e,t,n)=>{n.d(t,{r:()=>c});var r=n(980820),a=n(293017),l=n(286954),o=n(411294),i=n(906899),s=n(169231);let c=(0,r.nF)(e=>{let t=e.getState();t.pickerShown&&e.dispatch(a.XE()),t.instanceSwapPickerShown&&e.dispatch((0,l.vq)()),t.stylePickerShown&&e.dispatch(a.Uv()),t.stylePreviewShown&&e.dispatch(i.sw()),t.variablePickerShown?.isShown&&e.dispatch((0,s.B)()),t.pickerInStyleCreationShown&&e.dispatch((0,o.w)())})},838e3:(e,t,n)=>{n.d(t,{Q:()=>f,S:()=>E});var r=n(130097),a=n(711525),l=n(776621),o=n(27087),i=n(881388),s=n(939863),c=n(392592),d=n(279453),p=n(320741),u=n(877627),m=n(280945),_=n(980820),g=n(507877);let f=(0,_.nF)(async(e,t,{loadingKey:n})=>{let o=!1;try{o=!!(0,a.oA)((await (0,r.Ek)(d.jmg,{fileKey:t.file_key})).deviceTryFile)}catch(e){(0,l.x1)("claimFigJamTryFile","Request failed for fetching LG DeviceTryFileView",e,{reportAsSentryError:!0})}try{let r;r=o?m.L.claimDeviceFile({fileKey:t.file_key}):u.Uy.claimTryFile({fileKey:t.file_key}),(0,p.N)(r,e,n);let{data:a}=await r,{save_location:l,folder_name:i,org_id:d}=a.meta,{user:_,currentUserOrgId:f,selectedView:E}=e.getState(),h=(0,s.t)("figjam_try.this_file_has_been_saved_to_drafts");if("team"===l&&i&&(h=(0,s.t)("figjam_try.this_file_has_been_saved_to_folder_name",{folder_name:i})),d&&d!==f&&_){let t={userId:_.id,orgId:d};e.dispatch(g._l({workspace:t,view:E}))}e.dispatch(c.F.enqueue({message:h}))}catch(t){e.dispatch(i.s.error("Unable to save file. Please try again later."))}}),E=(0,_.nF)(async(e,{userName:t,file_key:n},{loadingKey:r})=>{try{await o.Ay.put(`/api/try/file/${n}`,{name:(0,s.t)("figjam_try.default_filename",{userName:t})})}catch(e){console.error(e)}})},550273:(e,t,n)=>{n.d(t,{Ey:()=>o,Gc:()=>c,Np:()=>d,fN:()=>a,nl:()=>l});var r=n(341860);function a(e){let t=l(e);return t?i(t):void 0}function l(e){let t=s(e);return 1===t.length?t[0]:void 0}function o(e){return s(e).map(i)}function i(e){let t=r.q.instance.getCurrentPage(),n=t?.getSelectedTextRange(),a={node:e,nodeText:e.characters,effectiveText:e.characters};return n?.textNodeId===e.guid&&n.start!==n.end&&(a.selectionRange=n,a.effectiveText=e.characters.slice(n.start,n.end)),a}function s(e){return c(r.q.instance.getCurrentPage()?.directlySelectedNodes,e)}function c(e,t){if(!e)return[];let n=Array.isArray(e)?e:[e],r=[],a=e=>{for(let n of(function(e,t){if("TEXT"!==e.type)return!1;if(t?.excludeDigitsAndSpecialChar){let t=e.characters.trim(),n=RegExp("^[\\d!@#$%^&*().]+$");if(t.match(n))return!1}return t?.allowEmpty||e.characters.length>0}(e,t)&&r.push(e),e.childrenNodes??[]))a(n)};for(let e of n)a(e);return r}function d(){let e=s({allowEmpty:!1});return e.sort((e,t)=>e.x===t.x?e.y-t.y:e.x-t.x),e}},736916:(e,t,n)=>{n.d(t,{EH:()=>d,MC:()=>s,ji:()=>c,l0:()=>o,xo:()=>i,zp:()=>l});var r=n(374626),a=n(582947);let l="user_has_generated_ai_summary",o="has_dismissed_summarization_nudge",i=(0,a.r1)(l),s=(0,a.r1)(o),c=(0,r.E3)("last_saw_summarization_nudge","0"),d=(0,r.E3)("seen_summarization_nudge_count",0)},444576:(e,t,n)=>{n.d(t,{A7:()=>i,i4:()=>o,nt:()=>l});var r=n(302245),a=n(333370);let l=e=>e.library.localStyleSelection,o=(0,r.Mz)([l,(e,t)=>t],(e,t)=>e?.type===t?e:null),i=(0,r.Mz)([o,(e,t,n)=>n],(e,t)=>{if(!e)return null;let n=new Set,r=new Set;return e.folderNames.forEach(e=>{let l=t.find(t=>"STYLE_FOLDER"===t.type&&t.name===e);l&&((0,a.KU)(l).forEach(e=>{n.add(e.name)}),(0,a.dm)(l).forEach(e=>{r.add(e.node_id)}))}),{type:e.type,folderNames:n,styleIds:r}})},467302:(e,t,n)=>{n.d(t,{a:()=>m,n:()=>_});var r=n(411855),a=n(188507),l=n(44948),o=n(987918),i=n(848661),s=n(234945),c=n(273226),d=n(510879),p=n(107244),u=n(958317);function m(e,t){let n=r.useMemo(u.vf,[]),d=(0,a.d4)(s.dK),m=(0,a.d4)(p.C1),_=(0,a.d4)(t=>n(t,e)),y=function(e,t){let n=(0,a.d4)(s.dK);if(t!==c.OE.DEFINITION)return(0,c.Yi)(e,n)||(0,c.k4)(e,n)||"";{let t=(0,c.wd)(e,n);return t&&!(0,i.gl)(t)?t.guid:""}}(e,t),v=(0,l.k9)(()=>m&&y?g(y,e,m):[],[m,e,y]),b=(0,l.k9)(()=>m?f(v,e.filter(e=>{let t=d.get(e);return t?.type==="INSTANCE"}),d,m):{},[e,d,m,v]),w=(0,l.k9)(()=>y&&m?E(y,m,d):[],[y,m,d]),T=(0,l.k9)(()=>{let t=e.reduce((e,t)=>{let n=d.get(t),r=n?.symbolId;return r&&r!==o.AD&&e.add(r),e},new Set);return w.filter(e=>t.has(e.guid))},[w,e,d]),N=(0,l.k9)(()=>y&&m?h(y,e,m):{},[y,e,m]);return r.useMemo(()=>({typedPropDefsExcludingHidden:v,variantPropDefs:_,assignmentValuesByDefId:b,allStateVariantProps:w,backingStateVariantProps:T,statePropertyValues:N,productComponentGUID:y}),[v,_,b,w,T,N,y])}function _(e,t,n,a){let o;let i=(0,l.k9)(()=>n?g(n,[e],t):[],[e,n,t]),s=(0,l.k9)(()=>n?(0,u.Jm)(n,t):[],[n,t]),c=(0,l.k9)(()=>f(i,[e],a,t),[e,t,a,i]),d=(0,l.k9)(()=>n&&a.get(n)?.isStateGroup?E(n,t,a):[],[n,t,a]),p=(0,l.k9)(()=>n?h(n,[e],t):{},[e,n,t]),m=a.get(e)?.symbolId;return m&&a.get(m)?.isState||(o=[]),o=d.filter(e=>m===e.guid),r.useMemo(()=>({typedPropDefsExcludingHidden:i,variantPropDefs:s,assignmentValuesByDefId:c,allStateVariantProps:d,backingStateVariantProps:o,statePropertyValues:p}),[i,s,c,d,o,p])}function g(e,t,n){let r=(0,c.ZH)(t,n);return(0,c.aO)(e,n).filter(e=>!r.has(e.explicitDefID))}function f(e,t,n,r){let a={};return e.forEach(e=>{let l=new Set;for(let n of t){let t=r[n]?.assignments?.[e.explicitDefID];if(t){if(t.isMixed){l.add(i.oV);continue}null!=t.value&&l.add(t.value)}}a[e.explicitDefID]=(0,c.m5)(e.type,l,n)}),a}function E(e,t,n){let r=n.get(e);return r?.isStateGroup?r.childrenNodes.reduce((e,n)=>{let r=t[n.guid]?.stateVariantProps;return r?e.push({...r,guid:n.guid}):e.push({propertyValues:n.statePropertyValues,guid:n.guid}),e},[]):[]}function h(e,t,n){let r=n[e]?.stateGroupVariantProps?.propertySortOrder??[];return(0,d.s)(n,t,r)}},371686:(e,t,n)=>{n.d(t,{u:()=>m});var r=n(411855),a=n(188507),l=n(153234),o=n(522739),i=n(574176),s=n(939863),c=n(336599),d=n(386976),p=n(764643),u=n(42638);function m({onRetry:e,recordingKey:t}){let n=(0,a.d4)(e=>(0,c.VP)(e.loadingState,(0,d._A)(e.openFile?.key)));return r.createElement("div",{className:p.warningOfflineContainer},r.createElement("div",{className:p.warning},r.createElement(i.B,{className:p.offlineIcon,svg:u.A}),r.createElement("span",null,(0,s.t)("design_systems.component_properties.cant_show_values")),n?r.createElement("span",{className:p.trying},(0,s.t)("design_systems.component_properties.trying")):r.createElement(o.oj,{className:p.tryAgain,onClick:e,role:"button",tabIndex:0,recordingKey:l.Pt(t,"preferredValues","tryAgain")},(0,s.t)("design_systems.component_properties.try_again"))))}},907368:(e,t,n)=>{n.d(t,{qC:()=>na,e6:()=>ni,tO:()=>ns,ME:()=>nl,R$:()=>np,t8:()=>nd,BK:()=>no});var r=n(411855),a=n(188507),l=n(463420),o=n(96796),i=n(629019),s=n.n(i),c=n(153234),d=n(522739),p=n(552048),u=n(939863),m=n(852800),_=n(29680),g=n(335691),f=n(721478),E=n(45148),h=n(690710),y=n(893606),v=n(939791),b=n(273226),w=n(467302),T=n(602029),N=n(823223),S=n(256296),I=n(717068),C=n(935283),k=n(354189),A=n(335601),x=n(966712),R=n(498750),P=n(572174),O=n(515009),D=n(667167),L=n(762638),M=n(244673),F=n(286954),K=n(632430),B=n(662531),V=n(843495),U=n(848661),H=n(869156),z=n(335682),G=n(100197),W=n(173454),Y=n(498606),X=n(219101),Z=n(760066),$=n(908968),j=n(412297),q=n(278256),J=n(7959),Q=n(213100),ee=n(149988),et=n(282263),en=n(683859),er=n(564092),ea=n(533573),el=n(830324),eo=n(952277),ei=n(15270),es=n(386976),ec=n(371686);let ed="prop_assignment_row--propAssignmentRow--OKB5Y prop_assignment_row--_propAssignmentRowBase--Qk4mQ raw_components--flushLeft--YH-5P",ep="prop_assignment_row--propAssignmentRowWide--B6bnW prop_assignment_row--_propAssignmentRowBase--Qk4mQ raw_components--flushLeft--YH-5P",eu="prop_assignment_row--propAssignmentRowUnbounded--pdfzN prop_assignment_row--_propAssignmentRowBase--Qk4mQ raw_components--flushLeft--YH-5P",em="prop_assignment_row--componentPropNameContainer--JeWEJ",e_="prop_assignment_row--componentPropNameViewOnly--1bJdB prop_assignment_row--componentPropName--ZazSF ellipsis--ellipsis--Tjyfa",eg="prop_assignment_row--assignmentValueContainerUi3--z4cZN",ef="prop_assignment_row--input---hZFU props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",eE="prop_assignment_row--blankInput--8cHb6 prop_assignment_row--input---hZFU props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",eh="prop_assignment_row--viewOnlyInput--AusfO prop_assignment_row--input---hZFU props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",ey="prop_assignment_row--toggleContainer--ch-lY prop_assignment_row--assignmentValueContainer--rO3FJ raw_components--singleRowHeight--dKM4t",ev="prop_assignment_row--variantPillContainer--I73vy",eb="prop_assignment_row--variantPropDetach--XhRyN",ew="prop_assignment_row--ui3TypedPropAssignmentRow--3MHYU",eT="prop_assignment_row--ui3ShowOnRowHover---TwLe";var eN=n(424148);function eS(e){let{index:t,guids:n,typedPropDef:l,value:o,containerWidth:i,forBubbledProps:c,hideIcon:d}=e,p=(0,G.J2)(m.Ez5.propertiesPanelState().shownPropertiesPanels)[m.ibQ.INSTANCE_ITEM],u=(0,a.wA)(),_=(0,a.d4)(e=>e.selectedComponentPropDefId),[g,f]=r.useState(!1),E=r.useRef(null),h=r.useRef(null),w=(0,y.R)();r.useEffect(()=>{_===l.explicitDefID&&p&&(u(M.n0({propDefId:null})),f(!0),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{f(!1)},1e3))},[u,_,l,p]);let[T,N]=r.useMemo(()=>l.type===m.J0O.BOOL?[m.rXF.BOOLEAN,[m.rXF.BOOLEAN]]:l.type===m.J0O.TEXT?[m.rXF.STRING,[m.rXF.STRING]]:l.type===m.J0O.NUMBER?[m.rXF.FLOAT,[m.rXF.FLOAT]]:[void 0,void 0],[l.type]),S=!!((0,x.kc)().ds_variable_props_binding&&l.type!==m.J0O.INSTANCE_SWAP&&void 0!==T&&void 0!==N),I=o&&"object"==typeof o&&"type"in o&&o.type===m.Z_n.ALIAS;if(void 0===o)return null;let k=h.current,A=!!k&&k.offsetWidth<k.scrollWidth,R=r.createElement("div",{className:s()(em,{"prop_assignment_row--componentPropNameContainerUi3--TcFn9 prop_assignment_row--componentPropNameContainer--JeWEJ":i===b.O2.RESIZABLE_SIDEBAR,"prop_assignment_row--textPropName--le7nN":l.type===m.J0O.TEXT})},r.createElement("div",{ref:h,className:e_,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":A?l.name:null},l.name)),P=r.createElement(X.e,{condition:S,wrapper:e=>((0,C.B1)(T),r.createElement(et.hu,{boundVariableId:void 0,resolvedType:T,requestedTypes:N,onVariableSelected:e=>{void 0!==e&&B.l7.user("component-prop-assignment",()=>m.glU.setComponentPropAssignmentVariableData(n,l.explicitDefID,(0,er.y$)(T,e.node_id),c))}},r.createElement(et.V5,null),e))},I&&S?r.createElement(ex,{...e}):l.type===m.J0O.BOOL?r.createElement(eA,{...e,shouldShowVariableBinding:S}):l.type===m.J0O.TEXT?r.createElement(eP,{...e,shouldShowVariableBinding:S}):l.type===m.J0O.NUMBER?r.createElement(eR,{...e,shouldShowVariableBinding:S}):l.type===m.J0O.INSTANCE_SWAP?r.createElement(eO,{...e}):r.createElement(r.Fragment,null));return l.type!==m.J0O.NUMBER||(0,x.kc)().ds_variable_props_number_type?w?d?r.createElement(ee.g,{recordingKey:`componentPropertyRow.${t}`,appendedClassName:ew,onMouseEnter:()=>V.dH({nodeIDs:n,defID:l.explicitDefID}),onMouseLeave:()=>V.dH({nodeIDs:[],defID:""}),leftLabel:null,leftInput:R,rightLabel:null,rightInput:P}):r.createElement(v.fn,{recordingKey:`componentPropertyRow.${t}`,appendedClassName:ew,onMouseEnter:()=>V.dH({nodeIDs:n,defID:l.explicitDefID}),onMouseLeave:()=>V.dH({nodeIDs:[],defID:""}),leftLabel:null,leftInput:R,rightLabel:null,rightInput:P,icon:null}):r.createElement(J.fI,{className:s()(function(e){switch(e){case b.O2.REGULAR:case void 0:return ed;case b.O2.WIDE:return ep;case b.O2.UNBOUNDED:return eu;case b.O2.RESIZABLE_SIDEBAR:return"prop_assignment_row--propAssignmentRowUi3--hzT9d prop_assignment_row--_propAssignmentRowBase--Qk4mQ raw_components--flushLeft--YH-5P"}}(i),{"prop_assignment_row--tempSelection--gl3SL":g}),recordingKey:`componentPropertyRow.${t}`,onMouseEnter:()=>V.dH({nodeIDs:n,defID:l.explicitDefID}),onMouseLeave:()=>V.dH({nodeIDs:[],defID:""})},R,P):null}function eI(e){switch(e){case b.O2.REGULAR:case void 0:return"prop_assignment_row--assignmentValueContainer--rO3FJ";case b.O2.WIDE:return"prop_assignment_row--assignmentValueContainerWide--mp3VT prop_assignment_row--assignmentValueContainer--rO3FJ";case b.O2.UNBOUNDED:return"prop_assignment_row--assignmentValueContainerUnbounded--jU7hP";case b.O2.RESIZABLE_SIDEBAR:return eg}}function eC(e){switch(e){case b.O2.REGULAR:case void 0:return"prop_assignment_row--assignmentValue--cDoaf";case b.O2.WIDE:return"prop_assignment_row--assignmentValueWide--qz5Td prop_assignment_row--assignmentValue--cDoaf";case b.O2.UNBOUNDED:return"prop_assignment_row--assignmentValueUnbounded--gufvh"}}function ek(e){switch(e){case b.O2.RESIZABLE_SIDEBAR:return s()(eg,ey);case b.O2.REGULAR:case b.O2.UNBOUNDED:case b.O2.WIDE:case void 0:return ey;default:(0,C.xb)(e)}}function eA({value:e,viewOnly:t,guids:n,typedPropDef:l,containerWidth:o,shouldShowVariableBinding:i,forBubbledProps:d}){let p=(0,a.wA)(),u=(0,y.R)(),_=(0,a.d4)(e=>e.instanceSwapPickerShown),g=r.useCallback(e=>{B.l7.user("toggle-bool-prop-assignment",()=>{(0,x.kc)().ds_variable_props_binding?m.glU.setComponentPropAssignmentVariableData(n,l.explicitDefID,(0,ei.WI)(m.rXF.BOOLEAN,e),d):m.glU.setBoolComponentPropAssignment(n,l.explicitDefID,e,d)}),_?.isShown&&p((0,F.vq)())},[_,n,l.explicitDefID,d,p]),f=r.useContext(en.p),E=r.useRef(null),h=r.useCallback(()=>{E.current&&f?.showBindingUI(E.current,{initialPosition:el.n(E.current)})},[E,f]);return r.createElement("div",{className:eI(o)},r.createElement("div",{className:eC(o)},r.createElement(X.e,{condition:i,wrapper:e=>r.createElement(Z.sJ,{noBorder:!0,recordingKey:c.Pt("componentPropAssignmentToggle","variableInputControl"),inputClassName:ek(o),isActive:f?.isShowingBindingUI??!1,onPickerOpen:h,ref:E},r.createElement("label",{className:L.cx.flex.alignCenter.flex1.$},e))},u?r.createElement(N.d,{checked:e,label:r.createElement(S.h,null,l.name),onChange:g,recordingKey:c.Pt("componentPropAssignmentToggle",n.join("-"),l.explicitDefID),disabled:t}):r.createElement(Q.l,{toggleClassName:s()({[ek(o)]:!i}),on:e,disabled:t,onChange:g,recordingKey:c.Pt("componentPropAssignmentToggle",n.join("-"),l.explicitDefID),forwardEventsToFullscreen:!0}))))}function ex({value:e,containerWidth:t,guids:n,typedPropDef:a,forBubbledProps:l}){let o=(0,U.gl)(e),i=e.value,s=(0,H.u)(i),d=(0,er.Px)(),p=r.useMemo(()=>m.CWU.getVariableSetKeyForPublish(s?.variableSetId??"")??"",[s?.variableSetId]),_=p in d?d[(0,O.yG)(p)]:void 0,g=(0,H.BQ)(i??void 0,_);return s?r.createElement("div",{className:eI(t)},r.createElement("div",{className:eC(t)},r.createElement("div",{className:ev},r.createElement(eo.P,{value:o?(0,u.t)("design_systems.component_properties.mixed"):s?.name,variableId:i&&!o?i:void 0,isStandalone:!0,thumbnailValue:"MIXED"!==g?g:void 0,isDeleted:(0,ea.eF)(s)})),r.createElement(J.K0,{className:eb,svg:eN.A,onClick:()=>{B.l7.user("component-prop-assignment",()=>m.glU.setComponentPropAssignmentVariableData(n,a.explicitDefID,g,l))},"data-tooltip":(0,u.t)("design_systems.component_properties.detach_property"),"data-tooltip-type":Y.Ib.TEXT,recordingKey:c.Pt("componentPropAssignment","detachVariableButton")}))):r.createElement(r.Fragment,null)}function eR({value:e,typedPropDef:t,guids:n,forBubbledProps:a,containerWidth:l,viewOnly:o,index:i,shouldShowVariableBinding:d}){let{inputRef:p,inputProps:{onChange:_,onFocus:g,onMouseLeave:f,onMouseUp:E,onKeyUp:h}}=(0,A.X)({onFocus:()=>{(0,U.gl)(e)?v(""):v(T)},onChange:e=>v(e.currentTarget.value)}),[y,v]=r.useState(null),w=r.useMemo(()=>(0,U.gl)(e)||!y?0:(0,b.T1)(y),[y,e]),T=(0,U.gl)(e)?(0,u.t)("design_systems.component_properties.mixed"):(0,b.lg)(Number(e)),N=()=>{(0,P.Vq)(y)&&B.l7.user("set-number-prop-assignment",()=>{(0,x.kc)().ds_variable_props_binding?m.glU.setComponentPropAssignmentVariableData(n,t.explicitDefID,(0,ei.WI)(m.rXF.FLOAT,w),a):m.glU.setNumberComponentPropAssignment(n,t.explicitDefID,w,a)}),p.current&&(p.current.scrollTop=0,p.current.blur()),v(null)},S=r.useContext(en.p),I=r.useCallback(()=>{p.current&&S?.showBindingUI(p.current,{initialPosition:el.n(p.current)})},[p,S]);return r.createElement("div",{className:eI(l)},r.createElement("div",{className:eC(l)},r.createElement(X.e,{condition:d,wrapper:e=>r.createElement(Z.sJ,{noBorder:!0,recordingKey:c.Pt("componentPropAssignmentNumberInput","variableInputControl"),isActive:S?.isShowingBindingUI??!1,onPickerOpen:I},e)},r.createElement($.v,{ref:e=>{e?.textarea&&(p.current=e.textarea)},className:s()({[eh]:o,[eE]:""===T&&!o,[ef]:!o&&""!==T}),value:null===y?T:y,placeholder:(0,U.gl)(e)?T:void 0,onChange:_,onFocus:g,onMouseLeave:f,onMouseUp:E,onKeyDown:e=>{e.keyCode!==R.Uz.ENTER||e.shiftKey||(e.preventDefault(),N())},onKeyUp:h,onBlur:N,disableInput:o,recordingKey:c.Pt("componentPropAssignmentNumberInput",n.join("-"),i)}))))}function eP({value:e,typedPropDef:t,guids:n,forBubbledProps:a,containerWidth:l,viewOnly:o,index:i,shouldShowVariableBinding:d}){let{inputRef:p,inputProps:{onChange:_,onFocus:g,onMouseLeave:f,onMouseUp:E,onKeyUp:h}}=(0,A.X)({onFocus:()=>{(0,U.gl)(e)?v(""):v(b)},onChange:e=>v(e.currentTarget.value)}),[y,v]=r.useState(null),b=t.type===m.J0O.TEXT?(0,U.gl)(e)?(0,u.t)("design_systems.component_properties.mixed"):e:null,w=()=>{(0,P.Vq)(y)&&B.l7.user("set-text-prop-assignment",()=>{(0,x.kc)().ds_variable_props_binding?m.glU.setComponentPropAssignmentVariableData(n,t.explicitDefID,(0,ei.WI)(m.rXF.TEXT_DATA,{characters:y}),a):m.glU.setTextComponentPropAssignment(n,t.explicitDefID,y,a)}),p.current&&(p.current.scrollTop=0,p.current.blur()),v(null)},T=r.useContext(en.p),N=r.useCallback(()=>{p.current&&T?.showBindingUI(p.current,{initialPosition:el.n(p.current)})},[p,T]);return r.createElement("div",{className:eI(l)},r.createElement("div",{className:eC(l)},r.createElement(X.e,{condition:d,wrapper:e=>r.createElement(Z.sJ,{noBorder:!0,recordingKey:c.Pt("componentPropAssignmentTextInput","variableInputControl"),isActive:T?.isShowingBindingUI??!1,onPickerOpen:N},e)},r.createElement($.v,{ref:e=>{e?.textarea&&(p.current=e.textarea)},className:s()({[eh]:o,[eE]:""===b&&!o,[ef]:!o&&""!==b}),value:null===y?b:y,placeholder:(0,U.gl)(e)?b:null,onChange:_,onFocus:g,onMouseLeave:f,onMouseUp:E,onKeyDown:e=>{e.keyCode!==R.Uz.ENTER||e.shiftKey||(e.preventDefault(),w())},onKeyUp:h,onBlur:w,disableInput:o,recordingKey:c.Pt("componentPropAssignmentTextInput",n.join("-"),i)}))))}function eO({value:e,viewOnly:t,guids:n,typedPropDef:l,containerWidth:o,forBubbledProps:i,inPlayground:s,sceneGraph:c,instanceSwapPickerInitialHeight:d,instanceSwapPickerInitialPosition:p,entrypointForInstanceSwapPicker:_}){let g=(0,a.wA)(),f=(0,a.d4)(z.sS),{preferredValues:E,preferredValuesFetchError:h,retryPreferredValuesFetch:y}=(0,es.xP)(l),v=r.useMemo(()=>h?r.createElement(ec.u,{onRetry:y,recordingKey:"componentPropAssignment"}):void 0,[h,y]),w=r.useCallback(e=>{g((0,K.uP)({item:e,alwaysFetch:s,targetUpsertScene:s?m.ZiZ.PLAYGROUND_SCENE:m.ZiZ.ACTIVE_SCENE,callback:t=>{B.l7.user("set-instance-prop-assignment",()=>m.glU.setInstanceComponentPropAssignment(n,l.explicitDefID,t,e.type===W.PW.STATE_GROUP?(0,b.ui)(e,t,f):"",i,0===E.length?m.VQu.NOT_APPLICABLE:E.includes(e)?m.VQu.YES:m.VQu.NO))}})),V.dH({nodeIDs:[],defID:""})},[g,i,n,f,s,E,l]),T=(0,I.Bq)(n.map(e=>m.glU.getInstanceSublayersControlledByDirectPropAssignment(e,l.explicitDefID).map(e=>k.v.toGuid(e)))),{modalWidth:N}=(0,D.TQ)(D.Zl.INSTANCE_SWAP_PICKER);return r.createElement("div",{className:eI(o)},r.createElement("div",{className:eC(o)},r.createElement(q.x,{fill:o===b.O2.UNBOUNDED,pickerID:`instance-swap-prop-assignment-picker-${n.join("-")}.${l.explicitDefID}`,pickerWidth:N,shouldPerformSwapOnClick:!1,instanceSwapNode:e,title:(0,u.t)("design_systems.component_properties.choose_instance"),disableToggle:t,preferredItems:E,preferredValuesErrorComponent:v,onSwapCallback:w,sceneGraph:c,instanceSwapPickerInitialHeight:d,initialPosition:p,entrypointForLogging:_})),r.createElement(j.h_,{instanceAndSublayerGUIDs:T,showAllInstanceOptions:!1}))}function eD({typedPropDefs:e,guids:t,assignmentValues:n,forBubbledProps:a,sceneGraph:l,inPlayground:o,containerWidth:i,viewOnly:s,hideIcon:c,instanceSwapPickerInitialHeight:d,instanceSwapPickerInitialPosition:p,recordingKey:u,entrypointForInstanceSwapPicker:m}){return r.createElement(T.q,{listItems:e,updateSelection:void 0,isDragDisabled:!0,renderListItem:(e,u)=>r.createElement(eS,{key:u,typedPropDef:e,guids:t,index:u,value:n[e.explicitDefID],containerWidth:i,viewOnly:s,hideIcon:c,forBubbledProps:a,sceneGraph:l,inPlayground:o,instanceSwapPickerInitialHeight:d,instanceSwapPickerInitialPosition:p,entrypointForInstanceSwapPicker:m}),recordingKey:u})}var eL=n(268537),eM=n(356390),eF=n(233890),eK=n(109388),eB=n(221768),eV=n(536825),eU=n(498481),eH=n(31524),ez=n(91408),eG=n(794272),eW=n(574176),eY=n(738269),eX=n(293017),eZ=n(234945),e$=n(420186),ej=n(224690);function eq({children:e,inputRef:t,canEdit:n}){return n?r.createElement("div",{className:"false_input_containing_svg--falseInput--cKug0 raw_components--borderFocusWithin--BaipZ",onClick:()=>t.current?.focus(),role:"textbox",tabIndex:0},e):r.createElement("div",{className:L.cx.hFull.wFull.relative.$},e)}var eJ=n(731262),eQ=n(767129),e0=n(631437),e1=n(540721),e5=n(572206),e2=n(827586),e7=n(46481),e4=n(83909),e3=n(371623),e8=n(538697),e6=n(746806),e9=n(472335);let te="edit_component_prop_picker--subheading--JbXut",tt="edit_component_prop_picker--inputContainer--B8MrR",tn="edit_component_prop_picker--fieldContainer--OMz1x",tr="edit_component_prop_picker--input--pTw-O edit_component_prop_picker--baseInput--xQ5tc raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V",ta="edit_component_prop_picker--textArea--SQ8dT edit_component_prop_picker--baseInput--xQ5tc raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V",tl="edit_component_prop_picker--valueRowGrabber--Bl-te",to="edit_component_prop_picker--variantValueInput--i1oj6 edit_component_prop_picker--input--pTw-O edit_component_prop_picker--baseInput--xQ5tc raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V";var ti=n(717945),ts=n(953663);let tc="edit-component-prop-picker";function td({componentPropDef:e}){let{instanceSwapDefaultValue:t,openFileKey:n,pickerShown:l,dropdownShown:o,allStates:i,propertySortOrder:s,isInstanceSwapPickerShown:p}=(0,eG.R)(t=>({instanceSwapDefaultValue:e?.type===m.J0O.INSTANCE_SWAP?(0,b.wd)([e.defaultValue],t.mirror.sceneGraph):null,openFileKey:(0,z.sS)(t),pickerShown:t.pickerShown,dropdownShown:t.dropdownShown,allStates:(0,h.ow)(t)??[],propertySortOrder:(0,h.OC)(t)??[],isInstanceSwapPickerShown:t.instanceSwapPickerShown.isShown})),f=(0,_.eY)(),E=(0,a.wA)(),[y,v]=r.useState(null),[w,T]=r.useState(e.type===m.J0O.TEXT?e.defaultValue:""),[N,S]=r.useState(e.type===m.J0O.NUMBER?e.defaultValue:0),I=r.useCallback(e=>{(0,b.Rq)(e)&&S((0,b.T1)(e))},[]),k=r.useCallback(e=>v(e.currentTarget.value),[]),{inputRef:P,inputProps:{onChange:O,onFocus:L,onMouseUp:M,onMouseLeave:V,onKeyUp:U}}=(0,A.X)({onFocus:t=>{v(e.name)},onChange:k,autoFocus:!0}),H=r.useCallback(()=>{y&&y!==e.name&&(e.kind===g.u.TYPED?B.l7.user("edit-prop-def-name",()=>m.glU.editComponentPropDefName(e.explicitDefID,y)):B.l7.user("edit-variant-prop-name",()=>(0,eJ.q1)(e.name,y,i,s)))},[e,y,i,s]),G=r.useCallback(()=>{l&&E(eX.u1({id:tc,initialX:l.initialX,initialY:l.initialY,data:e.kind===g.u.TYPED?{defID:e.explicitDefID}:{name:y}}))},[l,E,e,y]),Y=r.useCallback(e=>{H(),v(null)},[H]),X=r.useCallback(t=>{e.type===m.J0O.BOOL&&t!==(0,b.dl)(m.J0O.BOOL,e.defaultValue)&&B.l7.user("edit-prop-default-value",()=>m.glU.editBoolComponentPropDefDefaultValue(e.explicitDefID,t))},[e]),Z=r.useCallback(()=>{e.type===m.J0O.TEXT&&w&&w!==e.defaultValue&&B.l7.user("edit-prop-default-value",()=>m.glU.editTextComponentPropDefDefaultValue(e.explicitDefID,w))},[e,w]),j=r.useCallback(()=>{e.type===m.J0O.NUMBER&&N&&N!==e.defaultValue&&B.l7.user("edit-prop-default-value",()=>m.glU.editNumberComponentPropDefDefaultValue(e.explicitDefID,N))},[e,N]),{preferredValues:J,handleSetPreferredValues:Q,togglePreferredValues:ee,preferredValuesFetchError:et,retryPreferredValuesFetch:en}=(0,es.xP)(e),er=r.useMemo(()=>et?r.createElement(ec.u,{onRetry:en,recordingKey:"editComponentPropDef"}):void 0,[et,en]),ea=r.useCallback(()=>{E(eX.XE()),E((0,F.vq)())},[E]),el=e=>{e.stopPropagation(),e.keyCode!==R.Uz.ENTER||e.shiftKey||e.currentTarget.blur()},eo=new e5.Mi(l?.initialX,l?.initialY),{modalWidth:ei}=(0,D.TQ)(D.Zl.INSTANCE_SWAP_PICKER);return(0,x.kc)().ds_variable_props_number_type||e.type!==m.J0O.NUMBER?r.createElement(e6.vx,{title:(0,u.t)("design_systems.component_properties.edit_component_property",{propType:(0,b.xb)(e.type).toLocaleLowerCase()}),initialPosition:eo,initialWidth:b.wh,headerSize:"small",onClose:ea,onClick:p?()=>E((0,F.vq)()):void 0,recordingKey:c.Pt("editComponentPropDefPicker",e.kind===g.u.VARIANT?e.name:e.explicitDefID)},r.createElement("div",{className:tn},r.createElement("p",{className:te},(0,u.tx)("design_systems.component_properties.name")),r.createElement(d.u2,{forwardedRef:P,className:tr,onChange:O,onKeyDown:e=>{e.stopPropagation(),e.keyCode!==R.Uz.ENTER||e.shiftKey||(e.currentTarget.blur(),G()),e.keyCode===R.Uz.ESCAPE&&(e.currentTarget.blur(),ea()),e.keyCode===R.Uz.TAB&&G()},onBlur:Y,onClick:()=>E((0,F.vq)()),onFocus:L,value:null===y?e?.name||"":y,onMouseUp:M,onMouseLeave:V,onKeyUp:U,recordingKey:"editComponentPropName"})),e.kind===g.u.TYPED?r.createElement("div",{className:tn},r.createElement("p",{className:te},(0,u.tx)("design_systems.component_properties.default_value")),(()=>{if(e.kind===g.u.VARIANT)return null;switch(e.type){case m.J0O.BOOL:return r.createElement("div",{className:tt},r.createElement(e8.l6,{id:"edit-component-prop-default-value-select",property:(0,b.dl)(m.J0O.BOOL,e.defaultValue),onChange:X,dispatch:E,formatter:b.X9,dropdownShown:o,inputClassName:tr,recordingKey:c.Pt("editComponentPropDefaultValue",(0,b.xb)(e.type))},r.createElement(e8.c$,{value:!0}),r.createElement(e8.c$,{value:!1})));case m.J0O.TEXT:return r.createElement("div",{className:tt},r.createElement($.v,{className:ta,onChange:e=>B.l7.user("edit-prop-default-value",()=>T(e.currentTarget.value)),onBlur:Z,onKeyDown:el,value:w,onFocus:e=>e.currentTarget?.select(),recordingKey:c.Pt("editComponentPropDefaultValue",(0,b.xb)(e.type))}));case m.J0O.INSTANCE_SWAP:return r.createElement("div",{className:tt},r.createElement(q.x,{pickerID:`edit-instance-swap-prop-picker-${e.explicitDefID}`,pickerWidth:ei,shouldPerformSwapOnClick:!0,instanceSwapNode:t,title:(0,u.t)("design_systems.component_properties.choose_default_instance_value"),preferredItems:J,preferredValuesErrorComponent:er,sceneGraph:f,onSwapCallback:t=>{E((0,K.uP)({item:t,callback:r=>{let a=t.type===W.PW.STATE_GROUP?(0,b.ui)(t,r,n):r;B.l7.user("edit-prop-default-value",()=>m.glU.editInstanceComponentPropDefDefaultValue(e.explicitDefID,a))}}))},entrypointForLogging:e3.S.InstancePickerEntrypoint.EDIT_COMPONENT_PROP_PICKER}));case m.J0O.NUMBER:return r.createElement("div",{className:tt},r.createElement($.v,{className:ta,onChange:e=>B.l7.user("edit-prop-default-value",()=>I(e.currentTarget.value)),onBlur:j,onKeyDown:el,value:(0,b.lg)(N),onFocus:e=>e.currentTarget?.select(),recordingKey:c.Pt("editComponentPropDefaultValue",(0,b.xb)(e.type))}));default:(0,C.xb)(e)}})()):r.createElement(tp,{def:e}),e.type===m.J0O.INSTANCE_SWAP&&r.createElement(e9.D,{recordingKey:"edit-component-prop-preferred-values-picker",swapPickerId:"edit-component-prop-preferred-values-picker",swapPickerWidth:ei,onSetComponents:Q,addComponents:e=>ee(e,es.Kn.ADD),removeComponents:e=>ee(e,es.Kn.REMOVE),toggleComponent:e=>ee([e]),values:J,propDefDefaultValue:(0,b.dl)(e.type,e.defaultValue),entrypointForLogging:e3.S.PreferredValuesPickerEntrypoint.EDIT_COMPONENT_PROP_PICKER})):null}function tp({def:e}){let{allStates:t,stateGroup:n,stateGroupPropertySortOrder:a}=(0,eG.R)(e=>({allStates:(0,h.ow)(e),stateGroup:(0,h.NA)(e),stateGroupPropertySortOrder:(0,h.OC)(e)})),[l,o]=r.useState([]),[i,s]=r.useState(null),[d,p]=r.useState(null),_=(0,y.R)(),g=r.useCallback(t=>{let r=n?.nodeId;r&&t.length===e.values.length&&B.l7.user("reorder-variant-prop-values",()=>{for(let n=0;n<t.length;n++)t[n]!==e.values[n]&&m.glU.reorderStateGroupPropertyValue(r,e.name,t[n],n)})},[n,e]),f=r.useMemo(()=>{let n={};return t?.forEach(t=>{let r=t.stateInfo.propertyValues;if(!r)return;let a=r[e.name];a in n||(n[a]=[]),n[a].push(t.symbol.node_id)}),n},[t,e]),E=r.useCallback(e=>{V.wr(),V.Dh(f[e]??[]),m.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},[f]),b=r.useCallback((n,r)=>{t&&a&&""!==(r=(0,eJ.QV)(r))&&(B.l7.user("rename-variant-prop-value",()=>{t.forEach(t=>{let l=t.stateInfo.propertyValues;l&&l[e.name]===n&&V.i(t.symbol.node_id,(0,eJ.zh)({...l,[e.name]:r},a))})}),eM.Y5.commit(),e4.wt.reportEditAction("rename-states"),p(null))},[t,e,a]),w=r.useCallback((e,t)=>{e.keyCode===R.Uz.ENTER&&b(t,e.currentTarget.value)},[b]),N=r.useRef(null),[S,I]=r.useState(!1),C=r.useCallback(()=>I(!0),[]),k=r.useCallback(()=>I(!1),[]);return(0,e1.C)(N.current?.getScrollContainer(),S),r.createElement(r.Fragment,null,r.createElement("p",{className:"edit_component_prop_picker--variantValuesSubheading--L0zoU edit_component_prop_picker--subheading--JbXut"},(0,u.tx)("design_systems.component_properties.values")),r.createElement(e2.P,{className:"edit_component_prop_picker--variantList--K6wCE",ref:N},r.createElement(T.q,{listItems:e.values,selectedIndices:l,updateSelection:o,onChange:g,onDragStart:C,onDragEnd:k,renderListItem:(t,n,a,l,u,g,h)=>{let y=t in f?f[t]:[],N=y.length,S=d===n;function I(){s(n),m.Ez5.canvasViewState().temporarilyHoveredNodes.set(y)}function C(){s(null),m.Ez5.canvasViewState().temporarilyHoveredNodes.set([])}return _?r.createElement(v.Y9,{selected:a,singletonRow:1===e.values.length,dragging:l,onMouseDown:u,onMouseMove:g,onMouseUp:h,onMouseEnter:I,onMouseLeave:C,recordingKey:c.Pt("variantPropertyValueRow",t),grabberClassName:tl},r.createElement(v.oO,{input:r.createElement(tu,{value:t,index:n,isRenaming:S,onInputKeyDown:w,setRenamingIndex:p,setSelectedIndices:o,renameValueForAllStates:b})},i===n&&!l&&r.createElement(tm,{value:t,numVariantsWithPropertyValue:N,selectVariantsWithPropertyValue:E}))):r.createElement(T.e,{selected:a,singletonRow:1===e.values.length,dragging:l,onMouseDown:u,onMouseMove:g,onMouseUp:h,onMouseEnter:I,onMouseLeave:C,recordingKey:c.Pt("variantPropertyValueRow",t),grabberClassName:tl,className:l||a?"edit_component_prop_picker--variantValueRow--83Sb2":"edit_component_prop_picker--variantValueRowWithHover--jS1pH edit_component_prop_picker--variantValueRow--83Sb2"},r.createElement(tu,{value:t,index:n,isRenaming:S,onInputKeyDown:w,setRenamingIndex:p,setSelectedIndices:o,renameValueForAllStates:b}),i===n&&!l&&r.createElement(tm,{value:t,numVariantsWithPropertyValue:N,selectVariantsWithPropertyValue:E}))}})))}function tu({value:e,index:t,isRenaming:n,onInputKeyDown:a,setRenamingIndex:l,setSelectedIndices:o,renameValueForAllStates:i}){return r.createElement("div",{className:"edit_component_prop_picker--variantValueInputWrapper---9s9m"},n?r.createElement(d.u2,{className:to,onKeyDown:t=>a(t,e),onBlur:t=>i(e,t.currentTarget.value),recordingKey:c.Pt("editVariantPropertyValue",t),defaultValue:e,onFocus:e=>e.target?.select(),autoFocus:!0}):r.createElement(d.D8,{className:to,onMouseDown:e=>e.stopPropagation(),onFocus:()=>{l(t),o([t])},tabIndex:0,recordingKey:c.Pt("variantValueName",t)},e))}function tm({value:e,numVariantsWithPropertyValue:t,selectVariantsWithPropertyValue:n}){let a=(0,u.t)("design_systems.component_properties.select_variants_with_property_value",{numVariants:t});return r.createElement(eQ.K,{disabled:!t,onClick:()=>n(e),"aria-label":a,recordingKey:c.Pt("editComponentPropDefPicker","targetButton"),htmlAttributes:{onMouseDown:e=>e.stopPropagation(),"data-tooltip":a,"data-tooltip-type":Y.Ib.TEXT}},r.createElement(e7.U,{svg:ts.A,fallbackSvg:ti.A},r.createElement(e0.A,null)))}var t_=n(107244),tg=n(860168);let tf="component_prop_def_row--input--Heq8r props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V",tE="component_prop_def_row--componentPropDefName--bUVTI ellipsis--ellipsis--Tjyfa sf_pro--uiFontWithSFProFallback--m-p9V",th="component_prop_def_row--componentPropVariantValues--mTqSx",ty="component_prop_def_row--selectedRowIcon--3uhSg",tv="component_prop_def_row--rowAction--rAfBQ",tb="component_prop_def_row--selectedRowAction--P8TAv component_prop_def_row--rowAction--rAfBQ";var tw=n(531800),tT=n(999918),tN=n(87171),tS=n(349307);let tI="typed-prop-def-del-dropdown",tC="variant-prop-def-del-dropdown",tk=e=>{e.stopPropagation()},tA=e=>{e.stopPropagation(),e.preventDefault()};function tx(e){let{index:t,guids:n,componentPropDef:l,isSelected:o,isDragging:i,singletonRow:s,onPropertyMouseDown:d,onPropertyMouseMove:p,onPropertyMouseUp:u,selectRow:_,onKeyDown:f,recordingKey:E}=e,v=(0,y.R)(y.G.READY),w=r.useMemo(ej.Pe,[]),{pickerShown:T,selectedComponentPropDefId:N,componentWithPropDefSelected:S,allStates:I,propertySortOrder:C}=(0,eG.R)(e=>{let t=(0,eZ.qd)(e),n=1===t.length?w(e,t[0]):[];return{pickerShown:e.pickerShown,selectedComponentPropDefId:e.selectedComponentPropDefId,componentWithPropDefSelected:l.kind===g.u.TYPED&&n.some(e=>e.explicitDefID===l.explicitDefID),allStates:(0,h.ow)(e)??[],propertySortOrder:(0,h.OC)(e)??[]}}),k=(0,a.d4)(t_.Nw),x=(0,a.wA)(),P=r.useCallback(e=>W(e.currentTarget.value),[]),{inputRef:O,inputProps:{onChange:D,onFocus:L,onMouseLeave:K,onMouseUp:U}}=(0,A.X)({onChange:P}),[H,z]=r.useState(!1),[G,W]=r.useState(null),Y=r.useRef(null),X=r.useRef(null),Z=r.useRef(null),$=l.kind===g.u.TYPED?l.explicitDefID:void 0,j=l.kind===g.u.TYPED?l.type:void 0,q=l.kind===g.u.VARIANT?l.values:void 0,J=N&&N===$,Q=null!==G,ee=r.useMemo(()=>T?.id===tc&&(l.kind===g.u.TYPED?T.data.defID===$:T.data.name===l.name),[l,T,$]);r.useEffect(()=>{Q&&O.current?.select()},[Q,O]);let et=()=>{G&&(W(null),l.kind===g.u.TYPED?B.l7.user("edit-prop-def-name",()=>m.glU.editComponentPropDefName(l.explicitDefID,G)):l.kind===g.u.VARIANT&&B.l7.user("edit-variant-prop-name",()=>(0,eJ.q1)(l.name,G,I,C)))},en=r.useCallback(()=>{x(M.n0({propDefId:null})),x((0,F.vq)());let e=eK.findDOMNode(v?X.current:Y.current),t=e?(0,e$.cn)(e,b.wh):{};x(eX.u1({id:tc,initialX:t?.x,initialY:t?.y,data:l.kind===g.u.TYPED?{defID:$}:{name:l.name}}))},[x,v,l,$]);r.useEffect(()=>{J&&S&&!ee&&en()},[J,S,ee,en]);let er=r.useCallback(e=>{T?.id!==tc||ee||x(eX.XE()),u&&u(e)},[x,ee,T,u]),ea=r.useCallback(()=>{ee?x(eX.XE()):(en(),_())},[x,ee,_,en]),el=r.useCallback(()=>{z(!0),$&&V.dH({nodeIDs:n,defID:$})},[n,$]),eo=r.useCallback(()=>{z(!1),V.dH({nodeIDs:[],defID:""})},[]),ei=r.useCallback(e=>{if(l.kind===g.u.VARIANT&&s){x(eY.oB());return}T?.id===tc&&x(eX.XE()),x(eY.j7({type:l.kind===g.u.TYPED?tI:tC,data:{position:{top:e.clientY,left:Math.min(e.clientX,window.innerWidth-(0,ez.hG)(tg.uj0)/2)}}}))},[x,l.kind,s,T]),ec=(0,c.rf)(E,"contextmenu",e=>{ei(e)}),ed=(0,c.rf)(E,"mouseenter",e=>{el()}),ep=(0,c.rf)(E,"mouseleave",e=>{eo()}),eu=(0,c.rf)(E,"mouseup",e=>{er(e)}),em=(0,c.rf)(E,"mousedown",e=>{Q&&W(null),ee&&x(eX.XE()),d&&d(e)}),e_=(0,c.rf)(E,"mousemove",e=>{p&&p(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),eg=c.rf(E,"dblclick",()=>{_(),W(l.name)}),ef=Z.current,eE=!!ef&&ef.offsetWidth<ef.scrollWidth,{preferredValues:eh}=(0,es.xP)(l),ey=(0,es.wS)(eh).size>0,ev=!Q&&(l.error!==m.uXg.NONE||ey),eb=!Q&&(H||ee),ew=v?tP:tR;return r.createElement(ew,{isSelected:o,singletonRow:s,isDragging:i,handlePropertyMouseDown:em,handlePropertyMouseMove:e_,handlePropertyMouseUp:eu,handlePropertyMouseEnter:ed,handlePropertyMouseLeave:ep,handleContextMenu:ec,onDoubleClick:eg,onKeyDown:f,rowRef:Y,ui3RowRef:X,typedPropType:j,isEditingDefName:Q,defNameInputRef:O,componentPropDef:l,defNameInputOnMouseUp:U,defNameInputOnMouseLeave:K,defNameInputOnFocus:L,onInputKeyDown:e=>{e.stopPropagation(),(e.keyCode===R.Uz.ESCAPE||e.keyCode===R.Uz.ENTER)&&et()},defNameInputOnChange:D,submitDefName:et,defNameRef:Z,index:t,isDefNameTruncated:eE,variantPropValues:q,shouldShowEditIcons:eb,editComponentPropPickerShown:ee,toggleEditPropPicker:ea,onDeleteProp:()=>{l.kind===g.u.TYPED?B.l7.user("delete-prop-def",()=>m.glU.deleteComponentPropDefs([l.explicitDefID])):k&&B.l7.user("delete-variant-prop",()=>(0,eJ.bk)([l.name],I,C,k))},shouldShowErrorIcon:ev,preferredValuesUnpublishedError:ey})}function tR({isSelected:e,singletonRow:t,isDragging:n,handlePropertyMouseDown:a,handlePropertyMouseMove:l,handlePropertyMouseUp:o,handlePropertyMouseEnter:i,handlePropertyMouseLeave:s,handleContextMenu:p,onDoubleClick:_,onKeyDown:g,rowRef:f,typedPropType:E,isEditingDefName:h,defNameInputRef:y,componentPropDef:v,defNameInputOnMouseUp:w,defNameInputOnMouseLeave:N,defNameInputOnFocus:S,onInputKeyDown:I,defNameInputOnChange:C,submitDefName:k,defNameRef:A,index:x,isDefNameTruncated:R,variantPropValues:P,shouldShowEditIcons:O,editComponentPropPickerShown:D,toggleEditPropPicker:L,onDeleteProp:M,shouldShowErrorIcon:F,preferredValuesUnpublishedError:K}){return r.createElement(r.Fragment,null,r.createElement(T.e,{selected:e,singletonRow:t,dragging:n,hideGrabber:!1,onMouseDown:a,onMouseMove:l,onMouseUp:o,onMouseEnter:i,onMouseLeave:s,onContextMenu:p,onDoubleClick:_,onKeyDown:g,tabIndex:0,ref:f},r.createElement("div",{className:"component_prop_def_row--componentPropRow--qb8-e"},r.createElement(eW.B,{svg:E?(0,b.qe)(E):tw.A,className:e?"component_prop_def_row--componentPropIconSelected--uZsSM component_prop_def_row--componentPropIcon--OrfM-":"component_prop_def_row--componentPropIcon--OrfM-","data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,b.xb)(E??m.J0O.VARIANT)})}),h?r.createElement(d.u2,{forwardedRef:y,className:tf,defaultValue:v.name,onMouseUp:w,onMouseLeave:N,onFocus:S,onMouseDown:e=>tk(e),onKeyDown:I,onChange:C,onBlur:k,onContextMenu:tA,recordingKey:"componentPropRowDefNameInput"}):r.createElement(r.Fragment,null,r.createElement(d.D8,{forwardedRef:A,className:E?tE:"component_prop_def_row--componentPropDefVariantName--vZEqv component_prop_def_row--componentPropDefName--bUVTI ellipsis--ellipsis--Tjyfa sf_pro--uiFontWithSFProFallback--m-p9V",recordingKey:c.Pt("componentPropDefName",x),"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":R?v.name:null},v.name),P&&r.createElement("div",{className:th},P.join((0,u.t)("design_systems.component_properties.variant_property_values_delimiter")))),O&&r.createElement(r.Fragment,null,r.createElement(J.YW,{svg:tT.A,recordingKey:"componentPropEditButton",className:e&&!D?ty:void 0,onClick:L,onDoubleClick:tk,onMouseDown:tk,onContextMenu:tA,selected:D,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.component_properties.edit_property")}),r.createElement(J.K0,{svg:tS.A,recordingKey:"componentPropDeleteButton",className:e?ty:void 0,onClick:M,onDoubleClick:tk,onMouseDown:tk,onContextMenu:tA,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.component_properties.delete_property",{numSelected:1})})),F&&r.createElement(eW.B,{svg:tN.A,className:"component_prop_def_row--componentPropIconError--BikGf","data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,b.iz)(v.error,K),"data-tooltip-offset-y":1,"data-tooltip-timeout-delay":50}))),D&&r.createElement(td,{componentPropDef:v}))}function tP({isSelected:e,singletonRow:t,isDragging:n,handlePropertyMouseDown:a,handlePropertyMouseMove:l,handlePropertyMouseUp:o,handlePropertyMouseEnter:i,handlePropertyMouseLeave:s,handleContextMenu:p,onDoubleClick:_,onKeyDown:g,ui3RowRef:f,typedPropType:E,isEditingDefName:h,defNameInputRef:y,componentPropDef:w,defNameInputOnMouseUp:T,defNameInputOnMouseLeave:N,defNameInputOnFocus:S,onInputKeyDown:I,defNameInputOnChange:C,submitDefName:k,defNameRef:A,index:x,isDefNameTruncated:R,variantPropValues:P,shouldShowEditIcons:O,editComponentPropPickerShown:D,toggleEditPropPicker:L,onDeleteProp:M,shouldShowErrorIcon:F,preferredValuesUnpublishedError:K}){let B=[],V=h||D;return O&&B.push(r.createElement(J.YW,{recordingKey:"componentPropEditButton",className:e&&!V?tb:tv,onClick:L,onDoubleClick:tk,onMouseDown:tk,onContextMenu:tA,selected:D,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.component_properties.edit_property")},r.createElement(eB.A,null)),r.createElement(J.K0,{recordingKey:"componentPropDeleteButton",className:e&&!V?tb:tv,onClick:M,onDoubleClick:tk,onMouseDown:tk,onContextMenu:tA,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.component_properties.delete_property",{numSelected:1})},r.createElement(eV.O,null))),F&&B.push(r.createElement("span",{"data-testid":`component-prop-error-icon-${x}`,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,b.iz)(w.error,K),"data-tooltip-offset-y":1,"data-tooltip-timeout-delay":50},r.createElement(eU.r,null))),r.createElement(r.Fragment,null,r.createElement(v.Y9,{selected:e,selectedSecondary:e&&V,singletonRow:t,dragging:n,hideGrabber:!1,onMouseDown:a,onMouseMove:l,onMouseUp:o,onMouseEnter:i,onMouseLeave:s,onContextMenu:p,onDoubleClick:_,onKeyDown:g,tabIndex:0,ref:f},r.createElement(tO,{leftInput:h?r.createElement(eq,{inputRef:y,canEdit:!0},E?(0,b.zn)(E):r.createElement(eH.y,null),r.createElement(d.u2,{forwardedRef:y,className:tf,defaultValue:w.name,onMouseUp:T,onMouseLeave:N,onFocus:S,onMouseDown:e=>tk(e),onKeyDown:I,onChange:C,onBlur:k,onContextMenu:tA,recordingKey:"componentPropRowDefNameInput"})):r.createElement("div",{className:e&&!V?"component_prop_def_row--ui3ComponentPropDefNameContainerSelected--QaYYW component_prop_def_row--ui3ComponentPropDefNameContainer--fBQXq component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g":"component_prop_def_row--ui3ComponentPropDefNameContainer--fBQXq component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g"},r.createElement("span",{"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,b.xb)(E??m.J0O.VARIANT)})},E?(0,b.zn)(E):r.createElement(eH.y,null)),r.createElement(d.D8,{forwardedRef:A,className:tE,recordingKey:c.Pt("componentPropDefName",x),"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":R?w.name:null},w.name)),rightInput:P&&r.createElement("div",{className:th},P.join((0,u.t)("design_systems.component_properties.variant_property_values_delimiter")))},...B)),D&&r.createElement(td,{componentPropDef:w}))}function tO({leftInput:e,rightInput:t,children:n}){return null==t?r.createElement(v.oO,{input:e},n):r.createElement("div",{className:"component_prop_def_row--ui3VariantPropDefRowInner--UHilq ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu","data-non-interactive":!0},r.createElement("div",{className:"component_prop_def_row--ui3FirstInput--3ucuN","data-non-interactive":!0},e),r.createElement("div",{className:"component_prop_def_row--ui3SecondInput--oWKln","data-non-interactive":!0},t),r.createElement("div",{className:"component_prop_def_row--ui3ManyIcons--MlXfX ui3_rows--manyIcons--OIw9V"},n))}let tD=eL.ms,tL=eL.c$;function tM({defs:e,guids:t,selectedIndices:n,onSelectIndices:l,recordingKey:o}){let i=(0,a.d4)(e=>e.dropdownShown),s=i?.type===tI,d=e=>(e?.key==="Backspace"||e?.key==="Delete")&&(g(),!0),p=c.v_(o,"keydown",e=>{d(e)}),_=c.fo(`${o}.fullscreen`,"keydown",e=>{d(e.event)&&e.accept()}),g=r.useCallback(()=>{if(!n.length)return;let t=n.map(t=>e[t].explicitDefID);B.l7.user("delete-prop-defs",()=>m.glU.deleteComponentPropDefs(t))},[e,n]),f=r.useCallback((e,t,n)=>{let r=t?t.explicitDefID:"",a=n?n.explicitDefID:"";B.l7.user("reorder-prop-defs",()=>e.forEach(e=>{m.glU.insertPropDefBetween(e.explicitDefID,r,a),r=e.explicitDefID})),eM.Y5.commit()},[]),E=r.useRef(null);return r.useEffect(()=>{n.length?E.current?.focus():E.current?.blur()},[n]),r.createElement(eF.vL,{handleKeyDown:_,ref:E,name:"typed-props-list",focusOnMount:!0},r.createElement(T.q,{listItems:e,selectedIndices:n,updateSelection:l,onInsertItemsBetweenValues:f,renderListItem:(n,a,i,s,d,u,m)=>r.createElement(tx,{key:a,index:a,guids:t,componentPropDef:n,isSelected:i,isDragging:s,selectRow:()=>l([a]),singletonRow:1===e.length,onPropertyMouseDown:d,onPropertyMouseMove:u,onPropertyMouseUp:m,onKeyDown:p,recordingKey:c.Pt(o,"row",a)}),recordingKey:o}),s&&!!n.length&&r.createElement(tD,{style:i.data.position,positionFixed:!0},r.createElement(tL,{onClick:g,recordingKey:"deleteProp"},(0,u.tx)("design_systems.component_properties.delete_property",{numSelected:n.length}))))}var tF=n(535904),tK=n(416580),tB=n(473199),tV=n(44948),tU=n(236478),tH=n(496470),tz=n(83695),tG=n(830002),tW=n(776621),tY=n(761334),tX=n(510879),tZ=n(975687),t$=n(5068);let tj={format:e=>e||eJ.xJ},tq=e=>{let t=(0,a.d4)(eZ.dK);return(0,x.kc)().variables_nested_variant_props||e.every(e=>{let n=t.get(e);return!!n&&!n.isSymbolSublayer&&!n.isInstanceSublayer})};function tJ(e){let{guids:t,index:n,variantPropDef:l,stateGroupGUID:o,allStateVariantProps:i,backingStateVariantProps:d,statePropertyValues:p,forBubbledProps:_,containerWidth:g,viewOnly:f,hideIcon:E,selectedPropertyValueHistory:h,sceneGraph:w,updateHistory:T}=e,N=(0,a.wA)(),S=(0,a.d4)(e=>e.instanceSwapPickerShown),I=(0,G.J2)(m.Ez5.editorState().inPlaygroundMode),C=(0,tG.D5)(l.name,l.values),k=(0,tV.k9)(()=>(0,tX.D)(t,w),[t,w]),A=r.useRef(null),R=r.useRef(null),D=(0,y.R)(),{isBound:M,setBinding:V,boundVariableId:z,onExpressionSubmitted:W,variableConsumptionMapValue:X}=function(e){let t=(0,a.wA)(),{variableConsumptionMap:n,setVariableConsumptionMap:l}=(0,er.R1)(),{consumedVariable:o,updateVariableConsumption:i,clearVariableConsumption:s}=(0,er.u3)(["VARIANT_PROPERTIES"]),c=(0,r.useCallback)(n=>{let r={},a=o&&(0,U.hS)(o)&&o.type===m.Z_n.EXPRESSION?o.value.expressionArguments[0]:{type:m.Z_n.MAP,resolvedType:m.rXF.MAP,value:{}};n?t((0,K.Yi)({item:n,callback:t=>{n.resolvedType===m.rXF.STRING?a.value[e]={type:m.Z_n.ALIAS,resolvedType:m.rXF.STRING,value:t}:(n.resolvedType===m.rXF.BOOLEAN||n.resolvedType===m.rXF.FLOAT)&&(a.value[e]={type:m.Z_n.EXPRESSION,resolvedType:m.rXF.STRING,value:{expressionFunction:m.JTp.STRINGIFY,expressionArguments:[(0,er.y$)(n.resolvedType,t)]}}),r.VARIANT_PROPERTIES={type:m.Z_n.EXPRESSION,resolvedType:m.rXF.SYMBOL_ID,value:{expressionArguments:[a],expressionFunction:m.JTp.RESOLVE_VARIANT}},l(r),(0,tY.ty)(t,n.resolvedType)}})):(delete a.value[e],0===Object.keys(a.value).length?r.VARIANT_PROPERTIES=null:r.VARIANT_PROPERTIES={type:m.Z_n.EXPRESSION,resolvedType:m.rXF.SYMBOL_ID,value:{expressionArguments:[a],expressionFunction:m.JTp.RESOLVE_VARIANT}},l(r))},[o,l,t,e]),d=(0,r.useCallback)(t=>{let r=n.VARIANT_PROPERTIES&&!n.VARIANT_PROPERTIES.isMixed&&n.VARIANT_PROPERTIES.type===m.Z_n.EXPRESSION&&n.VARIANT_PROPERTIES.value.expressionArguments[0].type===m.Z_n.MAP?n.VARIANT_PROPERTIES.value.expressionArguments[0]:{type:m.Z_n.MAP,resolvedType:m.rXF.MAP,value:{}};return t&&(0,U.hS)(t)?((t.resolvedType===m.rXF.STRING||t.resolvedType===m.rXF.BOOLEAN||t.resolvedType===m.rXF.FLOAT)&&(r.value[e]={type:m.Z_n.EXPRESSION,resolvedType:m.rXF.STRING,value:{expressionFunction:m.JTp.STRINGIFY,expressionArguments:[t.type===m.Z_n.ALIAS?(0,er.y$)(t.resolvedType,t.value):t]}}),n.VARIANT_PROPERTIES={type:m.Z_n.EXPRESSION,resolvedType:m.rXF.SYMBOL_ID,value:{expressionArguments:[r],expressionFunction:m.JTp.RESOLVE_VARIANT}},l(n),!0):(delete r.value[e],0===Object.keys(r.value).length?n.VARIANT_PROPERTIES=null:n.VARIANT_PROPERTIES={type:m.Z_n.EXPRESSION,resolvedType:m.rXF.SYMBOL_ID,value:{expressionArguments:[r],expressionFunction:m.JTp.RESOLVE_VARIANT}},l(n),!1)},[e,l,n]),p=(0,r.useMemo)(()=>{if(o&&(0,U.hS)(o))try{let t=o.value.expressionArguments[0].value[e];if(!t)return null;if(t.type===m.Z_n.EXPRESSION&&t.value.expressionFunction===m.JTp.STRINGIFY&&(t=t.value.expressionArguments[0]),t.type===m.Z_n.ALIAS)return t.value}catch(e){(0,tW.x1)("variables","error checking variant binding map",{message:e.message},{reportAsSentryError:!0})}return null},[o,e]);return{isBound:!!p,setBinding:c,clearBinding:s,boundVariableId:p,onExpressionSubmitted:(0,x.kc)().prototype_expressions_nodefields?d:void 0,variableConsumptionMapValue:n.VARIANT_PROPERTIES}}(e.variantPropDef.name),Z=tq(t);M=M&&Z;let[$,j]=(0,et.JV)(["VARIANT_PROPERTIES"],W&&"TOGGLE"===C.type?m.rXF.BOOLEAN:m.rXF.STRING,V,{requestedTypes:"TOGGLE"===C.type?[m.rXF.BOOLEAN]:[m.rXF.STRING,m.rXF.FLOAT],metadata:e.variantPropDef.name},W);function q(e,t){let n=(0,tG.Tj)(h,e,t);if(t===(0,u.t)("proto.assign_variant")){j(R.current);return}let r={};for(let a of d){let{propertyValues:l}=a,o={...l,[e]:t},s=(0,eJ.Jj)(o,n,i);null!==s&&(r[a.guid]=s)}let a={};for(let e of Object.keys(r)){let t=r[e].guid;a[t]=(a[t]||[]).concat(k[e])}if(I){m.glU.replaceSymbolBackingInstancesInPlayground(a),T(n),S?.isShown&&N((0,F.vq)());return}0!==Object.keys(a).length&&((0,eJ.zb)("Swapping A Variant",o??"",{source:_?"bubbled_sidebar":"sidebar"}),B.l7.user("change-variant-prop",()=>(0,tH.Aw)(a))),T(n)}let Q=p.hasOwnProperty(C.property)?p[C.property]:void 0,en=l.values;function el(){V(void 0)}let ei=(0,H.u)(z??void 0),es=(0,er.Px)(),ec=r.useMemo(()=>m.CWU.getVariableSetKeyForPublish(ei?.variableSetId??"")??"",[ei?.variableSetId]),eg=ec in es?es[(0,O.yG)(ec)]:void 0,ef=(0,H.BQ)(z??void 0,eg),{assignmentValue:eE,iconButton:eh}=(()=>{if(M&&ei&&(0,P.Vq)(ef)||(0,x.kc)().prototype_expressions_nodefields&&W&&X){let t;return(0,P.Vq)(ef)&&"MIXED"!==ef&&(en.some(e=>e.toLowerCase()===ef.value.toString().toLowerCase())?Q?.toString().toLowerCase()!==ef.value.toString().toLowerCase()&&(t=(0,u.t)("design_systems.component_properties.invalid_variant_binding_state")):t=(0,u.t)("design_systems.component_properties.invalid_variant_binding")),{assignmentValue:W&&X?r.createElement(tz.y3,{targetVariableData:X.isMixed?void 0:X,onClick:()=>{j(R.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:X.isMixed,variantProperty:e.variantPropDef.name}):ei&&r.createElement("div",{className:ev},r.createElement(eo.P,{value:(0,U.gl)(Q)?(0,u.t)("design_systems.component_properties.mixed"):ei.name,variableId:(0,U.gl)(Q)?void 0:z??void 0,isStandalone:!0,invalid:void 0!==t,thumbnailValue:"MIXED"===ef||t?void 0:ef,tooltipOverride:t,isDeleted:(0,ea.eF)(ei),classNameOverride:D?L.cx.wFull.$:void 0,varaiablePillContainerClassName:D?"prop_assignment_row--ui3VariantPillContainer--tzUFe":void 0,fullWidth:D})),iconButton:D?r.createElement("span",{className:eT},r.createElement(eQ.K,{onClick:el,"aria-label":(0,u.t)("design_systems.component_properties.detach_property"),recordingKey:c.Pt(e.recordingKey,"detachVariantProp"),htmlAttributes:{"data-tooltip":(0,u.t)("design_systems.component_properties.detach_property"),"data-tooltip-type":Y.Ib.TEXT}},r.createElement(tK.U,null))):r.createElement(J.K0,{className:eb,svg:eN.A,onClick:el,"data-tooltip":(0,u.t)("design_systems.component_properties.detach_property"),"data-tooltip-type":Y.Ib.TEXT,recordingKey:c.Pt(e.recordingKey,"detachVariantProp")})}}{let n=Q?"TOGGLE"===C.type?r.createElement(tQ,{entry:C,selectedOption:Q,viewOnly:f,recordingKey:e.recordingKey,onSelectProperty:q}):r.createElement(t0,{containerWidth:g,allPropertyOptions:en,entry:C,guids:t,onSelectProperty:q,recordingKey:e.recordingKey,selectedOption:Q,viewOnly:f}):null,a=D?r.createElement("span",{className:s()(eT,{"prop_assignment_row--ui3SelectedIcon--Opfq2":$})},r.createElement(tF.d,{toggled:$,onClick:()=>q(C.property,(0,u.t)("proto.assign_variant")),"aria-label":(0,u.t)("proto.assign_variant"),recordingKey:c.Pt(e.recordingKey,"assignVariantProp"),htmlAttributes:{"data-tooltip":(0,u.t)("proto.assign_variant"),"data-tooltip-type":Y.Ib.TEXT}},r.createElement(tB.D,null))):r.createElement(J.K0,{className:s()("prop_assignment_row--bindingIcon--EAEMs",{"prop_assignment_row--selectedIcon--8fypm":$}),svg:t$.default,onClick:()=>q(C.property,(0,u.t)("proto.assign_variant")),"data-tooltip":(0,u.t)("proto.assign_variant"),"data-tooltip-type":Y.Ib.TEXT,recordingKey:c.Pt(e.recordingKey,"assignVariantProp")});return{assignmentValue:n,iconButton:!I&&Z?a:void 0}}})(),ey=r.createElement("div",{className:em},r.createElement("p",{ref:A,className:e_,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":A.current&&A.current.offsetWidth<A.current.scrollWidth?C.property:null},C.label));return D?E?r.createElement(ee.g,{recordingKey:`componentPropertyRow.${n}`,key:`componentPropertyRow.${n}`,ref:R,leftLabel:null,leftInput:ey,rightLabel:null,rightInput:eE}):r.createElement(v.fn,{appendedClassName:"prop_assignment_row--ui3RowWithIcon--MjxKa",recordingKey:`componentPropertyRow.${n}`,key:`componentPropertyRow.${n}`,ref:R,leftLabel:null,leftInput:ey,rightLabel:null,rightInput:eE,icon:eh}):r.createElement(J.fI,{className:g===b.O2.WIDE?ep:g===b.O2.UNBOUNDED?eu:ed,recordingKey:`componentPropertyRow.${n}`,key:`componentPropertyRow.${n}`,forwardedRef:R},ey,r.createElement("div",{className:"prop_assignment_row--variantPropRightColumn--5hpRD"},eE,eh))}function tQ({entry:e,selectedOption:t,onSelectProperty:n,viewOnly:a,recordingKey:l}){let o=(0,y.R)(),i=t=>{n(e.property,e.toggleTokenPair[t?0:1])};return o?r.createElement(N.d,{mixed:(0,U.gl)(t),checked:t===e.toggleTokenPair[0],label:r.createElement(S.h,null,e.label),onChange:i,disabled:a,recordingKey:c.Pt(l,`toggle-${e.property}`)}):r.createElement(Q.l,{toggleClassName:ey,on:(0,U.hS)(t)?t===e.toggleTokenPair[0]:U.oV,onChange:i,disabled:a,recordingKey:c.Pt(l,`toggle-${e.property}`),forwardEventsToFullscreen:!0})}function t0({entry:e,selectedOption:t,onSelectProperty:n,viewOnly:l,recordingKey:o,containerWidth:i,allPropertyOptions:d,guids:p}){let m=(0,a.wA)(),_=(0,a.d4)(e=>e.dropdownShown),g=(0,y.R)();return r.createElement("div",{className:s()("prop_assignment_row--variantPropValueContainer---FbdA",{"prop_assignment_row--variantPropValueContainerWide--i-9HY":i===b.O2.WIDE,"prop_assignment_row--variantPropValueContainerViewOnly--d0Zdv":l})},l?r.createElement("p",{className:"prop_assignment_row--componentPropName--ZazSF ellipsis--ellipsis--Tjyfa"},(0,U.gl)(t)?(0,u.t)("design_systems.component_properties.mixed"):t):r.createElement(e8.l6,{className:tZ.ZE,fill:i===b.O2.UNBOUNDED,id:`states-property-select-${p.join("-")}-${e.property}`,inputClassName:g?"prop_assignment_row--ui3VariantPropValueInput--MjpQ9":void 0,property:t,formatter:tj,onChange:t=>{n(e.property,t)},dispatch:m,dropdownShown:_,dropdownWidth:200,dropdownAlignment:"right",onMouseDown:()=>m(tU.r),recordingKey:c.Pt(o,`select-${e.property}`)},[...d].map(t=>r.createElement(e8.c$,{key:t,value:t,recordingKey:c.Pt(o,`select-${e.property}-option-${t}`)}))))}function t1({variantPropDefs:e,guids:t,allStateVariantProps:n,backingStateVariantProps:a,statePropertyValues:l,stateGroupGUID:o,forBubbledProps:i,containerWidth:s,viewOnly:d,hideIcon:p,sceneGraph:u,recordingKey:m}){let[_,g]=r.useState([]);return r.useEffect(()=>{g([])},[t]),r.createElement(T.q,{listItems:e,updateSelection:void 0,isDragDisabled:!0,renderListItem:(e,f)=>r.createElement(tJ,{variantPropDef:e,guids:t,index:f,stateGroupGUID:o,allStateVariantProps:n,backingStateVariantProps:a,statePropertyValues:l,selectedPropertyValueHistory:_,updateHistory:g,containerWidth:s,viewOnly:d,hideIcon:p,forBubbledProps:i,sceneGraph:u,recordingKey:c.Pt(m,"row",t.join("-"),f)}),recordingKey:m})}var t5=n(326331),t2=n(952675);let t7={__addNewValue__:!0};class t4 extends t2.a3{}class t3 extends e8.c${}let t8=e=>{let t={};for(let n of e)if(n.stateInfo.propertyValues)for(let[e,r]of Object.entries(n.stateInfo.propertyValues))t[e]=t[e]||{},t[e][r]=(t[e][r]||0)+1;return t};function t6({OriginalComponent:e,...t}){return r.createElement(e,{...t,className:"variant_prop_authoring_row--ui3ComboBoxInput--WyPgd ellipsis--ellipsis--Tjyfa"})}function t9({variantPropDef:e,recordingKey:t}){var n;let{dropdownShown:l,allStates:o,propertySortOrder:i,propertyToFocusFullscreen:s,selectedStates:p,selectedStatesPropertyValues:m}=(0,eG.R)(e=>({dropdownShown:e.dropdownShown,allStates:(0,h.ow)(e),propertySortOrder:(0,h.OC)(e),propertyToFocusFullscreen:e.mirror.appModel.statePropertyToFocus,selectedStates:(0,h._f)(e),selectedStatesPropertyValues:(0,h.D1)(e)})),_=(0,a.wA)(),g=(0,y.R)(),f=r.useRef(null),b=r.useRef(null),[w,T]=r.useState(null),N=null!=w,S=()=>{w&&(T(null),B.l7.user("rename-variant-property",()=>(0,eJ.q1)(L,w,o??[],i??[])))},I=r.useRef({});Object.keys(m??{}).forEach(e=>{I.current[e]=I.current[e]||r.createRef()});let[C,k]=r.useState(""),A=s||C;function x(e,t){""!==(t=t.trim())&&p&&(B.l7.user("rename-variant-prop",()=>{for(let n of p){let r=n.stateInfo.propertyValues||{};V.i(n.symbol.node_id,(0,eJ.zh)({...r,[e]:t},i||[]))}}),eM.Y5.commit())}r.useEffect(()=>{!l&&A&&(I.current?.[A]?.current&&(I.current[A].current.select(),eM.Y5.updateAppModel({statePropertyToFocus:""})),k(""))},[A,l]),r.useEffect(()=>{N&&f.current&&(f.current.focus(),f.current.select())},[N,f]);let P=r.useMemo(()=>t8(o??[]),[o]),O=r.useMemo(()=>t8(p??[]),[p]),D=e.values;if(!m)return null;let L=e.name,M=!m[L],F=!!b.current&&b.current.offsetWidth<b.current.scrollWidth,K=()=>T(L),U=N?r.createElement(d.u2,{forwardedRef:f,className:"variant_prop_authoring_row--selectPropertyNameInput--T02iO variant_prop_authoring_row--selectPropertyName--g8Tfp raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",defaultValue:L,onKeyDown:e=>{e.stopPropagation(),(e.keyCode===R.Uz.ESCAPE||e.keyCode===R.Uz.ENTER)&&(S(),e.currentTarget.blur())},onChange:e=>T(e.currentTarget.value),onFocus:()=>{f.current&&(T(L),f.current.select())},onBlur:S,onContextMenu:e=>{e.stopPropagation(),e.preventDefault()},recordingKey:c.Pt(t,`componentPropRowDefNameInput-${L}`)}):r.createElement(d.D8,{forwardedRef:b,onDoubleClick:g?void 0:K,onClick:g?K:void 0,className:"variant_prop_authoring_row--selectPropertyName--g8Tfp","data-tooltip-type":Y.Ib.TEXT,"data-tooltip":F?L:null,recordingKey:c.Pt(t,`componentPropRowDefName-${L}`)},g?r.createElement("div",{className:"variant_prop_authoring_row--ui3SelectPropertyNameInner--eJnxr ellipsis--ellipsis--Tjyfa"},L):L),H=r.createElement(t2.ow,{value:{inputComponent:g?t6:void 0}},r.createElement(t4,{id:`states-property-select-${L}`,className:M?"variant_prop_authoring_row--missingPropertyComboBox--9wy-0":"variant_prop_authoring_row--propertyComboBox--7f6TZ",dropdownClassName:g?void 0:"variant_prop_authoring_row--propertyComboBoxDropdown--WH-pM",formatter:(n=Object.keys(O[L]||{}).some(e=>O[L][e]===P[L][e]),{format:e=>e!==t7?e||eJ.xJ:n?(0,u.t)("design_systems.component_properties.rename_prompt"):(0,u.t)("design_systems.component_properties.add_new_prompt"),parse:e=>e,autocomplete:e=>{for(let t of D.sort((e,t)=>e.length-t.length))if(t&&t.startsWith(e))return t;return null}}),property:m[L]||"",icon:r.createElement(t5.r,null),onChange:e=>{B.l7.user("add-variant-property",()=>{e!==t7?x(L,e):(x(L,(0,u.t)("design_systems.component_properties.new_value")),k(L))})},dispatch:_,dropdownShown:l,recordingKey:c.Pt(t,`propertyComboBox-${L}`),forwardedRef:I.current[L]},D.map(e=>r.createElement(t3,{key:e,value:e,recordingKey:c.Pt(t,`value-${e}`)})),r.createElement(e8.sK,null),r.createElement(t3,{key:"add-new-value",value:t7,recordingKey:c.Pt(t,"value-AddNewValue")}))),z=M?r.createElement("span",{className:"variant_prop_authoring_row--missingPropertyNoticeIcon--t7xa0","data-tooltip":(0,u.t)("design_systems.component_properties.missing_property"),"data-tooltip-type":Y.Ib.TEXT,"data-tooltip-show-left":!0},r.createElement(e7.U,{svg:E.EP},r.createElement(eU.r,null))):null;return g?r.createElement(v.fn,{key:L,appendedClassName:"variant_prop_authoring_row--ui3PropertyRow--Ouo2e",leftLabel:null,leftInput:U,rightLabel:null,rightInput:H,icon:z}):r.createElement(J.fI,{key:L},r.createElement("div",{className:"variant_prop_authoring_row--selectPropertyRow--t4JAp raw_components--_row--rHucX"},U,H,z))}let ne=eL.ms,nt=eL.c$;function nn({defs:e,guids:t,selectedIndices:n,onSelectIndices:l,isInStateAuthoringView:o,recordingKey:i}){let s=(0,a.d4)(e=>(0,h.ow)(e)??[]),d=(0,a.d4)(t_.Nw),p=(0,a.d4)(e=>(0,h.OC)(e)??[]),m=(0,a.d4)(e=>e.dropdownShown),_=m?.type===tC,g=n.length===e.length,f=e=>!g&&(e?.key==="Backspace"||e?.key==="Delete")&&(v(),!0),E=c.v_(i,"keydown",e=>{f(e)}),y=c.fo(`${i}.fullscreen`,"keydown",e=>{f(e.event)&&e.accept()}),v=r.useCallback(()=>{if(!n.length||!d)return;let t=n.map(t=>e[t].name);B.l7.user("delete-variant-props",()=>(0,eJ.bk)(t,s,p,d))},[s,d,e,p,n]),b=r.useCallback(e=>{let t=e.map(e=>e.name);B.l7.user("reorder-variant-props",()=>{s.forEach(e=>{let n=e.stateInfo.propertyValues;n&&V.i(e.symbol.node_id,(0,eJ.zh)(n,t))})}),eM.Y5.commit()},[s]),w=r.useRef(null);return r.useEffect(()=>{n.length?w.current?.focus():w.current?.blur()},[n]),r.createElement(eF.vL,{handleKeyDown:y,ref:w,name:"variant-props-list",focusOnMount:!0},r.createElement(T.q,{listItems:e,selectedIndices:n,updateSelection:l,onChange:b,renderListItem:(n,a,s,d,p,u,m)=>o?r.createElement(t9,{variantPropDef:n,recordingKey:c.Pt(i,"row",a)}):r.createElement(tx,{index:a,guids:t,componentPropDef:n,isSelected:s,isDragging:d,selectRow:()=>l([a]),singletonRow:1===e.length,onPropertyMouseDown:p,onPropertyMouseMove:u,onPropertyMouseUp:m,onKeyDown:E,recordingKey:c.Pt(i,"row",a)}),recordingKey:i}),_&&!!n.length&&!g&&r.createElement(ne,{style:m.data.position,positionFixed:!0},r.createElement(nt,{onClick:v,recordingKey:"deleteProp"},(0,u.tx)("design_systems.component_properties.delete_property",{numSelected:n.length}))))}var nr=n(687881);let na=20;function nl({guids:e,propDimension:t,containerWidth:n,shouldHideInstanceTitleButtons:a,viewOnlyMode:l,hideIcon:o,highlightNodesOnHover:i,hideErrors:s,resettableInstanceOverrides:d,instanceNameDisplayOverride:u,forBubbledProps:m,recordingKey:g,errorBoxFlushWithContainer:E,entrypointForInstanceSwapPicker:h}){let{typedPropDefsExcludingHidden:v,variantPropDefs:T,assignmentValuesByDefId:N,allStateVariantProps:S,backingStateVariantProps:I,statePropertyValues:C,productComponentGUID:k}=(0,w.a)(e,t),A=(0,_.eY)(),x=(0,y.R)();if(!v.length&&!T.length)return null;let R=r.createElement(f.iN,{containerWide:n===b.O2.WIDE,canCollapse:m,resettableInstanceOverrides:d,instanceAndSublayerGUIDs:e,instanceNameDisplayOverride:u,shouldHideButtons:a,highlightNodesOnHover:i,recordingKey:g}),P=r.createElement(ns,{typedPropDefs:v,variantPropDefs:T,guids:e,assignmentValues:N,allStateVariantProps:S,backingStateVariantProps:I,statePropertyValues:C,productComponentGUID:k,propDimension:t,hideErrors:s,containerWidth:n,viewOnlyMode:l,hideIcon:o,forBubbledProps:!!m,recordingKey:g,errorBoxFlushWithContainer:E,sceneGraph:A,entrypointForInstanceSwapPicker:h});return m?x?r.createElement(np,{row:R,isChevronAlwaysVisible:!0,recordingKey:c.Pt(g,"instancePanelTitleCollapsibleRow",e.join("-"))},r.createElement("div",{className:nr.Og},P)):r.createElement(p.S,{isInitiallyOpen:v.length<na,title:R},r.createElement("div",{className:nr.Og},P)):r.createElement("div",null,R,r.createElement("div",{className:nr.Og},P))}var no=(e=>(e[e.ALL_PROPS=0]="ALL_PROPS",e[e.VARIANT_PROPS=1]="VARIANT_PROPS",e[e.TYPED_PROPS=2]="TYPED_PROPS",e))(no||{});function ni({propDimension:e,guids:t,containerWidth:n,viewOnlyMode:a,hideIcon:l,hideErrors:o,forBubbledProps:i,recordingKey:s,errorBoxFlushWithContainer:c,splitVariantAndTypedProps:d,enableHidingOverflowRowsInUI3:p,entrypointForInstanceSwapPicker:u}){let{typedPropDefsExcludingHidden:m,variantPropDefs:g,assignmentValuesByDefId:f,allStateVariantProps:E,backingStateVariantProps:h,statePropertyValues:y,productComponentGUID:v}=(0,w.a)(t,e),b=(0,_.eY)();return r.createElement(ns,{typedPropDefs:m,variantPropDefs:g,guids:t,propDimension:e,assignmentValues:f,allStateVariantProps:E,backingStateVariantProps:h,statePropertyValues:y,productComponentGUID:v,hideErrors:o,containerWidth:n,viewOnlyMode:a,hideIcon:l,forBubbledProps:!!i,recordingKey:s,errorBoxFlushWithContainer:c,splitVariantAndTypedProps:d,sceneGraph:b,enableHidingOverflowRowsInUI3:p,entrypointForInstanceSwapPicker:u})}function ns({typedPropDefs:e,variantPropDefs:t,propDimension:n,enableHidingOverflowRowsInUI3:l,...o}){let[i,s]=r.useState(void 0),[c,d]=r.useState([]),[p,_]=r.useState(!1),g=(0,y.R)(),f=(0,a.d4)(h.i$)===m.iCO.STATE&&n===b.OE.DEFINITION;r.useEffect(()=>{s(void 0),d([])},[t,e]);let E=!!t.length,v=!!e.length&&!f,w={shouldShowVariantProps:E,shouldShowTypedProps:v,selectedSection:i,selectedPropIndices:c,onSelectProps:(e,t)=>{s(e),d(t)},isInStateAuthoringView:f};if(g&&l){let{numHiddenRows:a,variantPropDefsToShow:l,typedPropDefsToShow:i}=function(e,t,n,r,a){let l=(t?r.length:0)+(n?a.length:0);if(e||l<=5)return{numHiddenRows:0,variantPropDefsToShow:t?r:[],typedPropDefsToShow:n?a:[]};let o=4,i=r;return t?o-=(i=r.slice(0,4)).length:i=[],{numHiddenRows:l-4,variantPropDefsToShow:i,typedPropDefsToShow:n?a.slice(0,o):[]}}(p,E,v,t,e);return r.createElement(r.Fragment,null,r.createElement(nc,{variantPropDefs:l,typedPropDefs:i,propDimension:n,...w,...o}),a>0&&!p&&r.createElement(nd,{label:(0,u.t)("design_systems.component_properties.show_more_property_rows",{count:a}),onClick:()=>_(!0)}))}return r.createElement(nc,{variantPropDefs:t,typedPropDefs:e,propDimension:n,...w,...o})}function nc({shouldShowVariantProps:e,shouldShowTypedProps:t,selectedSection:n,selectedPropIndices:a,onSelectProps:l,isInStateAuthoringView:o,propDimension:i,variantPropDefs:s,typedPropDefs:d,guids:p,assignmentValues:u,allStateVariantProps:m,backingStateVariantProps:_,statePropertyValues:f,productComponentGUID:h,forBubbledProps:y,hideErrors:v,containerWidth:w,viewOnlyMode:T,hideIcon:N,recordingKey:S,errorBoxFlushWithContainer:I,splitVariantAndTypedProps:C,sceneGraph:k,inPlayground:A,instanceSwapPickerInitialHeight:x,instanceSwapPickerInitialPosition:R,entrypointForInstanceSwapPicker:P}){return r.createElement(r.Fragment,null,e&&i===b.OE.DEFINITION&&r.createElement(nn,{defs:s,guids:p,selectedIndices:n===g.u.VARIANT?a:[],onSelectIndices:e=>l(g.u.VARIANT,e),isInStateAuthoringView:o,recordingKey:c.Pt(S,"propDefs",g.u.VARIANT)}),e&&h&&i===b.OE.ASSIGNMENT&&r.createElement(t1,{variantPropDefs:s,guids:p,allStateVariantProps:m,backingStateVariantProps:_,stateGroupGUID:h,statePropertyValues:f,forBubbledProps:y,containerWidth:w,sceneGraph:k,viewOnly:0===T||1===T,hideIcon:N,recordingKey:c.Pt(S,"propDefs",g.u.VARIANT)}),e&&t&&C&&r.createElement("div",{className:"props_section--divider--5xEyL"}),t&&i===b.OE.DEFINITION&&r.createElement(tM,{defs:d,guids:p,selectedIndices:n===g.u.TYPED?a:[],onSelectIndices:e=>l(g.u.TYPED,e),recordingKey:c.Pt(S,"propDefs",g.u.TYPED)}),t&&i===b.OE.ASSIGNMENT&&r.createElement(eD,{typedPropDefs:d,guids:p,assignmentValues:u,forBubbledProps:y,containerWidth:w,viewOnly:0===T||2===T,hideIcon:N,sceneGraph:k,inPlayground:A,instanceSwapPickerInitialHeight:x,instanceSwapPickerInitialPosition:R,recordingKey:c.Pt(S,"propDefs",g.u.TYPED),entrypointForInstanceSwapPicker:P}),!v&&r.createElement(E.aq,{flushWithContainer:I}))}function nd({label:e,onClick:t}){return r.createElement("button",{onClick:t,"aria-label":e},r.createElement(v.Ad,{label:null,input:r.createElement("div",{className:"props_section--ui3ShowMoreText--9ZaYD"},e)}))}function np({row:e,isCollapsedByDefault:t,isChevronAlwaysVisible:n,children:a,recordingKey:i}){let[c,p]=r.useState(t??!1),u=r.createElement(d.GG,{className:"props_section--ui3CollapsibleRowWrapper--0eG4n",onMouseDown:()=>p(!c),recordingKey:i},r.createElement("div",{className:s()("props_section--ui3CollapsibleRowIcon--AMo-v",{"props_section--ui3CollapsibleRowIconAlwaysVisible--BPU5Y":n})},c?r.createElement(l.k,null):r.createElement(o.O,null)),e);return c?u:r.createElement(r.Fragment,null,u,a)}},215440:(e,t,n)=>{n.d(t,{Ae:()=>u,K4:()=>d,Z3:()=>m});var r=n(461816),a=n.n(r),l=n(302245),o=n(966712),i=n(97395),s=n(234945),c=n(107244);let d=(0,i.P8)([c.C1,c.tO,c.S8,c.Rk,c.TJ],(e,t,n,r,a)=>a?void 0:e&&n&&e[n]?e[n].primaryInstances:(0,o.kc)().dse_editor_templates_v1&&t&&r&&t[r]?t[r].primaryInstances:void 0),p=(0,i.P8)([s.dK,c.C1,c.tO,c.S8,c.Rk,c.TJ,c.QW],(e,t,n,r,l,i,s)=>{if(i)return;let c=[],d=new Set;if(t&&r&&t[r]){let n=e.get(r);if(!n)return;if(!n.isStateGroup||0===s.length)return a()(t[r].primaryInstances?.filter(e=>e.isBubbled)||[],e=>[e.connectedGUIDs,...e.bubbledNestedInstances.map(e=>e.connectedGUIDs)]);for(let e of s)for(let n of t[e]?.primaryInstances?.filter(e=>e.isBubbled)||[]){if(n.connectedGUIDs&&!d.has(n.connectedGUIDs[0])){for(let e of n.connectedGUIDs)d.add(e);c.push(n.connectedGUIDs)}for(let e of n.bubbledNestedInstances)if(e.connectedGUIDs&&!d.has(e.connectedGUIDs[0])){for(let t of e.connectedGUIDs)d.add(t);c.push(e.connectedGUIDs)}}return c}if((0,o.kc)().dse_editor_templates_v1&&n&&l&&n[l])return a()(n[l].primaryInstances?.filter(e=>e.isBubbled)||[],e=>[e.connectedGUIDs,...e.bubbledNestedInstances.map(e=>e.connectedGUIDs)])}),u=(0,i.P8)([c.C1,s.AF],(e,t)=>{if(!t||!t.isAlive()||"INSTANCE"!==t.type)return[];let n=t.guid;return e&&n&&e[n]?e[n].bubbledNestedInstanceGUIDs?.map(e=>[e])??[]:[]}),m=(0,l.Mz)([p,u],(e,t)=>e||t||[])},7860:(e,t,n)=>{n.d(t,{R:()=>d,t:()=>c});var r=n(411855),a=n(358145),l=n(818),o=n(506599),i=n(852800),s=n(187882);let c=(0,r.createContext)({isLeftPanelCollapsed:!1,isRightPanelCollapsed:!1});function d({children:e}){let{isPropertiesPanelCollapsed:t}=(0,o.iT)(),n=(0,s.Ye)(),d=(0,l.b)(),p=(0,r.useMemo)(()=>({isLeftPanelCollapsed:n,isRightPanelCollapsed:t}),[n,t]),u=(0,a.ZC)(p);return(0,r.useEffect)(()=>{d&&void 0!==u&&(u.isLeftPanelCollapsed!==p.isLeftPanelCollapsed||u.isRightPanelCollapsed!==p.isRightPanelCollapsed)&&queueMicrotask(()=>i.CX.updateLayoutForMinimizeUI())},[p,d,u]),r.createElement(c.Provider,{value:p},e)}},212478:(e,t,n)=>{n.d(t,{Jg:()=>H,xn:()=>F});var r=n(411855),a=n(188507),l=n(842700),o=n(629019),i=n.n(o),s=n(935283),c=n(966712),d=n(374626),p=n(153234),u=n(522739),m=n(776621),_=n(268537),g=n(46481),f=n(939863),E=n(483990),h=n(226055),y=n(728325),v=n(855418),b=n(318812),w=n(234945),T=n(498606),N=n(279145),S=n(459343),I=n(666258),C=n(720488),k=n(947968),A=n(857738),x=n(157147),R=n(136297),P=n(405206),O=n(706607);function D(e){return`flyout-dropdown-${e}`}let L=e=>{switch(e){case"move-flyout":return(0,f.t)("fullscreen.flyout.move_tools");case"region-flyout":return(0,f.t)("fullscreen.flyout.region_tools");case"pen-flyout":return(0,f.t)("fullscreen.flyout.drawing_tools");case"shape-flyout":return(0,f.t)("fullscreen.flyout.shape_tools");case"boolean-flyout":return(0,f.t)("fullscreen.flyout.boolean_groups");case"styles-flyout":return(0,f.t)("fullscreen.flyout.styles");case"symbol-flyout":return(0,f.t)("fullscreen.flyout.components");case"prototype-view-flyout":return(0,f.t)("fullscreen.flyout.prototype_view");default:return""}};function M(e,t,n){let a,o,i;if("currentTool"===e){let e=(0,v.LW)(t);a=(0,v.SD)(t),i=o=e?.ui3Icon||r.createElement(l.V,null)}else{let e=(0,v.bs)(n);a=(0,v.Yy)(n),o=e?.ui3Icon||r.createElement(l.V,null),i=v.bs(n)?.ui3FlyoutIcon??o}return{icon:a,ui3Icon:o,ui3FlyoutIcon:i}}function F(e){let[t,n]=r.useState(null),l=(0,b.Um)(),o=(0,a.wA)(),c=(0,h.GS)(),d=r.useCallback(()=>{n(null)},[]);r.useEffect(()=>(p.y6(d),()=>p.nS(d)));let _=(e,t)=>e&&t?e.action===t.action:!e&&!t,f=(0,a.d4)(t=>e.item.children.find(e=>{if((0,x.Zk)(e)){let n=e.property&&t.mirror.appModel[e.property]===e.propertyValue,r=e.isActive&&e.isActive(t);return n||r}return!1}),_),E=(0,a.d4)(n=>{let r=e.item.children.find(e=>(0,x.Zk)(e)&&(0,N.Yh)(n.mirror.appModel,e.action));return"symbol-flyout"===e.item.name?r:f||(t&&(0,N.Yh)(n.mirror.appModel,t.action)?t:r)},_),v=(0,a.d4)(e=>!!E&&(0,N.Yh)(e.mirror.appModel,E.action));if(!E)return null;v||(0,m.x1)("FlyoutView",`Expected defaultItem with action ${E.action} to be enabled`);let w=!!f&&!(0,N.TY)(l)&&!e.disabled&&e.styleActiveItem,I=l?.type===D(e.item.name),C=M(E.property,E.propertyValue,E.action);(0,s.KF)(null!==C.icon,"No icon for tool or action");let k=!0;if(I){for(let t of e.item.children)if((0,x.Zk)(t)&&(void 0!==t.property||void 0!==t.isActive)){k=!1;break}}let P=e.item.name===A.MR,F=r.createElement(A.$0,{item:e.item,defaultItem:E,dropdownKey:D(e.item.name),tooltipText:L(e.item.name),additionalDispatchData:{items:e.item.children},recordingKey:e.recordingKey,disabled:e.disabled}),B=r.createElement("div",{className:i()(c?O.fullHeightSidebarFlyout:O.flyout,(0,R.M)(!0,w),I?O.flyoutDropdownShown:null),"data-tooltip-type":T.Ib.LOOKUP,"data-tooltip":E.action,"data-onboarding-key":e.item.onboardingKey,"data-testid":E.action},r.createElement(u.D8,{className:c?O.fullHeightSidebarFlyoutButton:O.flyoutButton,recordingKey:p.Pt(e.recordingKey,"default",E.recordingKey),onMouseDown:y.VU.get(E.action,"toolbar")},C&&C.icon&&r.createElement(g.U,{svg:C.icon},C.ui3FlyoutIcon)),r.createElement(S.c,{svgContainerClassName:O.chevron,dispatch:o,showingDropdown:I,dropdownKey:D(e.item.name),tooltipText:L(e.item.name),additionalDispatchData:{items:e.item.children},recordingKey:p.Pt(e.recordingKey,"chevron"),dataTestId:`${e.item.name}-chevron`,rcsHandlerId:"flyout_dropdown_opened",dataOnboardingKey:e.item.name,isUI3:c,className:i()({[O.fullHeightSidebarFlyoutChevron]:c,[O.fullHeightSidebarFlyoutDropdownShown]:c&&I})}));return r.createElement("div",null,P?F:B,I&&r.createElement(K,{item:e.item,onFlyoutItemClick:(e,t)=>{n(e);let r=e.actionOnFlyoutItemClick??e.action;y.VU.get(r,"toolbar")(t)},hideCheck:k,recordingKey:e.recordingKey}))}function K(e){let t=(0,a.d4)(e=>e.dropdownShown),n=(0,h.GS)(),l=(0,d.md)(I.oO);if(!t||!t.data?.targetRect)return r.createElement(r.Fragment,null);let o=e.item.flyoutShowItemIcons||void 0===e.item.flyoutShowItemIcons;return r.createElement(C.Cf,{targetRect:n&&"prototype-view-flyout"===e.item.name?{top:t.data.targetRect.top,right:t.data.targetRect.right,bottom:t.data.targetRect.bottom+(n?4:0),left:t.data.targetRect.left-91,width:t.data.targetRect.width,height:t.data.targetRect.height}:t.data.targetRect,className:e.item.largeDisplayMode?O.largeDisplayDropdown:O.pointingDropdown,showPoint:!n,propagateCloseClick:!0,orientation:e.item.largeDisplayMode?"horizontal":"vertical",type:e.item.largeDisplayMode?C.it.MATCH_BACKGROUND:C.it.DEFAULT,footer:e.item.footer},t.data?.items&&t.data.items.map((t,n)=>(0,x.HK)(t)?r.createElement(_.wv,{key:n}):e.item.largeDisplayMode?r.createElement(U,{key:n,item:t,simulatedHoverActionName:l,onFlyoutItemClick:e.onFlyoutItemClick,recordingKey:e.recordingKey}):r.createElement(V,{key:n,item:t,showItemIcon:o,hideCheck:e.hideCheck,simulatedHoverActionName:l,onFlyoutItemClick:e.onFlyoutItemClick,recordingKey:e.recordingKey})))}function B(e,t){let n=(0,a.d4)(w.nj),r=!!(0,a.d4)(t=>(0,x.Zk)(e)&&e.isActive&&e.isActive(t)),{action:l,property:o,propertyValue:i,description:s}=e,c=(0,N.Yh)(n,l),d=void 0!==i&&n[o]===i,p=t?M(o,i,l):null;return{isEnabled:c,isChecked:d||r,icons:p,text:e.text||H(l),shortcutText:(0,N.c1)(n.keyboardShortcuts,l),descriptionText:s?H(s):void 0}}function V({item:e,showItemIcon:t,hideCheck:n,simulatedHoverActionName:a,onFlyoutItemClick:l,recordingKey:o}){let{isEnabled:i,isChecked:s,icons:d,text:u,shortcutText:m}=B(e,t);return r.createElement(P.a1,{key:e.action,text:u,shortcut:m,isEnabled:i,isChecked:s,onPointerUp:(0,c.kc)().ce_flyout_pointer_up_enabled?t=>{l(e,t)}:void 0,onClick:(0,c.kc)().ce_flyout_pointer_up_enabled?void 0:t=>{l(e,t)},hideCheck:n,recordingKey:p.Pt(o,"flyout",e.recordingKey),onboardingKey:e.onboardingKey,simulateHover:e.action===a,tooltip:k.TT.includes(e.action)?e.action:void 0},d&&d.icon?r.createElement(g.U,{svg:d.icon},d.ui3Icon):null)}function U({item:e,simulatedHoverActionName:t,onFlyoutItemClick:n,recordingKey:a}){let{isEnabled:l,isChecked:o,icons:i,text:s,shortcutText:c,descriptionText:d}=B(e,!0);return r.createElement(P.by,{key:e.action,text:s,description:d,shortcut:c,isEnabled:l,isChecked:o,onPointerUp:t=>n(e,t),recordingKey:p.Pt(a,"flyout",e.recordingKey),onboardingKey:e.onboardingKey,simulateHover:e.action===t,tooltip:k.TT.includes(e.action)?e.action:void 0},i&&i.icon?r.createElement(g.U,{svg:i.icon},i.ui3Icon):null)}function H(e){try{return(0,E.A)(e)}catch(t){return(0,f.t)(`fullscreen_actions.${e}`)}}},871642:(e,t,n)=>{n.d(t,{AV:()=>ex,gf:()=>eP,oW:()=>ek,Rg:()=>eA,Xw:()=>eK});var r=n(411855),a=n(188507),l=n(767129),o=n(841368),i=n(243742),s=n(560945),c=n(153234),d=n(520581),p=n(347082),u=n(574176),m=n(46481),_=n(939863),g=n(483990),f=n(356390),E=n(848661),h=n(227944),y=n(555074),v=n(318812),b=n(499777),w=n(498606),T=n(279145),N=n(405206),S=n(720488),I=n(7959),C=n(893606),k=n(136769),A=n(368014),x=n(734919),R=n(713649),P=n(271352),O=n(151736),D=n(2704),L=n(102934),M=n(921095),F=n(583080),K=n(186913),B=n(905111),V=n(900638),U=n(674462),H=n(795318),z=n(43900),G=n(471116),W=n(514198),Y=n(487614),X=n(565012),Z=n(146708),$=n(619310),j=n(467220),q=n(174574),J=n(503358),Q=n(496916),ee=n(678045),et=n(180549),en=n(687886),er=n(399940),ea=n(391914),el=n(341152),eo=n(116374),ei=n(283804),es=n(481928),ec=n(400658),ed=n(175895),ep=n(696875),eu=n(785828),em=n(258654),e_=n(937476),eg=n(571262),ef=n(609091),eE=n(684391),eh=n(87428),ey=n(122302),ev=n(728642),eb=n(944584);let ew={"align-top":eu.A,"align-vertical-center":e_.A,"align-bottom":Y.A,"align-left":es.A,"align-horizontal-center":eo.A,"align-right":ed.A,"distribute-horizontal-spacing":H.A,"distribute-vertical-spacing":G.A,"arrange-as-list-Y":ev.A,"arrange-as-list-X":eh.A,"arrange-as-grid":ef.A,"align-top-as-group":en.A,"align-vertical-center-as-group":ea.A,"align-bottom-as-group":Z.A,"align-left-as-group":J.A,"align-horizontal-center-as-group":j.A,"align-right-as-group":ee.A},eT={"align-top":em.A,"align-vertical-center":eg.A,"align-bottom":X.A,"align-left":ec.A,"align-horizontal-center":ei.A,"align-right":ep.A,"distribute-horizontal-spacing":z.A,"distribute-vertical-spacing":W.A,"arrange-as-list-Y":eb.A,"arrange-as-list-X":ey.A,"arrange-as-grid":eE.A,"align-top-as-group":er.A,"align-vertical-center-as-group":el.A,"align-bottom-as-group":$.A,"align-left-as-group":Q.A,"align-horizontal-center-as-group":q.A,"align-right-as-group":et.A},eN={"align-top":k.Q,"align-vertical-center":A.O,"align-bottom":x.u,"align-left":R.K,"align-horizontal-center":P.E,"align-right":O.F,"distribute-horizontal-spacing":D.A,"distribute-vertical-spacing":L.e,"arrange-as-list-Y":function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6.75A.75.75 0 0 1 5.75 6h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75A.75.75 0 0 1 5 7.25v-.5Zm0 5a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75a.75.75 0 0 1-.75-.75v-.5ZM5.75 16a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h11.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H5.75Z",clipRule:"evenodd"}))},"arrange-as-list-X":function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 18a.75.75 0 0 1-.75-.75V5.75A.75.75 0 0 1 6.75 5h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm5 0a.75.75 0 0 1-.75-.75V5.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm4.25-.75c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V5.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v11.5Z",clipRule:"evenodd"}))},"arrange-as-grid":function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",d:"M5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3zm-5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3zm-5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3z"}))},"align-top-as-group":M.j,"align-vertical-center-as-group":F.V,"align-bottom-as-group":K.H,"align-left-as-group":B.X,"align-horizontal-center-as-group":V.d,"align-right-as-group":U.s};var eS=n(289298);let eI=parseInt("6px"),eC=["align-left","align-horizontal-center","align-right","align-top","align-vertical-center","align-bottom"],ek=["align-left-as-group","align-horizontal-center-as-group","align-right-as-group","align-top-as-group","align-vertical-center-as-group","align-bottom-as-group"],eA=["tidy-up","distribute-vertical-spacing","distribute-horizontal-spacing"],ex=r.memo(function(e){let t=(0,r.useRef)(null),[n,a]=(0,r.useState)(!1),[l,o]=eK(),c=(0,r.useCallback)(e=>{a(e.altKey||e.shiftKey)},[]);(0,r.useEffect)(()=>{function e(){a(!1)}return document.addEventListener("keydown",c),document.addEventListener("keyup",c),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",c),window.removeEventListener("blur",e)}},[c]);let d=(0,h.vm)(ek),u=function(e){let[t,n]=(0,r.useState)(0);return(0,r.useLayoutEffect)(()=>{n(eB(e.current))},[e]),(0,s.w)(e,(0,r.useCallback)(()=>{n(eB(e.current))},[e])),t}(t),m=Math.floor(u/(24+eI));m*(24+eI)+24<=u&&++m;let[_,g]=function({visibleActionCount:e,renderGroupAlignButtons:t}){let{version:n}=(0,i.DP)(),r=t?ek:eC,a=[],l=[];if("ui2"===n)a=r,l=eA;else{let t=[...r,...eA];t.length>e?(a=t.slice(0,e-1),l=t.slice(e-1)):a=t}return[a,l]}({visibleActionCount:m,renderGroupAlignButtons:n&&l&&d});return r.createElement(p.p,{name:"align_panel"},r.createElement(I.Zk,{className:"align_panel--panel--hOaKr",onMouseMove:e=>c(e.nativeEvent),"data-test-id":"alignPanel",...o},r.createElement(eR,{ref:t},_.map(t=>r.createElement(eM,{key:t,action:t,recordingKey:e.recordingKey})),g.length>0&&r.createElement(eP,{actions:g,recordingKey:e.recordingKey}))))}),eR=r.forwardRef(function(e,t){let{version:n}=(0,i.DP)();return"ui3"===n?r.createElement("div",{ref:t,className:"align_panel--flexibleRow--5gjUF"},e.children):r.createElement(I.fI,{forwardedRef:t},e.children)});function eP(e){let t=(0,v.BK)("FULLSCREEN_DISTRIBUTE_DROPDOWN"),n=(0,r.useRef)(null),{version:a}=(0,i.DP)(),o=(0,C.R)(),s=(0,h.yU)(e.actions),p=o?(0,_.t)("fullscreen.properties_panel.tooltip_moreActions"):(0,_.t)("fullscreen.properties_panel.align_panel.more_options");return r.createElement(r.Fragment,null,r.createElement(d.E,{name:"toggle_align_options_button"},r.createElement(l.K,{ref:n,actionOnPointerDown:t.showing,"aria-label":p,onClick:()=>{t.toggle({data:{targetRect:n.current.getBoundingClientRect()}})},disabled:e.disabled||"ui2"===a&&!s,recordingKey:c.Pt(e,"distributeDropdown"),htmlAttributes:{"data-tooltip":p,"data-tooltip-type":w.Ib.TEXT}},"ui2"===a?r.createElement("span",{className:"align_panel--dropdownIconHack--7hoNm"},r.createElement(eF,null),r.createElement(u.B,{svg:eS.A,className:"align_panel--ui3IconColorCompat--51gei"})):r.createElement(eF,null))),t.showing&&r.createElement(d.E,{name:"dropdown"},r.createElement(S.Cf,{targetRect:t.data.targetRect,propagateCloseClick:!0},e.actions.map(t=>r.createElement(eO,{key:t,action:t,recordingKey:e.recordingKey})))))}function eO(e){let{action:t}=e,n=(0,h.Zr)(t),l=(0,a.d4)(e=>e.mirror.appModel.keyboardShortcuts);return r.createElement(N.a1,{text:(0,g.A)(t),isEnabled:n,hideCheck:!0,isChecked:!1,onClick:()=>{f.Y5.triggerActionInUserEditScope(t,"tidy-up"===t?{source:"panel"}:null)},key:t,shortcut:(0,T.c1)(l,t),recordingKey:c.Pt(e,"distributeDropdown",t)},r.createElement(eD,{action:t}))}function eD({action:e}){if("tidy-up"===e)return r.createElement(eL,null);let t=eN[e];return r.createElement(m.U,{svg:ew[e],fallbackSvg:eT[e]},t&&r.createElement(t,null))}function eL(){let e=(0,y.kl)("detectableListAxis"),t=(0,h.Zr)("arrange-as-grid")?"arrange-as-grid":`arrange-as-list-${(0,E._W)(e,"Y")}`,n=eN[t];return r.createElement(m.U,{svg:ew[t],fallbackSvg:eT[t]},n&&r.createElement(n,null))}function eM(e){let t=(0,h.Zr)(e.action),n=(0,b.Xo)();return r.createElement(d.E,{name:"align_button",alsoTrack:()=>({alignButtonAction:e.action})},r.createElement(l.K,{disabled:!t,onClick:()=>{f.Y5.triggerActionInUserEditScope(e.action)},recordingKey:c.Pt(e,"alignButton",e.action),key:e.action,"aria-label":e.action,htmlAttributes:{onMouseDown:e=>{n?.id.startsWith("paint")&&e.stopPropagation()},"data-tooltip":e.action,"data-tooltip-type":w.Ib.LOOKUP,"data-tooltip-max-width":200}},r.createElement(eD,{action:e.action})))}function eF(){let{version:e}=(0,i.DP)(),t=(0,h.Zr)("tidy-up");return"ui3"===e?r.createElement(o.J,null):r.createElement(eD,{action:t?"tidy-up":"distribute-vertical-spacing"})}function eK(){let[e,t]=(0,r.useState)(!1);return[e,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)}]}function eB(e){let t=getComputedStyle(e);return parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)}},559037:(e,t,n)=>{n.d(t,{t:()=>A});var r=n(411855),a=n(188507),l=n(529004),o=n(987918),i=n(939863),s=n(392592),c=n(934533),d=n(723081),p=n(226055),u=n(852800),m=n(843495),_=n(848661),g=n(507956),f=n(325682),E=n(73349);class h{constructor(e){this.formatter=e}format(e){return!e||(0,_.gl)(e)?"":this.formatter.format(e)}}let y=()=>(0,i.t)("inspect_panel.property.missing");class v{constructor(e,t){this.nodeNameFormatter=new h(e),this.behaviorFormatter=new h(new d.el),this.eventFormatter=new h(new d.VG),this.prototypeActionFormatter=new h(new d.js(t)),this.sentenceCaseFormatter=new h(new d._r)}getActionValue(e){switch(e.connectionType){case"INTERNAL_NODE":let t=o.dI(e.transitionNodeID);return this.nodeNameFormatter.format(t);case"URL":if(!e.connectionURL||e.connectionURL?.trim().length===0)return y();return e.connectionURL;default:return}}formatAction(e){if(!e)return;let t=(0,f.hU)(e.transitionType,e.easingType,e.easingFunction,e.transitionDuration),n=this.prototypeActionFormatter.format((0,d.mj)(e)),r=this.getActionValue(e),a=o.dI(e.transitionNodeID)||void 0,l=(0,f.x6)(e.easingType),i=t.direction&&` ${t.direction.charAt(0)}${t.direction.toLowerCase().substring(1)}`||"",s=this.behaviorFormatter.format(t.behavior??"INSTANT")+i,c=(0,_.gl)(t.easingFunction)?[]:t.easingFunction,p="CUSTOM_BEZIER"==t.easing?c.map(e=>parseFloat(e.toFixed(2))).join(", "):this.sentenceCaseFormatter.format(t.easing);return l&&(c=c.map(e=>parseFloat(e.toFixed(2))),p="Spring"),{action:r?n:"Action",value:r||n,guid:a,animation:s,hasAnimation:"INTERNAL_NODE"==e.connectionType,curve:"INSTANT"!=t.behavior?p:void 0,duration:"INSTANT"!=t.behavior&&(0,_.hS)(t.duration)?t.duration:void 0,isSpringTransition:l,curveFunction:c}}getEventArgs(e){switch(e?.interactionType){case"AFTER_TIMEOUT":return{delay:e.transitionTimeout||.8};case"ON_KEY_DOWN":if(!e.keyTrigger||!e.keyTrigger.keyCodes)return{trigger:y()};let t=(0,E._i)(e.keyTrigger?.keyCodes),n=(0,E.E8)(e.keyTrigger,!0)||y();return{trigger:"KEYBOARD"===e.keyTrigger.triggerDevice&&t?(0,E.U8)(t):n};case"ON_MEDIA_HIT":return{mediaHitTime:e.mediaHitTime||0};default:if(e?.interactionMaintained)return{delay:e.interactionDuration||.3};return}}format(e){let t=this.eventFormatter.format(e.event?.interactionType),n=this.formatAction(e.actions&&e.actions[0]);return{event:t,...this.getEventArgs(e.event),action:n,guid:o.dI(e.id)}}}var b=n(32067),w=n(788612);let T=()=>((0,a.d4)(e=>e.mirror.selectionProperties.prototypeInteractions)||[]).filter(e=>{if(!e.actions||e.actions.length<1||!e.actions[0])return!1;let t=e.actions[0].connectionType;return t&&"NONE"!=t}),N=()=>{let e=(0,a.d4)(e=>e.mirror.sceneGraph);return r.useMemo(()=>new d.cP(e),[e])},S=()=>{let e=N(),t=(0,p.GS)();return r.useMemo(()=>new v(e,t),[e,t])},I=e=>{let t=(0,a.d4)(e=>e.mirror.sceneGraphSelection),n=r.useRef(null),l=N(),o=(0,a.wA)(),d=r.useCallback(e=>{e&&(u.glU.panToNode(e),m.wr(),m.Dh([e]))},[]);return r.useEffect(()=>{let r=n.current;null===r||t[r]||o(s.F.dequeue({matchType:e}))},[o,t,e]),r.useCallback(r=>{let a=Object.keys(t)||[],{guid:p}=r;if(!p)return;d(p),n.current=p;let u=(0,i.t)("inspect_panel.interactions.return_to_node",{previous:l.format(a[0])});o(s.F.enqueue({type:e,message:"",button:{text:u,action:()=>d(a[0])},icon:c.zX.UNDO,onDismiss:()=>{}}))},[o,d,l,t,e])};function C(e){let t=(0,g.ks)(),{action:n,onClick:a}=e,l=r.useCallback(()=>n&&a&&a(n),[a,n]),o=n?.guid&&t?n.guid:void 0,i=o?()=>u.Ez5.canvasViewState().temporarilyHoveredNodes.set([o]):void 0,s=o?()=>u.Ez5.canvasViewState().temporarilyHoveredNodes.set([]):void 0;return n?r.createElement(w._p,{name:n.action,value:n.value,onValueClicked:n.hasAnimation?l:void 0,onMouseEnter:i,onMouseLeave:s}):null}function k(e){let{event:t,delay:n,trigger:a,phrase:l,action:o}=e.interaction;return r.createElement("div",{className:e.highlighted?"animation_panel--highlightedAnimationSection--cPkZz":"animation_panel--animationSection--ecznm"},r.createElement(w._p,{className:"animation_panel--animationTitle--Xmsme text--fontPos11--2LvXf text--_fontBase--QdLsd",copyValue:t},t),r.createElement(w.lz,{name:(0,i.t)("inspect_panel.interactions.delay"),value:n}),r.createElement(w._p,{name:(0,i.t)("inspect_panel.interactions.trigger"),value:a}),r.createElement(w._p,{name:(0,i.t)("inspect_panel.interactions.phrase"),value:l}),r.createElement(C,{action:o,onClick:e.onActionClicked}),o?.hasAnimation&&r.createElement(r.Fragment,null,r.createElement(w._p,{name:(0,i.t)("inspect_panel.interactions.animate"),value:o?.animation}),r.createElement(w._p,{name:(0,i.t)("inspect_panel.interactions.curve"),value:o?.curve}),!o?.isSpringTransition&&r.createElement(w.lz,{name:(0,i.t)("inspect_panel.interactions.duration"),value:o?.duration}),o?.isSpringTransition&&o?.curveFunction&&r.createElement(w._p,{name:(0,i.t)("inspect_panel.interactions.mass"),value:o?.curveFunction[0]}),o?.isSpringTransition&&o?.curveFunction&&r.createElement(w._p,{name:(0,i.t)("inspect_panel.interactions.stiffness"),value:o?.curveFunction[1]}),o?.isSpringTransition&&o?.curveFunction&&r.createElement(w._p,{name:(0,i.t)("inspect_panel.interactions.damping"),value:o?.curveFunction[2]})))}function A(){let e=T(),t=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected)||0,n=(0,a.d4)(e=>e.mirror.appModel.hoveredInteractions)||[],s=S(),c=e.map(e=>s.format(e)),d=b.T4.useCopyAllInteractions(c),p=I("instance_panel_return_to_node"),u=n&&n.length>0?l.s(n[0])?.interactionID:o.Hr,m=r.useCallback(e=>r.createElement(k,{interaction:e,onActionClicked:p,highlighted:e.guid===o.dI(u)}),[p,u]);return 1!=t||e.length<1&&(0,_.hS)(e)?null:r.createElement(w.VZ,{title:(0,i.t)("inspect_panel.interactions.title"),recordingKey:"interactions",copyAllValue:d},r.createElement(w.x0,{limit:3,data:c,renderElement:m}))}},311206:(e,t,n)=>{n.d(t,{U:()=>tt});var r=n(411855),a=n(188507),l=n(629019),o=n(776250);n(871217),n(145068),n(739098),n(934532),n(727928);var i=n(498750),s=(n(153234),n(522739)),c=(n(733334),n(844157)),d=(n(827586),n(939863)),p=n(356390),u=n(852800),m=n(617453),_=n(848661),g=(n(809511),n(814431)),f=(n(555074),n(318812),n(29680)),E=n(335682),h=n(100197),y=n(316081),v=n(407182),b=(n(498606),n(279145),n(663668)),w=n(428654),T=n(775664),N=(e=>(e[e.NUMERIC=0]="NUMERIC",e[e.PUNCTUATION_OR_WHITESPACE=1]="PUNCTUATION_OR_WHITESPACE",e[e.KEYWORD=2]="KEYWORD",e[e.FUNCTION_NAME=3]="FUNCTION_NAME",e))(N||{});let S=/[#\-0-9.]/,I=/[ ,\(\)]/,C={punctuation:"token punctuation",comment:"token comment",declNumeric:"",declFunction:"token function",declKeyword:"",declName:"token property"};class k extends r.PureComponent{render(){return r.createElement("span",{className:"css_code_panel--colorSwatch--bQ6hP",style:{background:this.props.background}})}}function A(e){2===e.detail&&(!function(e){let t=window.getSelection();if(t){let n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}(e.currentTarget),e.stopPropagation())}k.displayName="FillSwatch";class x extends r.PureComponent{render(){return r.createElement("div",{style:{whiteSpace:"pre"}},"\n")}}x.displayName="Separator";class R extends r.PureComponent{render(){return r.createElement("p",{className:C.comment,onMouseDown:A},"/* ",r.createElement("span",{onMouseDown:A},this.props.text)," */")}}R.displayName="CSSComment";class P extends r.PureComponent{render(){return r.createElement("span",{className:C.comment,onMouseDown:A},"/* ",r.createElement("span",{onMouseDown:A},this.props.header,r.createElement("br",null),r.createElement("br",null),r.createElement("div",{className:"css_code_panel--blockCommentBody--O9kU-"},(0,b.A)(this.props.content))),"*/")}}P.displayName="CSSBlockComment";class O extends r.PureComponent{render(){let{name:e,value:t}=this.props,n=function(e){let t=0,n=e.length,r=[];for(;t<n;){let a=e[t++],l=a,o=1;if(S.exec(a))for(o=0;t<n&&!I.exec(e[t]);)l+=e[t++];else if(I.exec(a))for(o=1;t<n&&I.exec(e[t]);)l+=e[t++];else{for(;t<n&&!I.exec(e[t]);)l+=e[t++];o=t<n&&"("===e[t]?3:2}r.push({type:o,text:l})}return r}(t),a="";return("color"===e||"background"===e)&&-1===t.indexOf("url(")&&-1===t.indexOf("var(")&&(a=r.createElement(k,{background:t})),r.createElement("div",{className:"css_code_panel--cssLine--4ZtkZ",onMouseDown:A},r.createElement("span",{className:C.declName},this.props.name),r.createElement("span",{className:C.punctuation},": "),r.createElement("span",{onMouseDown:A},n.map((e,t)=>r.createElement("span",{key:t,className:function(e){switch(e){case 0:return C.declNumeric;case 1:return C.punctuation;case 3:return C.declFunction;case 2:return C.declKeyword;default:return null}}(e.type)??void 0},e.text))),r.createElement("span",{className:C.punctuation},";"),a)}}O.displayName="CSSDeclaration";let D=class e{constructor(){this.lastPaints=[],this.colorToName=Object.create(null)}setTeamPaints(e){if(this.lastPaints!==e)for(let t of(this.lastPaints=e,this.colorToName=Object.create(null),e)){if("SOLID"!==t.paint.type||null==t.name||0===t.name.length)continue;let e=t.paint.color;e.a<1?this.colorToName[w.F.format(e)]=t.name:(this.colorToName[w.F.format(e)]=t.name,this.colorToName[T.z5.format(e)]=t.name)}}expandCSSLines(t){let n=[];for(let r of t)if(n.push(r),r[0]===u.cNS.DECLARATION){let t=r[1],a=r[2];if(e.COLOR_RE.exec(a)){let r=!1,l=a.replace(e.COLOR_RE,e=>this.colorToName[e]?(r=!0,`var(--${this.colorToName[e]})`):e);r&&n.push([u.cNS.DECLARATION,t,l])}}return n}};D.COLOR_RE=/(#[0-F]{6}|rgba\(([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*,?\s*([\d.]*)\))/g;class L extends r.PureComponent{constructor(){super(...arguments),this.teamColorExpander=new D}render(){let e=0,t=0,n=Object.create(null);this.teamColorExpander.setTeamPaints(this.props.teamPaints);let a=this.teamColorExpander.expandCSSLines(this.props.css);return r.createElement("div",{className:"css_code_panel--cssCodeContent--d4ab1"},a.map(a=>{if(a[0]===u.cNS.EMPTY_LINE)return r.createElement(x,{key:`sep-${t++}`});if(a[0]===u.cNS.COMMENT){let t=a[1];return r.createElement(R,{key:`comment-${e++}`,text:t})}if(a[0]===u.cNS.BLOCK_COMMENT){let t=a[1],n=a[2];return r.createElement(P,{key:`block-comment-${e++}`,header:t,content:n})}if(a[0]===u.cNS.DECLARATION){let e=a[1],t=a[2],l=`decl-${e}`;for(let t=2;n[l];t++)l=`decl-${e}${t}`;return n[l]=!0,r.createElement(O,{key:l,name:e,value:t})}}))}}L.displayName="CSSCodeContent";var M=n(410465),F=n(538697),K=n(788612),B=n(215837),V=n(239349),U=n(495085),H=n(226055),z=n(234945),G=n(215440),W=n(200243),Y=n(559037),X=n(915377),Z=n(137300),$=n(646240),j=n(46481),q=n(256975),J=n(723239),Q=n(309798),ee=n(832637),et=n(32067),en=n(449577),er=n(437464),ea=n(629597);let el=new Date("2023-06-21"),eo="dev_mode_dismissed_code_and_measurements_hint";function ei(){let e=(0,E.q5)(),t=!e?.canEdit,n=(0,q._I)(),a=!!(0,Q.f)("dev_mode_dismissed_properties_panel_announcement"),l=!!(0,Q.f)(eo),o=(0,$.md)(J.mp),i=(0,et.uQ)(),s="loaded"!==o.status||o.data>el;return!i||l||!a||!t||s||n?null:r.createElement(ee.u,{className:"code_and_measurement_hint--codeAndMeasurementsHint--Y2-IO",idForTests:"hintCodeAndMeasurements",userFlag:eo,title:(0,d.t)("inspect_panel.properties.code_and_measurements_hint_title"),icon_DEPRECATED:er.A,iconComponent:r.createElement(j.U,{className:en.FQ,svg:er.A},r.createElement(X._,null)),hintText:(0,d.t)("inspect_panel.properties.measurements_hint_message"),secondaryIcon_DEPRECATED:ea.A,secondaryIconComponent:r.createElement(j.U,{className:en.FQ,svg:ea.A},r.createElement(Z.i,null)),secondaryHintText:(0,d.tx)("inspect_panel.properties.copy_code_hint_message",{menu_path:r.createElement("strong",null,(0,d.tx)("inspect_panel.properties.copy_code_hint_menu_path"))})})}var es=n(671763),ec=n(776621),ed=n(304783),ep=n(723081),eu=n(618056),em=n(594901),e_=n(527718),eg=n(297281),ef=n(918012);let eE="images_panel--imagePropertyRow--QtoWZ inspect_panels--propertyRow--07fx- inspect_panels--basePropertyRow--dLxSz inspect_panels--_basePropertyRow--StmAE",eh=e=>{e.stopPropagation()},ey=()=>{let e=(0,a.d4)(e=>e.mirror.selectionProperties.fillPaints)||null,t=r.useMemo(()=>(0,eu.N9)(e),[e]);return t&&t.filter(e=>e.opacity>0&&e.visible&&e.image)||[]};function ev(e){return r.createElement("a",{className:ef.B,href:e.url,target:"_blank",rel:"noopener",onClick:eh},e.children)}function eb(e){let t=(0,E.tS)(),[n,a]=r.useState(null),l=(0,em.h)();r.useEffect(()=>{l||(0,eg.tW)({paint:e,fileKey:t}).then(e=>{a(e)})},[e,t,l]);let o=`${(0,eg.Rh)(e)}.${(0,eg.x$)(e)}`;return r.createElement(K._p,{className:"images_panel--preview--1U-c2",copyValue:o},r.createElement(e_.K,{className:"images_panel--previewImage--AdG6w",imagePaint:e,height:50,width:64,forceUpdate:!1}),r.createElement("span",{className:"images_panel--previewName--Piynm text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},r.createElement(ev,{url:n??"#"},o)))}function ew(e){let t=r.useMemo(()=>new ep.D,[]);return r.createElement("div",{className:"images_panel--imageSection--zNOsP"},r.createElement(eb,{...e}),r.createElement(K._p,{className:eE,name:(0,d.t)("inspect_panel.images.scale"),redact:["Fill"],value:t.format(e.imageScaleMode)}),r.createElement(K.r4,{className:eE,name:(0,d.t)("inspect_panel.images.opacity"),redact:1,value:e.opacity}),r.createElement(es.aj,{onError:t=>{let n=TypeError(`Expected string | undefined, got ${typeof t}`);console.error(n),(0,ec.$D)(ed.e.FIGJAM,n,{extra:{type:typeof t,value:t,source:"ImagesPanel > ImageElement",props:e}})},className:eE,blendMode:e.blendMode}))}function eT(){let e=ey(),t=et.T4.useCopyImages(e),n=r.useCallback(e=>r.createElement(ew,{key:(0,eu.qg)(e.image),...e}),[]);return!e||e.length<1?null:r.createElement(K.VZ,{title:e.length>1?e.every(e=>"VIDEO"===e.type)?(0,d.t)("inspect_panel.videos.title_plural"):(0,d.t)("inspect_panel.images.title_plural"):1===e.length?"VIDEO"===e[0].type?(0,d.t)("inspect_panel.videos.title_singular"):(0,d.t)("inspect_panel.images.title_singular"):void 0,recordingKey:"images",copyAllValue:t},r.createElement(K.x0,{limit:2,data:e,renderElement:n}))}var eN=n(542367),eS=n(812115),eI=n(835808),eC=n(946689),ek=n(273226);function eA(e){let{uri:t,displayName:n,displayText:a}=e,l=r.useCallback(e=>{e.preventDefault(),p.Y5.handleUserClickOnHyperlink(t,u.PHu.COMPOSE_EMAIL);let n=(0,ek._P)(t);(0,o.sx)("Component documentation link clicked",{hostname:n})},[t]),i=r.useMemo(()=>n||a?a||(0,d.tx)("design_systems.component_panel.view_in_display_name",{displayName:n}):(0,d.tx)("design_systems.component_panel.view_documentation"),[n,a]);return r.createElement(eC.N_,{target:"_blank",className:"component_link_button--documentationButton--mDWSy ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:l,trusted:!0},i)}let ex=/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/?\n]+)/,eR={"github.com":"GitHub","figma.com":"Figma","zeplin.io":"Zeplin","atlassian.com":"Jira","asana.com":"Asana"},eP=e=>{if(e.displayName||e.displayText)return e;let t=e.uri.match(ex),n=t&&t[1]?eR[t[1]]:void 0;return{uri:e.uri,displayName:n}},eO=(e,t)=>r.useMemo(()=>e?e.map(e=>eP(e)):t?eN.I6(t).filter(e=>"url"===e.type).map(e=>eP({uri:e.href})):[],[t,e]),eD=()=>{let{links:e,description:t}=(0,eI.QG)(),n=eO(e,t);return r.useMemo(()=>({description:t,links:n}),[t,n])};function eL(){let{description:e,links:t}=eD();return 0!==t.length||e?r.createElement(K.VZ,{title:(0,d.t)("inspect_panel.components.title"),recordingKey:"components",hideHeader:!0},r.createElement("div",{className:"inspect_component_panel--documentationSection--PQRXC"},e?r.createElement("div",{className:"inspect_component_panel--documentationRt--oG--q"},r.createElement(eS.R,{fallback:null,errorFallback:null,value:e,quillClassName:"inspect_component_panel--quill--m-Fty"})):r.createElement("div",{className:"inspect_component_panel--documentationDescriptionDefault--15thq inspect_component_panel--documentationDescription--UcDJ- ellipsis--ellipsisAfter8Lines--WZFi8 ellipsis--_ellipsisAfterNLines--LzI7k text--fontPos11--2LvXf text--_fontBase--QdLsd",dir:"auto"},(0,d.tx)("inspect_panel.components.no_description")),t.length>0&&r.createElement("div",{className:"inspect_component_panel--documentationLinks--pi-YI"},t.map(e=>r.createElement(eA,{key:e.uri,uri:e.uri,displayName:e.displayName,displayText:e.displayText}))))):null}var eM=n(25888);function eF({guids:e,title:t}){let n=r.useMemo(eM.z4,[]),l=(0,a.d4)(t=>n(t,e)),o=r.useCallback(()=>{let e=et.T4.unquoteEnumerableValues(l.map(({name:e,value:t})=>[e,t]));return et.T4.copyPairs(e,{delimiter:"=",quoted:!0,suffix:";"})},[l]);return 0===l.length?null:r.createElement(K.VZ,{title:t||(0,d.t)("inspect_panel.component_props.title"),recordingKey:"componentProps",copyAllValue:o},r.createElement("div",{"data-testid":`component-prop-property-${e.join("-")}`},l.map(({name:e,value:t})=>r.createElement(K._p,{key:e,name:e,value:t}))))}var eK=n(320578),eB=n(574176),eV=n(843495),eU=n(204098);let eH=e=>{let t=e?.parentNode;return t?"SYMBOL"===t.type||"INSTANCE"===t.type?t:eH(t):null},ez=()=>{let e=(0,et.VW)();return(0,et.jY)(),r.useMemo(()=>{if(!e)return null;let t=eH(e);return t?{id:t?.guid,name:t?.name,type:t?.type}:null},[e])},eG=e=>r.useCallback(()=>{eV.wr(),eV.Dh([e])},[e]),eW=e=>{let t=r.useCallback(()=>{eV.Uc(e)},[e]),n=r.useCallback(()=>{eV.Uc("")},[]);return r.useMemo(()=>({onMouseOver:t,onMouseOut:n}),[t,n])};function eY(e){let t=eG(e.parentId),n=eW(e.parentId);return r.createElement(eB.B,{onClick:t,className:"parent_component_panel--pinpointButton--2rDrC",svg:eU.A,...n})}function eX(){let e=ez();return e?r.createElement(K.VZ,{title:(0,d.t)("inspect_panel.parent.title"),recordingKey:"selection_hierarchy"},r.createElement("div",{className:"parent_component_panel--parentLayerSummaryContainer--JGy-s"},r.createElement(eK.u,{className:"parent_component_panel--parentLayerSummary--yAeXQ inspect_selection_header--headerSelection--05a4w",selection:e}),r.createElement(eY,{parentId:e.id}))):null}var eZ=n(899424),e$=n(380631),ej=n(347740),eq=n(813813);function eJ(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.nodeText),t=(0,a.d4)(e=>e.mirror.selectionProperties.numSelectedByType)||{};return 1!==((0,a.d4)(e=>e.mirror.selectionProperties.numSelected)||0)||1!==t.TEXT?null:r.createElement(K.VZ,{title:(0,d.t)("inspect_panel.property.content"),copyAllValue:e,recordingKey:"content"},r.createElement(K._p,{name:"content",copyValue:e||"",className:eq.dC},r.createElement("div",{className:eq.T0,dir:"auto"},e)))}function eQ(){let e=(0,a.d4)(e=>e.openFile),t=(0,a.d4)(z.qd),n=(0,a.d4)(G.Ae),l=(0,a.d4)(z.dK),o=(0,V.NM)(),i=(0,H.GS)();return r.createElement(r.Fragment,null,!!e&&r.createElement(r.Fragment,null,r.createElement(eK.a,{className:eq.sv}),r.createElement(eX,null),r.createElement(eL,null),r.createElement(ei,null),r.createElement(eF,{guids:t}),n.map(e=>{let t=l.get(e[0])?.name;return t?r.createElement(eF,{key:`bubbledInstanceInspectPanel.${e[0]}`,title:t,guids:e}):null}),r.createElement(eT,null),r.createElement(U.J,null),r.createElement(W.Xh,null),r.createElement(eJ,null),r.createElement(ej.U,null),o?r.createElement(es.x5,null):r.createElement(es.ZN,null),r.createElement(e$.o,null),r.createElement(eZ.yg,null),r.createElement(Y.t,null),i&&r.createElement(B.L,null)))}var e0=n(416095);class e1 extends r.PureComponent{render(){let e=null;if(this.props.inheritStyleName&&(0,_.hS)(this.props.inheritStyleName)&&(e=(0,_.E7)(this.props.inheritStyleName)),!e)return null;let t=(0,e0.Jb)(this.props.inheritStyleKeyField);return r.createElement("div",null,t,": ",e)}}e1.displayName="CodePanelStyleSection",n(565358);var e5=n(747213);n(467841);let e2=e=>e.visible&&null!=e.opacity&&e.opacity>0;F.l6,F.c$;function e7(){let{inStyleModal:e}=r.useContext(te),t=(0,g.b)("guid"),n=(0,a.d4)(e=>e.mirror.selectedStyleProperties),l=(0,a.d4)(e=>e.mirror.selectionProperties);return e&&t&&n?n:l}function e4(e){return e7()[e]}function e3(e){let t=e7();return(0,c.b)(t,e)}function e8(){let{inStyleModal:e}=r.useContext(te);return(0,a.d4)(t=>{var n;return e?null==(n=t.mirror.selectedStyleProperties)?void 0:n.styleType:void 0})}function e6(e,t){let n=new y.H4(e);return r.createElement(r.Fragment,null,n.render({isVisible:t,displayAs:"block"}))}M.I,M.Y;function e9(e){return(0,h.J2)(u.Ez5.propertiesPanelState().shownPropertiesPanels)[e]}let te=r.createContext({});function tt(e){let t=r.useRef(null);(0,f.f4)(()=>{let e=window.getSelection();if(!e)return;let n=e.focusNode;for(;n;){if(n===t.current){e.removeAllRanges();break}n=n.parentNode}});let n=e.flowPanel??null,a=e.localStylesPanel??null;return r.createElement(te.Provider,{value:{inStyleModal:e.inStyleModal}},r.createElement(s.D8,{forwardedRef:t,onKeyDown:e=>{if((0,i.Fo)(e)&&e.keyCode===i.Uz.A){let t=window.getSelection();if(t){let n=document.createRange();n.selectNodeContents(e.currentTarget),t.removeAllRanges(),t.addRange(n),e.preventDefault()}}},className:e5.zF},n,a,r.createElement(eQ,null),!1))}},671763:(e,t,n)=>{n.d(t,{aj:()=>G,Af:()=>eo,DP:()=>j,x5:()=>el,ZN:()=>ea,Gz:()=>en,nu:()=>er,bm:()=>q});var r=n(411855),a=n(188507),l=n(629019),o=n.n(l),i=n(297666),s=n(966712),c=n(844157),d=n(776621),p=n(304783),u=n(939863),m=n(308977),_=n(581250),g=n(452246),f=n(723081),E=n(617453),h=n(848661),y=n(809511),v=n(29680),b=n(416095),w=n(666068),T=n(284321),N=n(234945),S=n(173454),I=n(507956),C=n(750029),k=n(846848),A=n(428877),x=n(836283),R=n(991443),P=n(564092),O=n(32067),D=n(788612);let L="colors_inspect_panel--paintIcon--MVzOV",M="colors_inspect_panel--paintName--t-J8u text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",F="colors_inspect_panel--stylePaintRow--5EqOv",K="colors_inspect_panel--paintColor--3DbXu text--fontPos11--2LvXf text--_fontBase--QdLsd",B=e=>Number(e).toLocaleString("en",{style:"percent",maximumFractionDigits:2});function V(e){let{value:t}=e,n=void 0!==t&&(e.showOpaque||1!==t),a=B(t);return r.createElement(r.Fragment,null,n&&r.createElement("span",{className:K},a))}var U=n(393062);let H=new Set(["SOLID","GRADIENT_ANGULAR","GRADIENT_DIAMOND","GRADIENT_LINEAR","GRADIENT_RADIAL"]),z=new f.ro;function G(e){let{blendMode:t,onError:n}=e,a=(0,h.gl)(t)||"string"==typeof t;return t&&!a&&(console.error(TypeError(`Expected mixed | string | undefined, got ${typeof t}`)),n&&n(t),t=void 0),r.createElement(D._p,{redact:["Normal","Pass through"],indent:e.indent,className:e.className,name:(0,u.t)("inspect_panel.colors.blend"),value:z.format(t)})}let W=(e={})=>{let{isShort:t=!1,format:n=y.NVY.HEX,isInStyle:r}=e,a=n===y.NVY.HEX?"":"colors_inspect_panel--propertyRowTwoColumn--opscx";return o()(t?"colors_inspect_panel--propertyColorRowShort--h-1kY colors_inspect_panel--_propertyColorRow--gGOzK inspect_panels--basePropertyRow--dLxSz inspect_panels--_basePropertyRow--StmAE":"colors_inspect_panel--propertyColorRowTall--5z3CC colors_inspect_panel--_propertyColorRow--gGOzK inspect_panels--tallPropertyRow--oxnys inspect_panels--_basePropertyRow--StmAE inspect_panels--tallRow--W9eni",a,r?F:void 0)};function Y(e){let{isInStyle:t}=e;return r.createElement("div",{className:"colors_inspect_panel--gradientColorContainer--KtmLk","data-testid":"inspectMultilineColorRow"},r.createElement(D.d1,{className:o()({[F]:t},"colors_inspect_panel--styleNameContainer--HbhgI text--fontPos11--2LvXf text--_fontBase--QdLsd inspect_panels--tallRow--W9eni"),label:e.styleName,defaultLabel:e.defaultStyleName,isVariable:e.isVariable,isSuggestedVariable:e.isSuggestedVariable},!0!==e.hideColorChit?r.createElement(C.J,{className:L,paint:e.paint,tooltip:e.description}):r.createElement("div",null)),r.createElement(G,{className:W({isInStyle:t}),indent:!0,blendMode:e.paint.blendMode,onError:t=>{let n=TypeError(`Expected string | undefined, got ${typeof t}`);console.error(n),(0,d.$D)(p.e.DEVELOPER_TOOLS,n,{extra:{type:typeof t,value:t,source:"MultiLinePaintValue",props:e}})}}),e.colors.map((n,a)=>r.createElement(Z,{key:a,valueFormatter:e.formatter,format:e.format,color:n,paint:e.paint,alwaysShowOpacity:e.alwaysShowOpacity,hideColorChit:e.hideColorChit,isInStyle:t})))}function X(e){let{format:t}=e,{paint:n,valueFormatter:a}=e.formattableColor,{variable:l,isSuggested:o,variableDisplayName:i}=e.formattableColor.variable??{},c=r.useRef(null);if(!n.color)return null;let d={...n.color,a:n.opacity??1};if(l&&(!(0,s.kc)().dt_inferred_vars_modal||!o))return r.createElement(Y,{paint:n,className:M,styleName:i,colors:[d],format:t,formatter:a,hideColorChit:e.hideColorChit,isVariable:!0,isSuggestedVariable:o,isInStyle:e.isInStyle});let p=(0,U.q)(d,t,a);return r.createElement("div",{"data-testid":"inspectColorRow",ref:c},r.createElement(D._p,{className:W({format:t,isInStyle:e.isInStyle}),copyValue:p.copyValue},!0!==e.hideColorChit?r.createElement(C.J,{className:L,paint:n}):r.createElement("div",null),r.createElement("span",{className:K},p.value),U.x.has(e.format)&&r.createElement(V,{value:d.a})))}function Z(e){let t=(0,U.q)(e.color,e.format,e.valueFormatter);return r.createElement(r.Fragment,null,r.createElement(D._p,{className:W({isShort:!e.hideColorChit,format:e.format,isInStyle:e.isInStyle}),copyValue:t.copyValue},r.createElement("div",null),r.createElement("span",{className:K},t.value),U.x.has(e.format)&&r.createElement(V,{value:e.color.a,showOpaque:e.alwaysShowOpacity||!1})))}function $(e){let{format:t}=e,{paint:n,colors:a,valueFormatter:l,typeFormatter:o}=e.formattableColor;return r.createElement(Y,{paint:n,className:"colors_inspect_panel--gradientType--RKlht text--fontPos11--2LvXf text--_fontBase--QdLsd",defaultStyleName:(0,u.t)("inspect_panel.colors.gradient",{gradientType:o(n.type)}),colors:a,format:t,formatter:l,hideColorChit:e.hideColorChit,alwaysShowOpacity:!0,isInStyle:e.isInStyle})}function j(e){let{formattableColor:t}=e;switch(t.paint.type){case"SOLID":return r.createElement(X,{...e});case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_DIAMOND":case"GRADIENT_ANGULAR":return r.createElement($,{...e});default:return null}}function q(e){return e.visible&&e.type&&H.has(e.type)}let J=()=>{let e=(0,a.d4)(e=>e.mirror.selectionProperties.fillPaints),t=r.useMemo(()=>!e||(0,h.gl)(e)?[]:e,[e]),n=(0,O.pF)(e=>(0,c.b)(e.mirror.selectionProperties,"inheritFillStyleKey")),l=(0,a.d4)(T.e_),o=(0,a.d4)(e=>e.mirror.selectionProperties.inheritFillStyleKey),i=(0,A.Ig)(),s=o?(0,b.Gp)(o,[],l):void 0,d=t.filter(q).map(e=>(0,A.dc)(e,i,y.j0r.ALL_FILLS));return s&&n?[(0,A.rP)(n,s,d)]:d},Q=()=>{let e=(0,O.jY)(),t=(0,O.uQ)(),n=(0,_.Q)(),l=(0,m.v4)(),o=(0,I.ks)(),i=(0,a.d4)(e=>(0,N.$u)(e)>1?e.mirror.selectionPaints.paints:e.mirror.selectionPaints.paintsDirectlyOnSingleNode),s=(0,A.Ig)(),c=r.useMemo(()=>i.filter(e=>q(e.paint)).map(e=>(0,A.dc)(e.paint,s)),[i,s]),d=(0,a.d4)(e=>(0,N.$u)(e)>1?e.mirror.selectionPaints.styles:e.mirror.selectionPaints.stylesDirectlyOnSingleNode),p=(0,a.d4)(T.e_),u=r.useMemo(()=>{let t=d.map(e=>({ds:(0,b.Gp)(e.styleKey,e.styleGUIDs,p),name:e.styleName})),n=[];return t.forEach(({ds:t,name:r})=>{if(!t)return;let a=t.kind===S.AT.DANGLING?{...t.value,style_type:"FILL"}:t.value,l=e=>e.filter(q).map(e=>(0,A.dc)(e,s)),o=(0,w.QH)(a);if(o&&"FILL"===o.type)n.push((0,A.rP)(r,t,l(o.fillPaints)));else{let a=e.get(t.value.node_id);a&&n.push((0,A.rP)(r,t,l(a.fills)))}}),n},[d,p,e,s]);return r.useMemo(()=>{let e=[...u,...c];return(0,P.QT)(e,t,n.inspectionMode,l,o)},[u,c,t,n.inspectionMode,l,o])},ee=(e,t)=>e.type===x.q.STYLE?r.createElement(en,{color:e,format:t.format}):r.createElement(et,{color:e,format:t.format,hideColorChit:t.hideColorChit});function et(e){return r.createElement(j,{format:e.format,formattableColor:e.color,hideColorChit:e.hideColorChit})}function en(e){let t=(0,a.wA)(),n=e.color.dsStyle.kind,l=e.color.dsStyle.value.node_id,o=r.useMemo(()=>(0,i.s)(()=>{l&&t(g.rb({styleNodeId:l,styleKind:n}))}),[t,n,l]);r.useEffect(o,[o]);let s=e.color.dsStyle.value;return n===S.AT.DANGLING&&(s.style_type="FILL",s.node_id=l),r.createElement(r.Fragment,null,r.createElement(D._p,{className:"colors_inspect_panel--styleNameRow--RknQ9 inspect_panels--tallPropertyRow--oxnys inspect_panels--_basePropertyRow--StmAE inspect_panels--tallRow--W9eni",copyValue:e.color.name,dataTestId:"styleNameRow"},r.createElement(R.zi,{dsStyle:s,hideNameInTooltip:!0}),r.createElement(D._p,{className:M,value:e.color.name})),e.color.paints.map(t=>r.createElement("div",{key:t.encodedPaint,"data-testid":"stylePaintRow"},r.createElement(j,{format:e.format,formattableColor:t,hideColorChit:e.hideColorChit,isInStyle:!0}))))}function er(e){let t=(0,E.Ku)(),n=e.formattableColors,a=r.useMemo(()=>({format:t}),[t]);return r.createElement(D.x0,{limit:5,data:n,renderElement:ee,extras:a})}function ea(){let e=(0,I.ks)(),t=(0,O.uQ)(),n=v.eY().get(t??"")?.type,a=J(),l=(0,_.Q)(),o=(0,m.v4)(),i=(0,I.ks)(),s=(0,P.QT)(a,t,l.inspectionMode,o,i),c=(0,E.Ku)(),d=r.useMemo(()=>r.createElement(eo,{id:"colors-panel"}),[]),p=O.T4.useCopyAllColors(s,c);if(s.length<1)return null;let g=(0,P.kX)(s);return r.createElement(D.VZ,{title:e?"TEXT"===n?(0,u.t)("dev_handoff.inspect_panel.fills.text"):(0,u.t)("dev_handoff.inspect_panel.fills.background"):(0,u.t)("inspect_panel.colors.title"),additionalHeaders:d,copyAllValue:p,recordingKey:"colors",matchingVars:g},r.createElement(er,{formattableColors:s}))}function el(){let e=Q(),t=(0,E.Ku)(),n=r.useMemo(()=>r.createElement(eo,{id:"colors-panel"}),[]),a=O.T4.useCopyAllColors(e,t);return e.length<1?null:r.createElement(D.VZ,{title:(0,u.t)("inspect_panel.colors.title"),additionalHeaders:n,copyAllValue:a,recordingKey:"colors"},r.createElement(er,{formattableColors:e}))}function eo(e){let t=(0,a.wA)(),n=(0,E.Ku)(),l=(0,a.d4)(e=>e.dropdownShown),o=(0,I.ks)(),i=(0,D.SV)("inspection_panel_color_format_change"),s=r.useCallback(e=>{(0,E.UK)().colorFormat.set(e),i({value:k.Fr.format(e)})},[i]);return r.createElement("div",{className:"colors_inspect_panel--colorPanelControls--xeWFU"},r.createElement(k.bO,{id:`inspect-color-type-select:${e.id}`,className:"colors_inspect_panel--typeSelect--A0Z4U",dropdownClassName:"colors_inspect_panel--typeSelectDropdown--zffDS",property:n,formatter:k.Fr,onChange:s,dispatch:t,dropdownShown:l,dropdownAlignment:"right"},r.createElement(k.ef,{value:y.NVY.HEX}),r.createElement(k.ef,{value:y.NVY.RGB}),!o&&r.createElement(k.ef,{value:y.NVY.CSS}),r.createElement(k.ef,{value:y.NVY.HSL}),r.createElement(k.ef,{value:y.NVY.HSB}),o&&r.createElement(k.ef,{value:y.NVY.UIColor})))}},200243:(e,t,n)=>{n.d(t,{Xh:()=>w});var r=n(411855),a=n(188507),l=n(927658),o=n.n(l),i=n(939863),s=n(187796),c=n(239349),d=n(671763),p=n(32067),u=n(788612),m=n(221537),_=n(564092),g=n(533573);function f({name:e,value:t,displayValue:n,variable:a,format:l}){if(!a){let n="pixels"===l?u.YE:u._p;return r.createElement(n,{name:e,value:t})}return r.createElement(u._p,{name:e,format:l,value:n??t,variable:a?.variableDisplayName,isSuggestedVariable:a?.isSuggested,copyValue:a?.variableDisplayName})}function E(e){if(e?.length===1){let t=e[0];return[t,t,t,t]}if(e?.length===4)return[e[0],e[1],e[2],e[3]]}function h({name:e,variables:t,value:n,format:a}){let l=E(n);if(!l)return null;let o=(t??[]).map((e,t)=>({value:l[t],format:a,variable:e?.variableDisplayName,isSuggestedVariable:e?.isSuggested,variableData:e}));return 4===o.length&&o.some(e=>e.variable)?o.every(e=>e.value===o[0].value&&e.variable===o[0].variable&&e.isSuggestedVariable===o[0].isSuggestedVariable)?r.createElement(u._p,{name:e,format:o[0].format,value:o[0].value,variable:o[0].variable,copyValue:v(o[0].variableData,o[0].value),isSuggestedVariable:o[0].isSuggestedVariable}):r.createElement(u._p,{name:e,format:"mixed",value:o,copyValue:o.map((e,n)=>v(t[n],e.value)).join(" ")}):r.createElement(u._p,{name:e,format:"pixels",value:n})}let y=e=>"string"==typeof e?`${e}px`:(0,u.nd)(e??0,"px");function v(e,t){return(0,g.gQ)(e)?(0,g.NX)(e):y(t)}function b(e,t,n,r,a){if(!E(a)||!a)return;let l=[e,t,n,r].map((e,t)=>v(e,a[t]));return l.every(e=>e===l[0])?l[0]:l.join(" ")}function w(){(0,p.jY)();let e=(0,c.VW)(),t=(0,a.d4)(e=>e.mirror.selectionProperties),{padding:{top:n,right:l,bottom:g,left:E},border:{top:w,right:T,bottom:N,left:S},radius:{topLeft:I,topRight:C,bottomRight:k,bottomLeft:A}}=(0,s.$G)(),x=(0,s.Ud)(n,l,g,E),R=(0,s.Ud)(w,T,N,S),P=(0,s.Ud)(I,C,k,A),O=(0,s.Cs)(e?.parentNode?.stackMode),D=(0,s.Cs)(t.stackMode),L=D&&(0,m.rO)(t.stackPrimaryAlignItems),M=L?void 0:t.stackSpacing,F=M&&M>0?M:void 0,K=L?"space-between":void 0,B=1!==t.opacity?t.opacity:void 0,V=(0,_.xp)("WIDTH",t.width),U=(0,_.xp)("HEIGHT",t.height),H=(0,_.xp)("OPACITY",t.opacity),z=(0,_.xp)("STACK_PADDING_TOP",x?.[0]),G=(0,_.xp)("STACK_PADDING_RIGHT",x?.[1]),W=(0,_.xp)("STACK_PADDING_BOTTOM",x?.[2]),Y=(0,_.xp)("STACK_PADDING_LEFT",x?.[3]),X=(0,_.xp)("STACK_SPACING",F),Z=(0,_.xp)("RECTANGLE_TOP_LEFT_CORNER_RADIUS",P?.[0]),$=(0,_.xp)("RECTANGLE_TOP_RIGHT_CORNER_RADIUS",P?.[1]),j=(0,_.xp)("RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",P?.[2]),q=(0,_.xp)("RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",P?.[3]),J=(0,_.xp)("BORDER_TOP_WEIGHT",R?.[0]),Q=(0,_.xp)("BORDER_RIGHT_WEIGHT",R?.[1]),ee=(0,_.xp)("BORDER_BOTTOM_WEIGHT",R?.[2]),et=(0,_.xp)("BORDER_LEFT_WEIGHT",R?.[3]),{numSelected:en,width:er,height:ea,stackHorizontalSize:el,stackVerticalSize:eo,x:ei,y:es,angle:ec,blendMode:ed}=t,ep=[V.matchingVars,U.matchingVars,H.matchingVars,z.matchingVars,G.matchingVars,Y.matchingVars,W.matchingVars,X.matchingVars,Z.matchingVars,$.matchingVars,j.matchingVars,q.matchingVars,J.matchingVars,Q.matchingVars,ee.matchingVars,et.matchingVars].filter(e=>!!e&&e.ids.length>0),eu=Object.entries({width:v(V,(0,s.I9)(er||0,el,D)),height:v(U,(0,s.I9)(ea||0,eo,D)),...!O&&{top:es,left:ei},padding:b(z,G,W,Y,x),gap:v(X,F),borderRadius:b(Z,$,j,q,P),border:b(J,Q,ee,et,R),justify:K,opacity:v(H,B),angle:ec?ec.toLocaleString("en",u.N7):void 0}).filter(([e,t])=>!!t).map(([e,t])=>[o()(e),"opacity"===e&&"number"==typeof t?(0,u.nd)(t,""):"number"==typeof t?y(t):Array.isArray(t)?t.map(y).join(", "):(t??"").toString()]),em=r.useCallback(()=>p.T4.copyPairs(eu,{suffix:";"}),[eu]);return 1!==en?null:r.createElement(u.VZ,{title:(0,i.t)("inspect_panel.properties.layout"),copyAllValue:em,recordingKey:"properties",matchingVars:ep},r.createElement(f,{name:(0,i.t)("inspect_panel.properties.width"),variable:V,format:"pixels",value:er||0,displayValue:(0,s.I9)(er||0,el,D)}),r.createElement(f,{name:(0,i.t)("inspect_panel.properties.height"),variable:U,format:"pixels",value:ea||0,displayValue:(0,s.I9)(ea||0,eo,D)}),!O&&r.createElement(r.Fragment,null,r.createElement(u.YE,{name:(0,i.t)("inspect_panel.properties.top"),value:es}),r.createElement(u.YE,{name:(0,i.t)("inspect_panel.properties.left"),value:ei})),r.createElement(h,{name:(0,i.t)("inspect_panel.properties.radius"),variables:[Z,$,j,q],format:"pixels",value:P}),r.createElement(h,{name:(0,i.t)("inspect_panel.properties.border"),variables:[J,Q,ee,et],format:"pixels",value:R}),r.createElement(u._p,{name:(0,i.t)("inspect_panel.properties.justify"),value:K}),D&&r.createElement(r.Fragment,null,r.createElement(h,{name:(0,i.t)("inspect_panel.properties.padding"),variables:[z,G,W,Y],format:"pixels",value:x}),r.createElement(f,{name:(0,i.t)("inspect_panel.properties.gap"),variable:X,format:"pixels",value:F})),r.createElement(u.HF,{name:(0,i.t)("inspect_panel.properties.rotation"),value:ec}),r.createElement(u.r4,{redact:1,name:(0,i.t)("inspect_panel.properties.opacity"),variable:H?.variableDisplayName,value:B}),r.createElement(d.aj,{blendMode:ed}))}},899424:(e,t,n)=>{n.d(t,{rK:()=>C,yg:()=>A,d7:()=>k});var r=n(411855),a=n(188507),l=n(574176),o=n(939863),i=n(308977),s=n(581250),c=n(852800),d=n(844157),p=n(32067),u=n(848661),m=n(507956),_=n(671763),g=n(788612),f=n(297281),E=n(428877),h=n(564092),y=n(869156),v=n(478655),b=n(712685);function w({value:e,varData:t}){let n=t?.value?.alias,a=(0,y.u)(n?v.dI(n):void 0);return a?r.createElement("div",{className:"value_or_variable_pill--variablePillContainer--198BC"},r.createElement(b.w,{text:e,tooltip:a.name})):r.createElement(r.Fragment,null,e)}let T="shadows_panel--shadowContent--Dr9RG",N="shadows_panel--shadowLabel--5-LtV ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",S="shadows_panel--shadowValue--V8Kzx text--fontPos11--2LvXf text--_fontBase--QdLsd";var I=n(666139);function C(e){let t=r.useMemo(()=>new f.ck,[]).format(e.type),n=p.T4.useCopyShadow(e),{spread:a,radius:i,offset:s,blendMode:c,visible:d,radiusVar:u,spreadVar:m,xVar:E,yVar:h}=e;if(!d)return null;let y="DROP_SHADOW"===e.type||"INNER_SHADOW"===e.type;return r.createElement(r.Fragment,null,r.createElement(g.d1,{className:"shadows_panel--shadowNameContainer--5hoPK inspect_panels--tallRow--W9eni text--fontPos11--2LvXf text--_fontBase--QdLsd",labelClassName:"shadows_panel--shadowNameLabel--TxKd3",label:e.styleName,defaultLabel:t},r.createElement(l.B,{className:"shadows_panel--shadowSVG--2di9W",svg:I.A})),y&&r.createElement(g._p,{copyValue:n,className:T},r.createElement("div",{className:N},(0,o.tx)("inspect_panel.shadows.x")),r.createElement("div",{className:S},r.createElement(w,{value:(0,p.Wf)(s?.x),varData:E})),r.createElement("div",{className:N},(0,o.tx)("inspect_panel.shadows.y")),r.createElement("div",{className:S},r.createElement(w,{value:(0,p.Wf)(s?.y),varData:h}))),r.createElement(g._p,{copyValue:n,className:T},r.createElement("div",{className:N},(0,o.tx)("inspect_panel.shadows.blur")),r.createElement("div",{className:S},r.createElement(w,{value:(0,p.Wf)(i),varData:u})),y&&r.createElement(r.Fragment,null,r.createElement("div",{className:N},(0,o.tx)("inspect_panel.shadows.spread_tooltip")),r.createElement("div",{className:S},r.createElement(w,{value:(0,p.Wf)(a),varData:m})))),y&&r.createElement(r.Fragment,null,r.createElement(_.aj,{blendMode:c}),r.createElement(_.nu,{formattableColors:[e.formattableColor]})))}function k(e,t){let n=(0,p.uQ)(),r=(0,s.Q)(),a=(0,i.v4)(),l=(0,m.ks)(),o=(0,E.Ig)();return e.map(e=>{if(!e.color)return;let i=(0,E.oI)({color:e.color,colorVar:e.colorVar,variableScope:c.j0r.EFFECT_COLOR,displayValue:o}),s=(0,h.uA)(i,n,a.id,l,r.inspectionMode);return{...e,styleName:t,formattableColor:s}}).filter(e=>!!e)}function A(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected)||0,t=function(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.effects),t=(0,a.d4)(e=>(0,u._W)((0,d.b)(e.mirror.selectionProperties,"inheritEffectStyleKey"),void 0)),n=(0,p.uQ)();return r.useMemo(()=>!n||(0,u.gl)(e)?[]:[{effects:(e||[]).filter(e=>"INNER_SHADOW"===e.type||"DROP_SHADOW"===e.type).filter(e=>e.visible).map((e,n)=>({name:t,...e,id:`effect-${n}`})),styleName:t}],[n,e,t])}(),n=t[0],l=p.T4.useCopyAllShadows(n?.effects??[]),i=r.useMemo(()=>r.createElement(_.Af,{id:"shadows-panel"}),[]),s=k(n?.effects??[],n?.styleName),c=(0,h.kX)(s.map(e=>e.formattableColor)),m=r.useCallback(e=>r.createElement(C,{styleName:e.styleName,key:e.id,id:e.id,type:e.type,offset:e.offset,radius:e.radius,spread:e.spread,formattableColor:e.formattableColor,blendMode:e.blendMode,visible:e.visible,colorVar:e.colorVar,xVar:e.xVar,yVar:e.yVar,radiusVar:e.radiusVar,spreadVar:e.spreadVar,showShadowBehindNode:e.showShadowBehindNode}),[]);return 1!==e||!t||t.length<1||n.effects.length<1?null:r.createElement(g.VZ,{title:(0,o.t)("inspect_panel.shadows.title"),recordingKey:"shadows",copyAllValue:l,additionalHeaders:i,matchingVars:c},r.createElement(g.x0,{limit:2,data:s,renderElement:m,extras:n.styleName}))}},380631:(e,t,n)=>{n.d(t,{o:()=>x});var r=n(411855),a=n(188507),l=n(794272),o=n(572174),i=n(844157),s=n(939863),c=n(308977),d=n(581250),p=n(852800),u=n(848661),m=n(555074),_=n(416095),g=n(284321),f=n(507956),E=n(428877),h=n(529358),y=n(564092),v=n(671763),b=n(32067),w=n(673867),T=n(788612);let N=()=>{let e=(0,a.d4)(e=>e.mirror.selectionProperties.strokePaints),t=!e||(0,u.gl)(e)?[]:e.filter(e=>e.visible),n=(0,b.uQ)(),s=(0,d.Q)(),h=(0,c.v4)(),w=(0,f.ks)(),T=(0,b.pF)(e=>(0,i.b)(e.mirror.selectionProperties,"inheritFillStyleKeyForStroke")),N=(0,a.d4)(g.e_),I=(0,m.kl)("inheritFillStyleKeyForStroke"),A=I&&(0,u.hS)(I)?(0,_.Gp)(I,[],N):void 0,x=(0,a.d4)(e=>e.mirror.selectionProperties.borderSharedWeight||e.mirror.selectionProperties.strokeWeight)||1,R=(0,l.R)(e=>({borderTopWeight:e.mirror.selectionProperties.borderTopWeight,borderRightWeight:e.mirror.selectionProperties.borderRightWeight,borderBottomWeight:e.mirror.selectionProperties.borderBottomWeight,borderLeftWeight:e.mirror.selectionProperties.borderLeftWeight})),P=(0,a.d4)(e=>e.mirror.selectionProperties.strokeAlign)||"OUTSIDE",O=(0,b.uQ)(),D=(0,E.Ig)(),L=t.filter(v.bm).map(e=>(0,E.dc)(e,D,p.j0r.STROKE)),M=r.useMemo(()=>{let e=A&&T?[(0,E.rP)(T,A,L)]:L;return(0,y.QT)(e,n,s.inspectionMode,h,w)},[A,T,L,n,s.inspectionMode,h,w]),F=(0,a.d4)(S);return r.useMemo(()=>{if(!O||M.length<1||!x)return[];let e=C(x,[R.borderTopWeight,R.borderRightWeight,R.borderBottomWeight,R.borderLeftWeight].filter(o.Vq));return e?[{id:O,strokeWeight:e,strokeColors:M,strokeAlign:k(P),borderCSSKey:F}]:[]},[O,P,x,M,F,R])},S=e=>{let t=e.mirror.selectionProperties;if(!(0,u.gl)(t.borderSharedWeight)){if(!t.borderStrokeWeightsIndependent)return"border";if(t.borderTopVisible)return"border-top";if(t.borderBottomVisible)return"border-bottom";if(t.borderLeftVisible)return"border-left";if(t.borderRightVisible)return"border-right"}},I=e=>{switch(e){case"border":return(0,s.t)("inspect_panel.strokes.all_sides");case"border-top":return(0,s.t)("inspect_panel.strokes.top_side");case"border-bottom":return(0,s.t)("inspect_panel.strokes.bottom_side");case"border-left":return(0,s.t)("inspect_panel.strokes.left_side");case"border-right":return(0,s.t)("inspect_panel.strokes.right_side");default:return}},C=(e,t)=>(0,u.gl)(e)?t.some(e=>(0,u.gl)(e))?(0,s.t)("fullscreen.mixed"):t.map(e=>(0,T.nd)(e,"px")).join(", "):`${(0,T.nd)(e,"px")}`,k=e=>{switch(e){case"OUTSIDE":return(0,s.t)("inspect_panel.strokes.outer_border");case"INSIDE":return(0,s.t)("inspect_panel.strokes.inner_border");case"CENTER":return(0,s.t)("inspect_panel.strokes.center_border");default:return}};function A(e){let t=(0,w.X)(e.strokeAlign),n=e.strokeWeight.split(",").join(""),a=b.T4.useStrokeCopyValue(n,e.strokeColors,e.borderCSSKey);return r.createElement("div",null,r.createElement(T._p,{copyValue:a,className:"strokes_panel--strokeLabelRow--UVeiF inspect_panels--basePropertyRow--dLxSz inspect_panels--_basePropertyRow--StmAE text--fontPos11--2LvXf text--_fontBase--QdLsd inspect_panels--tallRow--W9eni"},r.createElement("div",{className:"strokes_panel--strokeWeightIcon--gyv-r"},r.createElement(h.Cq,{iconState:"ACTIVE"})),r.createElement("span",null,e.strokeWeight),e.borderCSSKey&&r.createElement("span",{className:"strokes_panel--strokeSide--JjXb2 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",...t},I(e.borderCSSKey))),r.createElement(v.nu,{formattableColors:e.strokeColors}),e.strokeAlign&&r.createElement(T._p,{className:"strokes_panel--strokeAlignmentRow--5q8cB inspect_panels--tallPropertyRow--oxnys inspect_panels--_basePropertyRow--StmAE inspect_panels--tallRow--W9eni"},r.createElement("span",{className:"strokes_panel--strokeAlignment--mT7M- text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",...t},e.strokeAlign)))}function x(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected)||0,t=N(),n=(0,l.R)(e=>({borderTopWeight:e.mirror.selectionProperties.borderTopWeight,borderRightWeight:e.mirror.selectionProperties.borderRightWeight,borderBottomWeight:e.mirror.selectionProperties.borderBottomWeight,borderLeftWeight:e.mirror.selectionProperties.borderLeftWeight})),o=(0,y.xp)("BORDER_TOP_WEIGHT",n.borderTopWeight),i=(0,y.xp)("BORDER_RIGHT_WEIGHT",n.borderRightWeight),c=(0,y.xp)("BORDER_BOTTOM_WEIGHT",n.borderLeftWeight),d=(0,y.xp)("BORDER_LEFT_WEIGHT",n.borderBottomWeight),p=r.useMemo(()=>r.createElement(v.Af,{id:"strokes-panel"}),[]),u=b.T4.useCopyAllStrokes(t);if(1!==e||t.length<1)return null;let m=t.flatMap(e=>e.strokeColors),_=[...(0,y.kX)(m),o.matchingVars,i.matchingVars,c.matchingVars,d.matchingVars].filter(e=>!!e);return r.createElement(T.VZ,{title:(0,s.t)("inspect_panel.strokes.title"),recordingKey:"borders",additionalHeaders:p,copyAllValue:u,matchingVars:_},r.createElement(T.x0,{limit:2,data:t,renderElement:A}))}},347740:(e,t,n)=>{n.d(t,{U:()=>y});var r=n(411855),a=n(188507),l=n(939863),o=n(852800),i=n(32067),s=n(564092),c=n(533573),d=n(788612),p=n(813813);let u=e=>{if("CAP_HEIGHT"===e)return(0,l.t)("inspect_panel.typography.cap_height")},m=e=>{if(e)return(0,l.t)("inspect_panel.typography.hanging_punctuation")},_=e=>{switch(e){case"RIGHT":return(0,l.t)("inspect_panel.typography.align_right");case"CENTER":return(0,l.t)("inspect_panel.typography.align_center");case"JUSTIFIED":return(0,l.t)("inspect_panel.typography.align_justified");default:return}},g=e=>{if(e&&e.value)switch(e.units){case"PERCENT":return`${(0,i.um)(e.value/100,4)}em`;case"PIXELS":return`${e.value}px`;default:return}};function f(e,t,n){if((0,c.gQ)(e)||t)return(0,c.gQ)(e)?(0,c.NX)(e):`${t}${n??""}`}function E({name:e,maybeVariable:t,...n}){return r.createElement(d._p,{className:p.k$,name:e,variable:t?.variableDisplayName,isSuggestedVariable:t?.isSuggested,copyValue:t?.variableDisplayName,...n})}function h(e,{numFonts:t,extraHeader:n}){let c=function(e){let t=(0,s.AA)("FONT_FAMILY",e.fontFamily,e.variableConsumptionMap),n=(0,s.xp)("FONT_SIZE",e.fontSize,e.variableConsumptionMap),r=(0,s.xp)("FONT_STYLE",e.fontWeight,e.variableConsumptionMap),l=r.variable?.resolvedType===o.rXF.FLOAT?r:{},i=(0,s.xp)("LINE_HEIGHT",e.lineHeight,e.variableConsumptionMap),c=(0,s.xp)("LETTER_SPACING",e.letterSpacing?.units!=="PERCENT"?e.letterSpacing?.value:void 0,e.variableConsumptionMap),d=(0,a.d4)(e=>e.mirror.selectionProperties.paragraphSpacing),p=(0,s.xp)("PARAGRAPH_SPACING",d,e.variableConsumptionMap),u=(0,a.d4)(e=>e.mirror.selectionProperties.paragraphIndent);return{fontFamilyVariable:t,fontWeightVariable:l,fontSizeVariable:n,lineHeightVariable:i,letterSpacingVariable:c,paragraphSpacingVariable:p,paragraphIndentVariable:(0,s.xp)("PARAGRAPH_INDENT",u,e.variableConsumptionMap)}}(e),{fontFamily:h,fontWeight:y,fontStyle:v,fontSize:b,styleName:w,leadingTrim:T,lineHeight:N,letterSpacing:S,textAlignHorizontal:I,opticalSize:C,fontVariationsDescription:k,isStyleSoftDeleted:A,hangingPunctuation:x,hangingList:R,substring:P}=e,O=Object.values(c).map(e=>{if(e.matchingVars)return e.matchingVars}).filter(e=>!!e&&e.ids.length>0),D=(0,a.d4)(e=>e.mirror.selectionProperties.paragraphSpacing),L=(0,a.d4)(e=>e.mirror.selectionProperties.paragraphIndent),M=A?null:w,F=T&&u(T),K=I&&_(I),B=x&&m(x),V=R&&m(R),U=r.useCallback(()=>e?i.T4.copyPairs([e.isStyleSoftDeleted?null:["//styleName",e.styleName],["font-family",f(c?.fontFamilyVariable,e.fontFamily)],["font-size",f(c?.fontSizeVariable,(0,i.um)(e.fontSize,2),"px")],["font-style",e.fontStyle],["font-weight",e.fontWeight],["line-height",f(c?.lineHeightVariable,(0,i.um)(e.lineHeight,2),"px")],["letter-spacing",f(c?.letterSpacingVariable,g(e.letterSpacing))],["text-align",e.textAlignHorizontal?.toLocaleLowerCase()],["font-variation-settings",e.fontVariationsCss]].filter(e=>!!e&&!!e[1]),{suffix:";"}):"",[e,c]),H=0===e.index,z=e.index===t-1,G=P?.trim()||(0,l.t)("inspect_panel.typography.span_whitespace");return r.createElement(d.VZ,{title:H?(0,l.t)("inspect_panel.typography.title"):P?(0,l.t)("inspect_panel.typography.span_contents",{contents:G}):(0,l.t)("inspect_panel.typography.span"),thinTitle:!H,noBorder:!0,padding:z?void 0:d.UZ.NO_BOTTOM,doNotReserveSpaceForChevronInTitle:!H,copyAllValue:U,recordingKey:H?"typography":`typography${e.index}`,matchingVars:O},H&&n,M&&r.createElement(d._p,{className:p.k$,name:(0,l.t)("inspect_panel.typography.name"),value:M}),r.createElement(E,{name:(0,l.t)("inspect_panel.typography.font"),maybeVariable:c.fontFamilyVariable,value:h}),r.createElement(E,{name:(0,l.t)("inspect_panel.typography.weight"),maybeVariable:c.fontWeightVariable,value:y}),r.createElement(d._p,{className:p.k$,name:(0,l.t)("inspect_panel.typography.style"),value:v}),r.createElement(E,{name:(0,l.t)("inspect_panel.typography.size"),maybeVariable:c.fontSizeVariable,value:b,format:"pixels"}),"NONE"!==T&&r.createElement(d.YE,{className:p.k$,name:(0,l.t)("inspect_panel.typography.leading_trim"),value:F}),r.createElement(E,{name:(0,l.t)("inspect_panel.typography.line_height"),maybeVariable:c.lineHeightVariable,value:N,format:"pixels"}),!!D&&r.createElement(E,{name:(0,l.t)("inspect_panel.typography.paragraph_spacing"),maybeVariable:c.paragraphSpacingVariable,value:D,format:"pixels"}),!!L&&r.createElement(E,{name:(0,l.t)("inspect_panel.typography.paragraph_indent"),maybeVariable:c.paragraphIndentVariable,value:L,format:"pixels"}),S&&0!==S.value&&r.createElement(E,{name:(0,l.t)("inspect_panel.typography.letter"),maybeVariable:c.letterSpacingVariable,value:S,format:"fig_number"}),K&&r.createElement(d._p,{className:p.k$,name:(0,l.t)("inspect_panel.typography.align"),value:K}),B&&r.createElement(d._p,{className:p.k$,name:(0,l.t)("inspect_panel.typography.punctuation"),value:B}),V&&r.createElement(d._p,{className:p.k$,name:(0,l.t)("inspect_panel.typography.hanging_list"),value:V}),void 0!==C&&r.createElement(d.YE,{className:p.k$,name:(0,l.t)("inspect_panel.typography.optical_size"),value:C}),k&&r.createElement(d._p,{className:p.k$,name:(0,l.t)("inspect_panel.typography.variation"),value:k}))}function y(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected)||0,t=function(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.selectedFonts),t=r.useMemo(()=>{if(!e||!e.fonts)return;let t=new Set;return e.fonts.filter(e=>!!e.substring&&(!e.parentStyleId||!t.has(e.parentStyleId)&&(t.add(e.parentStyleId),!0))).sort((e,t)=>(e.startPos??0)-(t.startPos??0)).map((e,t)=>({...e,index:t}))},[e]);if(e&&t)return{fonts:t,incompleteResults:e.incompleteResults}}();return!t||t?.fonts.length<1?null:r.createElement("div",{className:p.sk},r.createElement(d.x0,{limit:2,data:t.fonts,renderElement:h,extras:{numFonts:t.fonts.length,extraHeader:t.incompleteResults?r.createElement("div",{className:p.VC},(0,l.tx)("inspect_panel.typography.too_many_selected",{numSelected:e})):null}}))}},353822:(e,t,n)=>{n.d(t,{K:()=>el});var r=n(411855),a=n(188507),l=n(153234),o=n(939863),i=n(852800),s=n(835808),c=n(690710),d=n(782467),p=n(663668);function u(e){let{containerClassName:t,isHTMLString:n,onExpandCallback:a,text:l}=e,o=r.useMemo(()=>n?(0,p.A)(l):l,[n,l]),[i,s]=r.useState(!1),c=r.useRef(null),u=r.useCallback(()=>s(!1),[]),m=(0,d.e)({ref:c,onTextChange:u,text:o}),_=r.useCallback(()=>{a?a(!i):s(!i)},[i,a]),g=i?"Show less":"Show more";return r.createElement("div",{className:`${t} expandable_text_container--container--fauZM`},r.createElement("div",{ref:c,className:i?"":"expandable_text_container--truncatedText--Zh19Y ellipsis--ellipsis--Tjyfa"},o),m&&r.createElement("div",{className:"expandable_text_container--toggleToExpandPrompt--y9zk9",onClick:_},g))}var m=n(776250),_=n(531664),g=n(572174),f=n(83909),E=n(662531),h=n(234945),y=n(107244),v=n(356390),b=n(848661),w=n(929077);function T(e){let{description:t,isViewOnly:n,onSubmitDescription:a}=e,i=(0,b.gl)(t),s=N(t),c=l.qP(e.recordingKey,"submit",e=>{e!==N(t)&&(0===(0,p.A)(e).trim().length?a(""):a(e))}),d=r.useCallback(()=>{v.Y5.commit()},[]);return r.createElement(w.A,{description:s,isViewOnly:n,placeholder:i?(0,o.t)("design_systems.component_panel.description_mixed"):(0,o.t)("design_systems.component_panel.description_placeholder"),onBlur:d,onSubmit:c})}function N(e){return(0,b.gl)(e)?(0,o.t)("design_systems.component_panel.description_mixed"):e}var S=n(498750),I=n(335601),C=n(659838),k=n(7959);let A=/^\w+:/;function x(e){let{links:t,onSubmitLinks:n}=e,[a,i]=r.useState(null),s=r.useCallback(e=>e.keyCode===S.Uz.ENTER&&!e.shiftKey&&(e.currentTarget.blur(),!0),[]),c=r.useCallback(e=>{i(e.target.value)},[i]),{inputRef:d,inputProps:{onChange:p,onFocus:u,onMouseUp:m,onMouseLeave:_,onKeyUp:g}}=(0,I.X)({onChange:c}),f=t?.find(e=>e),E=r.useCallback(()=>{if(null!==a){if(a.length<1){n([]),v.Y5.commit();return}n([{uri:a.match(A)?a:`https://${a}`}]),v.Y5.commit(),i(null)}},[n,a,i]),h=l.c1(e),y=null===a?f?.uri:a;return r.createElement(r.Fragment,null,r.createElement("div",{className:"documentation_link_input--label--ATBu1"},(0,o.tx)("design_systems.component_panel.link")),r.createElement(k.fI,{className:"documentation_link_input--row--Ph7Ip component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V"},r.createElement(C.L,{ref:d,key:"symbol-link",className:"documentation_link_input--documentationLink--3NlJC raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u ellipsis--ellipsis--Tjyfa",value:y||"",placeholder:(0,o.t)("design_systems.component_panel.link_to_documentation"),onFocus:u,onBlur:E,onChange:p,onKeyDown:s,onMouseUp:m,onMouseLeave:_,onKeyUp:g,recordingKey:h("componentSymbolLinks")})))}var R=n(210954),P=n(378958),O=n(155497);let D="component_link_display--linkWrapper--sxTXs";function L({links:e}){let t=e?.[0];if(null==t)return null;let n=r.createElement(r.Fragment,null,r.createElement("div",{className:"component_link_display--favicon--BwLu-"},r.createElement(P.v,{url:t.uri})),r.createElement("span",{className:"component_link_display--link--l6rH8"},t.uri));return r.createElement("div",{className:"component_link_display--wrapper--CLPXG"},r.createElement("div",{className:"component_link_display--header--fts8b"},(0,o.tx)("design_systems.component_panel.link")),(0,O.G)(t.uri??"")?r.createElement(R.N,{className:D,trusted:!1,href:t.uri,target:"_blank"},n):r.createElement("div",{className:D},n))}var M=n(771768),F=n(485463),K=n(256296),B=n(946689),V=n(762638);function U(){let e=(0,a.d4)(e=>{let t=(0,y.Lg)(e)??"";return e.mirror.sceneGraph.get(t)?.simplifyInstancePanels??!1});return r.createElement("div",{className:V.cx.bSolid.bt1.colorBorder.pt16.pb28.pl12.pr12.$},r.createElement(F.S,{checked:e,label:r.createElement(K.J,null,(0,o.t)("design_systems.component_panel.simplify_instances")),onChange:()=>E.l7.user("simplify-instance-panels",()=>i.glU.setSimplifyInstancePanels(!e)),recordingKey:"simplifyInstancePanelsCheckbox",htmlAttributes:{"data-testid":"simplify-instance-panels-checkbox"}},(0,o.tx)("design_systems.component_panel.simplify_instances_help_text"),r.createElement(r.Fragment,null,"\xa0",r.createElement(B.CY,{href:"https://help.figma.com/hc/articles/5579474826519-Explore-component-properties#simplified",target:"_blank",trusted:!0},(0,o.tx)("general.learn_more")))))}function H(e){let{descriptionElement:t,menuType:n,description:o,links:s,pickerShown:d}=e,p=(0,a.d4)(c.i$),u=d.id===M.uA,g=(0,a.d4)(e=>"state-group"===n?[(0,y.od)(e)].filter(e=>null!=e):(0,h.F4)(e)),v=r.useCallback(e=>{E.l7.user("set-description",()=>{for(let t of g)t.setDescriptionRich(e)});let{componentKeys:t,updatedNodeIds:n}=z(g);(0,m.sx)("component description updated",{updatedNodeIds:n,componentKeys:t,isRichText:!0,length:e.length})},[g]),b=r.useCallback(e=>{for(let t of g)(0,_.c2)(t.symbolLinks,e)||(f.wt.reportAnyPropertyChange(["symbolLinks"]),t.symbolLinks=e);let{componentKeys:t,updatedNodeIds:n}=z(g);(0,m.sx)("component links updated",{updatedNodeIds:n,componentKeys:t})},[g]),w=d?.id===M.Wv&&p!==i.iCO.STATE;return r.createElement(r.Fragment,null,r.createElement("div",{className:u?"component_controls_menu--descriptionContainerViewOnly--VAeo9 component_controls_menu--descriptionContainer--me8J2":"component_controls_menu--descriptionContainer--me8J2"},t,r.createElement(T,{key:n,description:o,isViewOnly:u,onSubmitDescription:v,recordingKey:l.Pt(e,"componentDescriptionText")}),d.id===M.Wv?r.createElement(x,{links:s,onSubmitLinks:b}):r.createElement(L,{links:s})),w&&r.createElement(U,null))}function z(e){let t=e.map(e=>e.guid),n=t.map(e=>i.Egt.getAssetKeyForPublish(e)).filter(g.Vq).map(e=>e.toString());return{updatedNodeIds:t,componentKeys:n}}var G=n(343662),W=n(697378),Y=n(574176),X=n(893606),Z=n(313888),$=n(531800);let j=["component_set","selected_variant"],q={component_set:!0,selected_variant:!0},J={component_set:{displayName:()=>(0,o.t)("design_systems.component_panel.component_set"),icon:Z.A},selected_variant:{displayName:()=>(0,o.t)("design_systems.component_panel.selected_variant"),icon:$.A}};function Q(e){let t=(0,X.R)();return r.createElement(t?et:ee,{...e})}function ee(e){let{description:t,links:n,containingStateGroupDescription:o,containingStateGroupLinks:i,isViewOnly:s,recordingKey:c}=e,[d,p]=r.useState(er(t,n??[],s)),u=en(t,n,o,i,s),m=l.qP(c??"variantDocumentationMenu","changeTab",e=>p(e)),_=(0,a.d4)(e=>e.pickerShown);return(0,M.kL)(_)?r.createElement(r.Fragment,null,!!u&&r.createElement("div",{className:"variant_documentation_menu--tabContainer--TDuq4",role:"tablist"},j.map(e=>r.createElement(ea,{key:e,onSetSelectedTab:m,selectedTab:d,tabType:e}))),r.createElement("div",null,r.createElement(H,{pickerShown:_,menuType:"selected_variant"===d?"selection":"state-group",description:"selected_variant"===d?t:o??"",links:"selected_variant"===d?n:i,recordingKey:l.Pt(e,"componentControlsMenu")}))):null}function et({description:e,links:t,containingStateGroupDescription:n,containingStateGroupLinks:o,isViewOnly:i,recordingKey:s}){let[c,d]=W.t.useTabs(q,{defaultActive:er(e,t??[],i),recordingKey:s??"variantDocumentationMenu"}),p=en(e,t,n,o,i),u=(0,a.d4)(e=>e.pickerShown);return(0,M.kL)(u)?r.createElement(r.Fragment,null,!!p&&r.createElement("div",{className:"variant_documentation_menu--ui3TabContainer--P2Vqv"},r.createElement(W.t.TabStrip,{manager:d},j.map(e=>r.createElement(W.t.Tab,{key:e,...c[e]},J[e].displayName())))),r.createElement(H,{pickerShown:u,menuType:"selected_variant"===d.activeTab?"selection":"state-group",description:"selected_variant"===d.activeTab?e:n??"",links:"selected_variant"===d.activeTab?t:o,recordingKey:l.Pt(s,"componentControlsMenu")})):null}function en(e,t,n,r,a){return!a||(e||t?.length)&&(n||r?.length)}function er(e,t,n){return!n||(0,b.gl)(e)||e.length>0||t.length>0?"selected_variant":"component_set"}function ea({selectedTab:e,onSetSelectedTab:t,tabType:n}){let{displayName:a,icon:l}=J[n],o=r.useCallback(()=>t(n),[t,n]),i=r.useCallback(e=>{e.keyCode===S.Uz.ENTER&&t(n)},[t,n]);return r.createElement("span",{className:e===n?"variant_documentation_menu--tabActive--3IOzf variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd":"variant_documentation_menu--tab--r9UJ6 variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:o,onKeyDown:i,key:n,role:"tab",tabIndex:0},r.createElement(Y.B,{className:"variant_documentation_menu--tabIcon--f91ai",svg:l}),a())}function el(e){let{description:t,containingStateGroupDescription:n,containingStateGroupLinks:d}=e,p=(0,a.d4)(c.i$),m=(0,a.d4)(e=>e.pickerShown),_=(0,s.yr)();return(0,M.kL)(m)?r.createElement(G.a,null,p===i.iCO.STATE||p===i.iCO.STATE_INSTANCE?r.createElement(Q,{description:t,links:_,containingStateGroupDescription:n,containingStateGroupLinks:d,isViewOnly:m.id===M.uA,recordingKey:l.Pt(e,"variantDocumentationMenu")}):r.createElement(H,{description:t,links:_,descriptionElement:n?r.createElement(r.Fragment,null,r.createElement(u,{isHTMLString:!0,containerClassName:"component_controls_picker--stateGroupDescriptionContainer--ggLn7",text:n}),r.createElement("p",{className:"component_controls_picker--header--ELquL"},(0,o.tx)("design_systems.component_panel.current_variant"))):void 0,menuType:"selection",pickerShown:m,recordingKey:l.Pt(e,"componentControlsMenu")})):null}},771768:(e,t,n)=>{n.d(t,{Wv:()=>r,kL:()=>l,uA:()=>a});let r="component-controls-picker",a="instance-controls-picker";function l(e){return e?.id===r||e?.id===a}},343662:(e,t,n)=>{n.d(t,{I:()=>E,a:()=>h});var r=n(411855),a=n(188507),l=n(776250),o=n(320063),i=n(572174),s=n(572206),c=n(939863),d=n(293017),p=n(852800),u=n(273226),m=n(32067),_=n(835808),g=n(746806),f=n(771768);let E=320;function h({children:e}){let t=(0,a.wA)(),n=(0,a.d4)(e=>e.pickerShown),h=(0,a.d4)(e=>e.mirror.sceneGraph),y=(0,m.Tv)(),v=(0,_.yr)(),b=v?.find(e=>e),w=new s.Mi(n?.initialX,n?.initialY);(0,o.h)(()=>{let e=n?.id===f.uA,t=(0,u._P)(b?.uri),r=y?.map(e=>n?.id===f.Wv?p.Egt.getAssetKeyForPublish(e):n?.id===f.uA?p.Egt.getAssetKeyForPublish(u.k4([e],h)??""):"").filter(i.Vq).map(e=>e.toString());(0,l.sx)("Component documentation modal opened",{hostname:t,selectedNodeIds:y,componentKeys:r,isInstance:e})});let T=n?.id===f.uA?(0,c.t)("design_systems.component_panel.component_documentation"):(0,c.t)("design_systems.component_panel.component_controls");return r.createElement(g.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:w,initialWidth:E,onClose:()=>{t(d.XE())},scrollOverflow:!1,title:T},e)}},965908:(e,t,n)=>{n.d(t,{cu:()=>er,RV:()=>el,QQ:()=>eo,z6:()=>ee,h$:()=>et});var r=n(411855),a=n(109388),l=n(188507),o=n(767129),i=n(19038),s=n(629019),c=n.n(s),d=n(794272),p=n(153234),u=n(520581),m=n(574176),_=n(939863),g=n(738269),f=n(293017),E=n(906899),h=n(852800),y=n(843495),v=n(284321),b=n(498606),w=n(420186),T=n(572206),N=n(234945),S=n(273226),I=n(907368),C=n(215440),k=n(721478),A=n(746806);let x="instance-property-preview-picker";function R(e){let t=(0,l.wA)(),n=(0,l.d4)(e=>e.pickerShown),a=(0,l.d4)(C.Z3),o=(0,l.d4)(N.dK);if(n?.id!==x)return null;let i=t=>{let n={};for(let e of t){let t=(0,S.Yi)([e],o)||(0,S.k4)([e],o);t&&(n[t]?n[t].push(e):n[t]=[e])}return Object.values(n).map(t=>r.createElement(I.ME,{key:`bubbledInstancePreview.${t[0]}`,guids:t,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:k.NA.NAME_ONLY,containerWidth:S.O2.WIDE,shouldHideInstanceTitleButtons:!0,propDimension:S.OE.ASSIGNMENT,viewOnlyMode:I.BK.ALL_PROPS,hideErrors:!0,recordingKey:e.recordingKey,entrypointForInstanceSwapPicker:null}))};return r.createElement(A.vx,{title:(0,_.t)("design_systems.component_properties.instance_property_preview"),initialPosition:new T.Mi(n.initialX,n.initialY),initialWidth:304,headerSize:"small",onClose:()=>{t(f.XE())}},r.createElement("div",{className:"instance_property_preview_picker--container--pG-JM"},a.map((e,t)=>i(e))))}var P=n(107244),O=n(32067),D=n(233711),L=n(995439),M=n(227795),F=n(7723),K=n(900086),B=n(7959),V=n(696008),U=n(690710),H=n(893606),z=n(939791),G=n(353822),W=n(771768),Y=n(343662),X=n(82131),Z=n(832039),$=n(322515),j=n(400439),q=n(968109),J=n(313888),Q=n(999918);function ee(){return(0,d.R)(e=>{let t=(0,U.i$)(e),n=(0,P.od)(e);return{dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,stateGroupSelectionMode:t,containingProductComponent:n,containingStateGroupDescription:t===h.iCO.STATE?n?.description:void 0,containingStateGroupLinks:t===h.iCO.STATE?n?.symbolLinks:void 0,componentDescription:(0,P.cv)(e)}})}function et(e){let t=(0,l.wA)(),{dropdownShown:n,pickerShown:a}=ee(),o=r.useMemo(()=>n?.type===S.C4,[n]),i=a?.id===W.Wv,s=en(e);return r.useCallback(e=>{o&&t(g.oB()),i?t(f.XE()):s(e,W.Wv,Y.I)},[i,o,t,s])}function en(e){let t=(0,l.wA)();return r.useCallback((n,r,l=w.qo)=>{if(!e)return;let o=a.findDOMNode(e.current),i=(0,w.cn)(o,l);t(f.u1({id:r,initialX:i.x,initialY:i.y})),t(E.sw()),t(f.Uv())},[t,e])}let er=r.memo(function(e){let{pickerShown:t,stateGroupSelectionMode:n,containingProductComponent:a,containingStateGroupDescription:o,containingStateGroupLinks:i,componentDescription:s}=ee(),d=(0,H.R)(H.G.READY),u=!!(0,l.d4)(C.Z3).length,m=(0,l.wA)(),g=r.useRef(null),E=e=>e.stopPropagation(),y=t?.id===x,w=en(g),T=et(g),N=r.useCallback(e=>{y?m(f.XE()):w(e,x,304)},[m,y,w]),k=(0,l.d4)(v.Dr),A=(0,l.d4)(v.Ct);return d&&n!==h.iCO.STATE?null:a||n!==h.iCO.NON_STATE_COMPONENTS?a&&a.isAlive()?r.createElement(B.Zk,{className:j.S1,ref:g},r.createElement(eo,null),d&&r.createElement(L.n,{description:s}),d?r.createElement(z.DE,{appendedClassName:c()(j.jP,$.yf),label:null,input:(0,_.tx)("design_systems.component_panel.current_variant"),icon:r.createElement(ea,{recordingKey:e.recordingKey})}):r.createElement(B.fI,{className:X.LO},r.createElement(el,null),r.createElement("span",{className:j.MC},n===h.iCO.STATE&&u&&r.createElement(M.YW,{selected:t?.id===x,onClick:N,onMouseDown:E,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,_.t)("design_systems.component_properties.instance_property_preview"),svg:q.A,recordingKey:"instancePropertyPreviewButton"}),r.createElement(M.YW,{className:j.UW,selected:t?.id===W.Wv,onClick:T,onMouseDown:E,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,_.t)("design_systems.component_panel.component_controls"),svg:Q.A,recordingKey:"componentControls"}))),!d&&r.createElement(L.n,{description:s}),!d&&r.createElement(G.K,{containingStateGroupDescription:o,containingStateGroupLinks:i,description:s,recordingKey:p.Pt(e,"componentControlsPicker")}),!d&&r.createElement(R,null),n===h.iCO.STATE&&r.createElement(I.e6,{containerWidth:S.O2.REGULAR,propDimension:S.OE.DEFINITION,guids:[a.guid],recordingKey:e.recordingKey,entrypointForInstanceSwapPicker:null}),k&&A&&r.createElement(K.x,null)):null:r.createElement(V.j,{recordingKey:"createStateGroup"})});function ea(e){let t=(0,D.Ye)();return t&&("SYMBOL"===t.type&&!t.isState||t.isStateGroup)?r.createElement(o.K,{recordingKey:p.Pt(e.recordingKey,"goToParent"),"aria-label":(0,_.t)("design_systems.component_panel.select_component"),onClick:()=>{y.tJ([t.guid])},htmlAttributes:{"data-tooltip":(0,_.t)("design_systems.component_panel.select_component"),"data-tooltip-type":b.Ib.TEXT}},r.createElement(i.r,null)):null}function el({alwaysShowParentComponent:e,svgOverride:t,shouldHideComponentIcon:n,focusedInputOverridesClassName:a,unfocusedInputOverridesClassName:l}){let{stateGroupSelectionMode:o,containingProductComponent:i}=ee();if(!i)return null;let s=o===h.iCO.STATE&&!e;return r.createElement(u.E,{name:"component_title_control"},r.createElement(F.R,{guid:i.guid,value:s?(0,_.t)("design_systems.component_panel.current_variant"):i.name,canEdit:!s,icon:t??r.createElement(m.B,{svg:J.A,className:Z.Kk}),shouldHideIcon:n,editAction:"rename-component",focusedInputOverridesClassName:a,unfocusedInputOverridesClassName:l}))}function eo(){let e=(0,H.R)(H.G.READY),t=(0,O.O1)();return e&&t&&t.length>1?r.createElement(z.Ad,{label:null,appendedClassName:j.Vc,input:r.createElement(el,{alwaysShowParentComponent:!0,shouldHideComponentIcon:!0,unfocusedInputOverridesClassName:j.p0})}):null}},33136:(e,t,n)=>{n.d(t,{t:()=>o,x:()=>l});var r=n(243742),a=n(794272);function l(){let e=o(),{version:t}=(0,r.DP)();return e.isInstanceSublayerSelected||"ui3"===t&&e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning||!1}function o(){return(0,a.R)(e=>{let t=e.mirror.selectionProperties;return{openFileKey:e.openFile?.key,stackMode:t.stackMode,stackLayoutSizeOptions:t.stackLayoutSizeOptions,stackHorizontalSize:t.stackHorizontalSize,stackVerticalSize:t.stackVerticalSize,stackPositioning:t.stackPositioning,someConstraintItemsSelected:t.someNodesAreConstraintItems,nodesAreAllInsideStacks:t.nodesAreAllInsideStacks,horizontalConstraint:t.horizontalConstraint,verticalConstraint:t.verticalConstraint,scrollBehavior:t.scrollBehavior,allHaveScrollableFrameAsParent:t.allHaveScrollableFrameAsParent,hasHorizontallyScrollingParent:t.hasHorizontallyScrollingParent,hasVerticallyScrollingParent:t.hasVerticallyScrollingParent,isInstanceSublayerSelected:!!t.isInstanceSublayerSelected,hasMinOrMaxWidth:null!=t.minWidth||null!=t.maxWidth,hasMinOrMaxHeight:null!=t.minHeight||null!=t.maxHeight}})}},553609:(e,t,n)=>{n.d(t,{l:()=>F});var r=n(411855),a=n(188507),l=n(243742),o=n(776250),i=n(153234),s=n(520581),c=n(356390),d=n(848661),p=n(809511),u=n(7959),m=n(511315),_=n(343798),g=n(629019),f=n.n(g),E=n(860601),h=n(574176),y=n(46481),v=n(939863),b=n(538697),w=n(33136),T=n(438806),N=n(235107);function S(e){return"HORIZONTAL"===e?N.A:T.A}class I{constructor(e){this.isHorizontal="HORIZONTAL"===e}format(e){switch(e){case"MIN":return this.isHorizontal?(0,v.t)("fullscreen.properties_panel.constraints_panel.select.left"):(0,v.t)("fullscreen.properties_panel.constraints_panel.select.top");case"MAX":return this.isHorizontal?(0,v.t)("fullscreen.properties_panel.constraints_panel.select.right"):(0,v.t)("fullscreen.properties_panel.constraints_panel.select.bottom");case"STRETCH":return this.isHorizontal?(0,v.t)("fullscreen.properties_panel.constraints_panel.select.left_and_right"):(0,v.t)("fullscreen.properties_panel.constraints_panel.select.top_and_bottom");case"CENTER":return(0,v.t)("fullscreen.properties_panel.constraints_panel.select.center");case"SCALE":return(0,v.t)("fullscreen.properties_panel.constraints_panel.select.scale");default:return""}}}var C=n(344525);let k="constraint_select--chevron--vKwBF",A="constraint_select--input--daUMm",x=new class{format(e){if("AUTO"===e)return(0,v.t)("fullscreen.auto")}};function R(e){let{version:t}=(0,l.DP)(),n=(0,w.x)();if(e.readOnly&&(0,d.hS)(e.constraint)){let t=new I(e.axis).format(e.constraint);return r.createElement("div",{className:f()(e.className,"constraint_select--flexContainer--a9ZPi")},r.createElement(h.B,{svg:S(e.axis),className:C.Vb}),r.createElement("span",{className:"constraint_select--readOnlyText--uBzWh ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}let a=new I(e.axis),o=r.createElement(y.U,{svg:S(e.axis)},"HORIZONTAL"===e.axis?r.createElement(m.w,null):r.createElement(_.T,null));return"ui3"===t&&n?r.createElement(b.l6,{id:e.id,chevronClassName:k,inputClassName:A,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:"AUTO",formatter:x,icon:o,onChange:E.lQ,disabled:n,recordingKey:i.Pt(e,"select")},r.createElement(b.c$,{key:"AUTO",value:"AUTO",disabled:!0})):r.createElement(b.l6,{id:e.id,chevronClassName:k,inputClassName:A,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:e.constraint,formatter:a,icon:o,onChange:t=>{let n="HORIZONTAL"===e.axis?"horizontalConstraint":"verticalConstraint";e.updateConstraints({[n]:t},!0)},disabled:n,recordingKey:i.Pt(e,"select")},["MIN","MAX","STRETCH","CENTER","SCALE"].map(t=>{let a=e.disableStretchScaleConstraints&&["STRETCH","SCALE"].includes(t);return r.createElement(b.c$,{key:t,value:t,recordingKey:i.Pt(e,"select",t),disabled:n||a})}))}var P=n(522739);let O="constraint_selector--outerRow--vEwHH",D="constraint_selector--compactOuterRow--lVbKK constraint_selector--outerRow--vEwHH",L="constraint_selector--hover--QinHp";function M(e){let[t,n]=(0,r.useState)(null),[a,o]=(0,r.useState)(null),{version:s}=(0,l.DP)(),c=(0,w.x)(),d="ui3"===s&&c?void 0:e.horizontalConstraint,p="ui3"===s&&c?void 0:e.verticalConstraint,u=e=>["top","bottom"].includes(e)?"VERTICAL":"HORIZONTAL",m=e=>"HORIZONTAL"===e?d:p,_=e=>e.shiftKey||e.metaKey,g=(t,n)=>r=>{if(e.readOnly)return;let a=n;if(_(r)||e.isCompact){let r="MIN"===n?"MAX":"MIN",l=m(t),o="VERTICAL"===t?!e.disableVerticalStretchScaleConstraints:!e.disableHorizontalStretchScaleConstraints;l===n&&o?a="SCALE":l===r&&o?a="STRETCH":"STRETCH"===l&&(a=r)}"VERTICAL"===t?e.updateConstraints({verticalConstraint:a}):e.updateConstraints({horizontalConstraint:a})},E=t=>()=>{e.readOnly||n(t)},h=()=>{n(null)},y=e=>{let t=e.target.parentElement;if(!t)return console.error(`constraint selector inner target element is ${t}`),null;let{top:n,left:r,width:a,height:l}=t.getBoundingClientRect(),o=Math.abs(e.clientX-r-a/2),i=Math.abs(e.clientY-n-l/2);return o<3&&i<3?"HORIZONTAL":o<i?"VERTICAL":"HORIZONTAL"},v=t=>{if(!e.readOnly){if("CENTER"!==p||_(t)){if("CENTER"!==d||_(t)){if("VERTICAL"===y(t)){let n=_(t)&&"CENTER"===p?"SCALE":"CENTER";e.updateConstraints({verticalConstraint:n})}else{let n=_(t)&&"CENTER"===d?"SCALE":"CENTER";e.updateConstraints({horizontalConstraint:n})}}else e.updateConstraints({verticalConstraint:"CENTER"})}else e.updateConstraints({horizontalConstraint:"CENTER"})}},b=t=>{e.readOnly||("CENTER"===p?o("HORIZONTAL"):"CENTER"===d?o("VERTICAL"):o(y(t)))},T=()=>{o(null)},N=e=>f()({"constraint_selector--selected--Eb73C":e,"constraint_selector--disabled--hLCxk":c}),S=(n,r)=>{let a="HORIZONTAL"===u(n)?e.isCompact?"constraint_selector--compactOuterHorizontalHandle--LVIo0 constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":"constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactOuterVerticalHandle--bF8mY constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2":"constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2";return f()(a,N(r),{[L]:t===n&&!c})},I=(t,n)=>{let r="HORIZONTAL"===t?e.isCompact?"constraint_selector--compactInnerHorizontalHandle--voVqQ constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerHorizontalHandle--Zfxr0 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactInnerVerticalHandle--UTZB- constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerVerticalHandle--slyp1 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2";return f()(r,N(n),{[L]:a===t&&!c})},C=t=>{let n=u(t),a=m(n),l=["top","left"].includes(t)?"MIN":"MAX",o=[l,"STRETCH"].includes(a),s="HORIZONTAL"===n?e.isCompact?"constraint_selector--compactOuterHorizontalTarget--5-m-j constraint_selector--outerHorizontalTarget--2Tsd3":"constraint_selector--outerHorizontalTarget--2Tsd3":e.isCompact?"constraint_selector--compactOuterVerticalTarget--0Lb9I constraint_selector--outerVerticalTarget--m0eT7":"constraint_selector--outerVerticalTarget--m0eT7",c=S(t,o);return r.createElement(P.D8,{className:s,recordingKey:i.Pt(e,"constraint",t),onMouseDown:g(n,l),onMouseEnter:E(t),onMouseLeave:h},r.createElement("div",{className:c}))},k=t=>{let n="centerX"===t?"HORIZONTAL":"VERTICAL",a=m(n);return r.createElement(P.D8,{className:I(n,"CENTER"===a),recordingKey:i.Pt(e,"constraint",t),onMouseDown:v,onMouseMove:b,onMouseLeave:T})};return r.createElement("div",{className:e.isCompact?"constraint_selector--compactSelectorContainer--tn5PR constraint_selector--selectorContainer--stEPY":"constraint_selector--selectorContainer--stEPY"},r.createElement("div",{className:e.isCompact?D:O},C("top")),r.createElement("div",{className:"constraint_selector--innerRow--Sq9bp"},C("left"),(()=>{let t=k("centerX"),n=k("centerY");return r.createElement("div",{className:e.isCompact?"constraint_selector--compactInnerTarget--RzKnh constraint_selector--innerTarget--8C-rg":"constraint_selector--innerTarget--8C-rg"},"CENTER"===d?r.createElement(r.Fragment,null,n,t):r.createElement(r.Fragment,null,t,n))})(),C("right")),r.createElement("div",{className:e.isCompact?D:O},C("bottom")))}function F(e){let t=(0,a.wA)(),{version:n}=(0,l.DP)(),m=(0,w.t)(),_=e=>{if(("HORIZONTAL"===e?m.stackHorizontalSize:m.stackVerticalSize)===p.mKm.FILL_CONTAINER||"NONE"!==m.stackMode&&("HORIZONTAL"===e?m.hasMinOrMaxWidth:m.hasMinOrMaxHeight))return!0;if(m.scrollBehavior!==d.oV&&"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==m.scrollBehavior)return!1;let t="HORIZONTAL"===e?m.hasHorizontallyScrollingParent:m.hasVerticallyScrollingParent;return!!(0,d.E7)(t)},g=(t,n=!1)=>{m.isInstanceSublayerSelected||((0,o.sx)("Constraint Changed",{fileKey:e.openFileKey,source:n?"dropdown":"panel",...t}),c.Y5.updateSelectionProperties(t))},f=_("HORIZONTAL"),E=_("VERTICAL"),h=r.createElement(s.E,{name:"constraint_selector"},r.createElement(M,{horizontalConstraint:m.horizontalConstraint,verticalConstraint:m.verticalConstraint,someConstraintItemsSelected:m.someConstraintItemsSelected,updateConstraints:g,disableHorizontalStretchScaleConstraints:f,disableVerticalStretchScaleConstraints:E,dispatch:t,recordingKey:i.Pt(e,"constraintSelector"),readOnly:e.readOnly})),y=r.createElement(s.E,{name:"width_select"},r.createElement(R,{id:"width-select",className:"constraints_panel--stackWidthDropdown--mbkWx constraints_panel--_sizeDropdown--1d1H2",axis:"HORIZONTAL",constraint:m.horizontalConstraint,updateConstraints:g,someConstraintItemsSelected:m.someConstraintItemsSelected,disableStretchScaleConstraints:f,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:i.Pt(e,"width"),readOnly:e.readOnly})),v=r.createElement(s.E,{name:"height_select"},r.createElement(R,{id:"height-select",className:"constraints_panel--stackHeightDropdown--Aj-c5 constraints_panel--_sizeDropdown--1d1H2",axis:"VERTICAL",constraint:m.verticalConstraint,updateConstraints:g,someConstraintItemsSelected:m.someConstraintItemsSelected,disableStretchScaleConstraints:E,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:i.Pt(e,"height"),readOnly:e.readOnly}));return"ui3"===n?r.createElement("div",{className:"constraints_panel--ui3Container--xPomZ"},h,r.createElement("div",{className:"constraints_panel--ui3Selects--ira8c"},y,v)):r.createElement(u.fI,{heightMultiplier:2,className:"constraints_panel--container--bilN5"},h,y,v)}},233711:(e,t,n)=>{n.d(t,{Q:()=>T,Ye:()=>b});var r=n(411855),a=n(794272),l=n(520581),o=n(347082),i=n(574176),s=n(939863),c=n(852800),d=n(843495),p=n(316081),u=n(601607),m=n(498606),_=n(107244),g=n(7959),f=n(893606),E=n(371875),h=n(313888),y=n(405622);function v(e){let t=(0,f.R)(f.G.READY),{productComponent:n}=e;return t||("SYMBOL"!==n.type||n.isState)&&!n.isStateGroup?null:r.createElement(o.p,{name:"containing_assets_panel"},r.createElement(g.Zk,null,r.createElement(g.fI,null,r.createElement(g.xw,{className:E.Dn},(0,s.tx)("design_systems.component_panel.parent_component"))),r.createElement(l.E,{name:"select_component_button"},r.createElement(g.fI,{className:E.D9,onClick:()=>{d.tJ([n.guid])},recordingKey:"containingComponentPanel.jumpTo"},r.createElement(i.B,{svg:h.A,className:E.Vo}),r.createElement("div",{className:E.TQ},n.name),r.createElement("div",{className:E.UD},r.createElement(i.B,{"data-tooltip-type":m.Ib.TEXT,"data-tooltip":(0,s.t)("design_systems.component_panel.select_component"),svg:y.A,className:E.dC}))))))}function b(){let e=(0,a.R)(_.Lg);return(0,u.Jk)(e)}function w(){let e=b();return e?r.createElement(v,{productComponent:e}):null}function T(e){let t=function(e){let t=Object.keys(e);return(0,u.Fk)((e,t)=>t.every(t=>{let n=e.get(t);return n&&"SYMBOL"===n.type&&n.isState}),t)}(e.selection),n=!e.scaleShouldHideOtherPanels&&(!e.shownPanels[c.ibQ.COMPONENT_ITEM]||t),a=(0,r.useRef)(new p.H4(()=>r.createElement(w,{key:"containingAssets"})));return r.createElement(r.Fragment,null,a.current.render({isVisible:n}))}},995439:(e,t,n)=>{n.d(t,{n:()=>c});var r=n(411855),a=n(663668),l=n(848661),o=n(7959),i=n(893606),s=n(939791);function c({description:e}){let t=r.useMemo(()=>(0,l.gl)(e)?"":(0,a.A)(e),[e]),n=(0,i.R)(i.G.READY);return""===t?null:n?r.createElement(s.Ad,{appendedClassName:"asset_description_preview--ui3DescriptionRow--U6fJ7",label:null,input:r.createElement("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},t)}):r.createElement(o.fI,null,r.createElement("div",{className:"asset_description_preview--description--1Twh6 ellipsis--ellipsis--Tjyfa"},t))}},929077:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(411855),a=n(402640),l=n(812115),o=n(939863),i=n(7959);let s="rich_text_asset_description_input--quillInput--w9zzt";function c({description:e,isViewOnly:t,placeholder:n,onBlur:c,onSubmit:d}){let p=r.useCallback(e=>{e.stopPropagation()},[]);return t&&""===e?null:r.createElement(i.fI,{className:"rich_text_asset_description_input--textRow--JlCKa component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V",onMouseDown:p,onPointerDown:p},r.createElement("div",{className:t?"rich_text_asset_description_input--labelViewOnly--EBSZ9 rich_text_asset_description_input--label--U3bKd":"rich_text_asset_description_input--label--U3bKd"},(0,o.tx)("design_systems.component_panel.description")),r.createElement("div",{className:t?"rich_text_asset_description_input--quillInputViewOnly--Q329g":s},t?r.createElement(l.R,{fallback:null,errorFallback:null,quillClassName:"rich_text_asset_description_input--readOnlyEditor--wT16t",value:e}):r.createElement(a.A,{id:"quill-toolbar-asset-description-input",fallback:null,errorFallback:null,bounds:`.${s}`,debounceMs:1e3,flushOnBlur:!0,onBlur:c,mountBehavior:"focus",onInputChange:d,placeholder:n,defaultValue:e})))}},464558:(e,t,n)=>{n.d(t,{hw:()=>X,Ij:()=>Y,nl:()=>z});var r=n(411855),a=n(766503),l=n(153234),o=n(520581),i=n(347082),s=n(80161),c=n(574176),d=n(46481),p=n(939863),u=n(293017),m=n(457858),_=n(356390),g=n(852800),f=n(662531),E=n(617453),h=n(848661),y=n(498606),v=n(227795),b=n(7959),w=n(538697),T=n(188507),N=n(767129),S=n(421757),I=n(137035),C=n(13583),k=n(629019),A=n.n(k),x=n(762638),R=n(931828),P=n(672517),O=n(809831),D=n(988022),L=n(309798),M=n(636227);let F="slides_presentation_presets_entrypoint_dismissed_user_flag";function K(){let[e,t]=r.useState(!1),n=(0,T.wA)(),a=(0,M.Z)(),l=(0,L.f)(F),o=(0,O.Em)();return l||e||!o||!a?null:r.createElement(P.fu,{name:"Slides presentation presets entrypoint"},r.createElement("div",{className:x.cx.flex.flexColumn.gap8.px8.py8.m8.radiusMedium.colorBgSecondary.$},r.createElement("div",{className:A()(x.cx.flex.flexRow.alignCenter.justifyBetween.$,"slides_presentation_presets_entrypoint--entrypoint--bBhbB")},r.createElement(I.b,null),r.createElement(N.K,{"aria-label":(0,p.t)("common.close"),onClick:()=>{t(!0),n(R.b({[F]:!0}))}},r.createElement(C.L,null))),r.createElement("div",{className:x.cx.flex.flexColumn.gap8.px8.$},r.createElement("span",{className:x.cx.textBodyMedium.colorTextTertiary.$},(0,p.t)("slides.properties_panel.presentation_presets_entrypoint")),r.createElement("div",null,r.createElement(S.$n,{variant:"secondary",onClick:()=>{(0,D.Cu)({name:"slides_presentation_presets_entrypoint"})}},(0,p.t)("slides.general.open_figma_slides"))))))}let B="frame_presets--presetHeader--TKb-G";var V=n(949207),U=n(432023),H=n(969537);class z extends l.o6{constructor(){super(...arguments),this.toggleSection=e=>{this.props.expandedFramePresetType===e&&(e=g.EYD.NONE),(0,E.UK)().expandedFramePresetType.set(e)},this.onSelectPreset=e=>{f.l7.user("select-frame-preset",()=>{let t=`${e.name} -`;g.glU.createFrame(t,e.width,e.height),this.props.dispatch(u.sx({name:"Frame Size Preset Chosen",params:{method:"Frame Tool Preset List",deviceName:e.name}})),g.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){return r.createElement(i.p,{name:"frame_presets"},r.createElement("div",null,r.createElement(b.fI,{className:"frame_presets--panelTitleRowOuter--lwWCb collapsible_property_panel--panelTitleRowOuter--i5K0R"},r.createElement(b.xw,null,(0,p.tx)("proto.frame_preset_panel.frame"))),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.phone"),expanded:this.props.expandedFramePresetType===g.EYD.PHONE,onMouseDown:this.toggleSection.bind(this,g.EYD.PHONE),recordingKey:l.Pt(this.props,"phoneToggle")}),this.props.expandedFramePresetType===g.EYD.PHONE&&r.createElement(W,{framePresets:m.sE.phonePresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"phoneRows")}),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.tablet"),expanded:this.props.expandedFramePresetType===g.EYD.TABLET,onMouseDown:this.toggleSection.bind(this,g.EYD.TABLET),recordingKey:l.Pt(this.props,"framePresetPanel","tabletToggle")}),this.props.expandedFramePresetType===g.EYD.TABLET&&r.createElement(W,{framePresets:m.sE.tabletPresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"tabletRows")}),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.desktop"),expanded:this.props.expandedFramePresetType===g.EYD.DESKTOP,onMouseDown:this.toggleSection.bind(this,g.EYD.DESKTOP),recordingKey:l.Pt(this.props,"desktopToggle")}),this.props.expandedFramePresetType===g.EYD.DESKTOP&&r.createElement(W,{framePresets:m.sE.desktopPresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"desktopRows")}),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.presentation"),expanded:this.props.expandedFramePresetType===g.EYD.PRESENTATION,onMouseDown:this.toggleSection.bind(this,g.EYD.PRESENTATION),recordingKey:l.Pt(this.props,"presentationToggle")}),this.props.expandedFramePresetType===g.EYD.PRESENTATION&&r.createElement(W,{framePresets:m.sE.presentationPresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"presentationRows")},r.createElement(K,null)),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.watch"),expanded:this.props.expandedFramePresetType===g.EYD.WATCH,onMouseDown:this.toggleSection.bind(this,g.EYD.WATCH),recordingKey:l.Pt(this.props,"watchToggle")}),this.props.expandedFramePresetType===g.EYD.WATCH&&r.createElement(W,{framePresets:m.sE.watchPresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"watchRows")}),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.paper"),expanded:this.props.expandedFramePresetType===g.EYD.PAPER,onMouseDown:this.toggleSection.bind(this,g.EYD.PAPER),recordingKey:l.Pt(this.props,"paperToggle")}),this.props.expandedFramePresetType===g.EYD.PAPER&&r.createElement(W,{framePresets:m.sE.paperPresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"paperRows")}),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.social_media"),expanded:this.props.expandedFramePresetType===g.EYD.SOCIALMEDIA,onMouseDown:this.toggleSection.bind(this,g.EYD.SOCIALMEDIA),recordingKey:l.Pt(this.props,"socialMediaToggle")}),this.props.expandedFramePresetType===g.EYD.SOCIALMEDIA&&r.createElement(W,{framePresets:m.sE.socialMediaPresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"socialMediaRows")}),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.figma_community"),expanded:this.props.expandedFramePresetType===g.EYD.FIGMA,onMouseDown:this.toggleSection.bind(this,g.EYD.FIGMA),recordingKey:l.Pt(this.props,"figmaToggle")}),this.props.expandedFramePresetType===g.EYD.FIGMA&&r.createElement(W,{framePresets:m.sE.figmaPresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"figmaRows")}),r.createElement(G,{name:(0,p.t)("proto.frame_preset_panel.archive"),expanded:this.props.expandedFramePresetType===g.EYD.ARCHIVE,onMouseDown:this.toggleSection.bind(this,g.EYD.ARCHIVE),recordingKey:l.Pt(this.props,"archiveToggle")}),this.props.expandedFramePresetType===g.EYD.ARCHIVE&&r.createElement(W,{framePresets:m.sE.archivedPresets,onSelectPreset:this.onSelectPreset,recordingKey:l.Pt(this.props,"archiveRows")})))}}z.displayName="FramePresetPanel";class G extends l.o6{render(){return r.createElement(i.p,{name:"frame_preset_header_panel"},r.createElement(b.Zk,{onMouseDown:this.props.onMouseDown,recordingKey:this.props.recordingKey,className:this.props.expanded?"frame_presets--presetHeaderExpanded--Qjd4B frame_presets--presetHeader--TKb-G":B},r.createElement(b.fI,{className:B},r.createElement("div",{className:"frame_presets--caretAndName---NO1X"},r.createElement(c.B,{className:this.props.expanded?"frame_presets--caretDown--fFNWX frame_presets--caret--UJlom":"frame_presets--caret--UJlom",svg:this.props.expanded?V.A:U.A}),r.createElement("div",{className:"frame_presets--name--54TF2"},this.props.name)))))}}G.displayName="FramePresetHeader";class W extends l.o6{constructor(){super(...arguments),this.onSelectPreset=e=>this.props.onSelectPreset(e)}render(){return r.createElement(i.p,{name:"frame_presets_list_panel"},r.createElement(b.Zk,{className:"frame_presets--presetList--ayuEn"},this.props.framePresets.map(e=>r.createElement(b.fI,{className:"frame_presets--presetRow--xaZa5",key:e.name,onMouseDown:this.onSelectPreset.bind(this,e),recordingKey:l.Pt(this.props,e.name)},r.createElement("div",{className:"frame_presets--presetName--q2eD4"},e.i18nName()),r.createElement("div",{className:"frame_presets--presetDimensions--ebk8Q"},e.width,"\u200A\xd7\u200A",e.height," "))),this.props.children))}}W.displayName="FramePresetList";class Y extends l.o6{constructor(){super(...arguments),this.state={focusedPreset:void 0},this.formatter={format:e=>e===g.V$M.FRAME?(0,p.t)("viewer.options_menu.frame"):e===g.V$M.GROUP?(0,p.t)("viewer.options_menu.group"):e===g.V$M.SECTION?(0,p.t)("viewer.options_menu.section"):e,isEqual:(e,t)=>e===t},this.onChange=e=>{if("number"==typeof e)e===g.V$M.SECTION&&this.changeSelectionToSection(),e===g.V$M.FRAME&&this.getFrameOrGroupOrSectionOrMixed()===g.V$M.SECTION&&this.changeSelectionSectionToFrame(),this.changeSelectionToFrameOrGroup(e);else{let t=m.EZ[e];this.setPreset(t)}},this.changeSelectionToSection=()=>{_.Y5.triggerActionInUserEditScope("replace-selected-frame-with-section")},this.changeSelectionSectionToFrame=()=>{_.Y5.triggerActionInUserEditScope("replace-selected-section-with-frame")},this.changeSelectionToFrameOrGroup=e=>{f.l7.user("change-selection-to-frame-or-group",()=>{g.glU.changeSelectionToFrameOrGroup(e),g.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.setPreset=e=>{this.props.dispatch(u.sx({name:"Frame Size Preset Chosen",params:{method:"Transform Panel",deviceName:e.name}})),f.l7.user("set-frame-preset",()=>{g.glU.makeSelectedFramesManuallySized(),_.Y5.updateSelectionProperties({width:e.width,height:e.height}),g.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.getFrameOrGroupOrSectionOrMixed=()=>(0,h.hS)(this.props.resizeToFit)?this.props.resizeToFit?g.V$M.GROUP:this.props.isSection?g.V$M.SECTION:g.V$M.FRAME:h.oV,this.onFocus=e=>{this.setState({focusedPreset:e})},this.renderPresetOption=(e,t)=>r.createElement(w.c$,{value:e.name,key:t,recordingKey:l.Pt(this.props,e.name),focused:!(this.state.focusedPreset?.name!==e.name)},r.createElement(Z,{framePreset:e,focused:!(this.state.focusedPreset?.name!==e.name)}))}render(){let e=[],t=this.getFrameOrGroupOrSectionOrMixed(),n=(0,h.hS)(this.props.width)&&(0,h.hS)(this.props.height)?(0,m.fS)({width:this.props.width,height:this.props.height}):null;(0,h.hS)(t)&&e.push(t),n&&e.push(n.name),0===e.length&&e.push(h.oV);let a=e[0],i=this.props.isWidget,s=!this.props.isSection,c=!this.props.isOrInInstance;return r.createElement(o.E,{name:"frame_preset_select"},r.createElement(w.l6,{icon:this.props.leftIcon,className:this.props.selectClassName,inputClassName:this.props.inputClassName,chevronClassName:"frame_presets--framePresetDropdownChevron--0rJxs",id:this.props.id,property:a,multipleSelections:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:"frame_presets--presetDropdown----7Sd",recordingKey:l.Pt(this.props,"select"),onOptionFocus:this.onFocus,disabled:i,dropdownOverride:this.props.dropdownOverride},r.createElement(w.c$,{value:g.V$M.SECTION,recordingKey:l.Pt(this.props,"SECTION"),disabled:!this.props.canBecomeSection}),r.createElement(w.c$,{value:g.V$M.FRAME,recordingKey:l.Pt(this.props,"FRAME"),disabled:!c||!this.props.canBecomeFrame}),r.createElement(w.c$,{value:g.V$M.GROUP,recordingKey:l.Pt(this.props,"GROUP"),disabled:!this.props.canBecomeGroup}),s&&r.createElement(w.sK,null),s&&m.sE.phonePresets.map(this.renderPresetOption),s&&r.createElement(w.sK,null),s&&m.sE.tabletPresets.map(this.renderPresetOption),s&&r.createElement(w.sK,null),s&&m.sE.desktopPresets.map(this.renderPresetOption),s&&r.createElement(w.sK,null),s&&m.sE.presentationPresets.map(this.renderPresetOption),s&&r.createElement(w.sK,null),s&&m.sE.watchPresets.map(this.renderPresetOption),s&&r.createElement(w.sK,null),s&&m.sE.paperPresets.map(this.renderPresetOption),s&&r.createElement(w.sK,null),s&&m.sE.socialMediaPresets.map(this.renderPresetOption),s&&r.createElement(w.sK,null),s&&m.sE.figmaPresets.map(this.renderPresetOption),s&&r.createElement(w.sK,null),s&&m.sE.archivedPresets.map(this.renderPresetOption)))}}function X(e){return r.createElement("span",{className:e.className},r.createElement(v.K0,{onClick:()=>{_.Y5.triggerActionInUserEditScope("resize-to-fit")},recordingKey:e.recordingKey,dataTestId:"resize-to-fit-button","data-tooltip-type":y.Ib.LOOKUP,"data-tooltip":"resize-to-fit"},r.createElement(d.U,{svg:H.A},r.createElement(a.F,null))))}function Z({focused:e,framePreset:t}){let[n,a]=r.useState(!1);return r.createElement("div",{className:e?"frame_presets--presetOptionFocused--xoc2A":"frame_presets--presetOption--FUHPW"},r.createElement(s.ph,{text:t.i18nName(),className:"frame_presets--frameName--LztZn",onTruncationChange:e=>{n!==e&&a(e)}}),r.createElement("span",{className:n?"frame_presets--frameDimensions--EoK8C":""},t.width,"\u200A\xd7\u200A",t.height))}Y.displayName="FramePresetDropdown"},690122:(e,t,n)=>{n.d(t,{p:()=>i});var r=n(411855),a=n(848661),l=n(29680),o=n(754369);function i(e){let t=(0,l.B9)(),{backingSymbolGUID:n,backingStateGroupGUID:i}=(0,o.$)(e),s=r.useMemo(()=>{let n=[];for(let r of e){let e=t.get(r);if(e&&"INSTANCE"!==e.type){for(;e?.isInstanceSublayer;)e=e.parentNode;e?.type==="INSTANCE"&&n.push(e)}}return n},[e,t]),c=r.useMemo(()=>{let e=null;for(let n of s){if(!n.symbolId)continue;let r=t.get(n.symbolId);if(r){if(e){if(e.guid!==r.guid)return a.oV}else e=r}}return e?.isState&&e.parentGuid&&(e=e.parentNode),e},[s,t]),d=r.useMemo(()=>{let n=[];for(let r of e){let e=t.get(r);e&&"INSTANCE"===e.type&&e.isInstanceSublayer&&n.push(e)}return n},[e,t]),p=r.useMemo(()=>!!(null==c&&(n||i)),[c,n,i]),u=r.useMemo(()=>!!(null==n&&null==i&&c),[c,n,i]);return r.useMemo(()=>({backingSymbolOrStateGroupOfContainingInstances:c,containingInstancesOfSublayers:s,onlyInstances:p,onlyInstanceSublayers:u,nestedInstances:d}),[c,s,p,u,d])}},412297:(e,t,n)=>{n.d(t,{PM:()=>z,h_:()=>H,iT:()=>X,sQ:()=>Y,vr:()=>W});var r=n(411855),a=n(188507),l=n(841563),o=n.n(l),i=n(776250),s=n(794272),c=n(374626),d=n(153234),p=n(268537),u=n(939863),m=n(738269),_=n(662275),g=n(106757),f=n(356390),E=n(852800),h=n(662531),y=n(809511),v=n(844053),b=n(335682),w=n(416095),T=n(57392),N=n(113916),S=n(498606),I=n(279145),C=n(224690),k=n(715762),A=n(759520),x=n(616900),R=n(142232),P=n(720488),O=n(227795),D=n(958568),L=n(754369),M=n(690122),F=n(687881),K=n(258376),B=n(362679);let V="instance-option-dropdown";function U(e){e.stopPropagation()}function H(e){let{instanceAndSublayerGUIDs:t,resettableInstanceOverrides:n,showAllInstanceOptions:l}=e,{appModel:o,detachInstanceShortcut:i}=(0,s.R)(e=>({appModel:e.mirror.appModel,detachInstanceShortcut:(0,I.c1)(e.mirror.appModel.keyboardShortcuts,"detach-instance")})),c=r.useMemo(C.$H,[]),p=(0,a.d4)(e=>c(e,t)),{isBackingSymbolSoftDeleted:m,restoreType:_}=(0,L.$)(t),{onlyInstances:g,nestedInstances:v}=(0,M.p)(t),b=r.useRef(null),{needsUpdate:w}=W(t),T=Y(t),N=r.useMemo(()=>{let e=[...T];if(!l)return e;if(l&&T.length>0&&e.push({type:"separator"}),"SYMBOL_AS_STATE"===_&&e.push({type:"option",value:"restore-symbol-or-state-group",displayText:(0,u.t)("design_systems.instance_panel.restore_variant"),callback:()=>{f.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")}}),g&&e.push({type:"option",value:"detach-instance",displayText:(0,u.t)("fullscreen_actions.detach-instance"),shortcut:i,callback:()=>{h.l7.user("detach-instances",()=>E.glU.detachInstances(t))}}),(0,I.Yh)(o,"push-changes-to-main")&&0===v.length&&!m&&(e.length>0&&e.push({type:"separator"}),e.push({type:"option",value:"push-changes-to-main",displayText:(0,u.t)("fullscreen_actions.push-changes-to-main"),callback:()=>{f.Y5.triggerActionInUserEditScope("push-changes-to-main")}})),n&&Object.values(n).some(e=>e)){if(Object.keys(n).forEach(r=>{let a=parseInt(r);n?.[a]&&(e.length>0&&a===y.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS&&e.push({type:"separator"}),e.push({type:"option",value:a,displayText:function(e){switch(e){case y.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS:return(0,u.t)("design_systems.instance_panel.reset_all_changes");case y.YnC.EXPORTS:return(0,u.t)("design_systems.instance_panel.reset_exports");case y.YnC.EFFECTS:return(0,u.t)("design_systems.instance_panel.reset_effects");case y.YnC.LAYER:return(0,u.t)("design_systems.instance_panel.reset_others");case y.YnC.VISIBLE:return(0,u.t)("design_systems.instance_panel.reset_visibility");case y.YnC.NAME:return(0,u.t)("design_systems.instance_panel.reset_name");case y.YnC.FILL:return(0,u.t)("design_systems.instance_panel.reset_fill");case y.YnC.STROKE:return(0,u.t)("design_systems.instance_panel.reset_stroke");case y.YnC.TEXT:return(0,u.t)("design_systems.instance_panel.reset_text");case y.YnC.TEXT_STYLE:return(0,u.t)("design_systems.instance_panel.reset_text_style");case y.YnC.SIZE:return(0,u.t)("design_systems.instance_panel.reset_size");case y.YnC.PROTOTYPE_INTERACTIONS:return(0,u.t)("design_systems.instance_panel.reset_interactions");case y.YnC.OVERLAY:return(0,u.t)("design_systems.instance_panel.reset_overlay");case y.YnC.NUM_VALUES:}return""}(a),callback:()=>{h.l7.user("reset-overrides",()=>E.glU.resetSymbolOverridesForNodes(t,a))}}))}),p)for(let t in p)for(let n in p[t]){let r=p[t][n];e.push({type:"option",value:"reset-component-prop-assignment",displayText:(0,u.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:r.name}),callback:()=>{h.l7.user("reset-prop-assignments",()=>E.glU.resetComponentPropAssignmentForInstances(r.instanceGUIDs,n))}})}}else e.length>0&&e.push({type:"separator"}),e.push({type:"option",value:y.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS,displayText:(0,u.t)("design_systems.instance_panel.no_changes_to_reset"),callback:()=>{},disabled:!0});return e},[T,l,_,g,o,v.length,m,n,i,t,p]),{toggleDropdown:k,dropdownShown:A}=X(t),x=d.Pt(e,"toggleInstanceOptionDropdown",t.join("-"));return l||w?r.createElement("span",null,r.createElement("div",{ref:b},w?r.createElement(O.YW,{className:F.l_,onClick:k,selected:A,onMouseDown:U,svg:K.A,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.instance_panel.update_available"),recordingKey:x}):r.createElement(O.YW,{onClick:k,selected:A,onMouseDown:U,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.instance_panel.instance_options"),svg:B.A,recordingKey:x,disabled:0===N.length})),r.createElement(z,{targetRef:b,instanceDropdownOptions:N,recordingKey:e.recordingKey,dropdownShown:A})):null}function z({targetRef:e,instanceDropdownOptions:t,recordingKey:n,dropdownShown:a}){return null!=e.current&&a?r.createElement(P.Cf,{targetRect:e.current.getBoundingClientRect(),propagateCloseClick:!0},t.map((e,t)=>"option"===e.type?r.createElement(p.c$,{className:F.VM,onClick:e.callback,recordingKey:d.Pt(n,e.displayText),key:"reset-component-prop-assignment"===e.value?d.Pt(e.value,t):e.value,disabled:e.disabled},e.displayText,e.shortcut&&r.createElement("span",null,e.shortcut)):r.createElement(p.wv,{key:t}))):null}function G(){let e=(0,a.d4)(v.c),t=(0,c.md)(b.yV),n=(0,c.md)(g.p9);return{fileKey:e.file_key,fileParentOrgId:t?.parentOrgId?.toString(),fileTeamId:e.file_team_id?.toString(),userId:n?.id}}function W(e){let{componentUpdatesForAllPages:t,stateGroupUpdatesForAllPages:n}=(0,a.d4)(T.ij),l=r.useMemo(N.bd,[]),o=(0,a.d4)(t=>l(t,e)),{componentInstanceUpdateInfo:i,stateInstanceUpdateInfo:s}=(0,D.cB)(t,n,o),c=(0,D.jR)(i,s);return{needsUpdate:c>0&&c===o.length,numSelectedInstancesToUpdate:c,componentInstanceUpdateInfo:i,stateInstanceUpdateInfo:s}}function Y(e){let{needsUpdate:t,numSelectedInstancesToUpdate:n,componentInstanceUpdateInfo:l,stateInstanceUpdateInfo:o}=W(e),s=(0,w.eS)(w.aD.ALL),{updateIndividualInstances:c}=(0,R.TM)(s,k.AX.DROPDOWN_UPDATE_SELECTED_INSTANCE),d=(0,a.wA)(),p=r.useMemo(()=>({source:"INSTANCE_PANEL",instanceAndSublayerGUIDs:e}),[e]),m=(0,x.jX)(p),g=r.useCallback(()=>{d((0,_.to)({type:A.F,data:p}))},[d,p]),f=G();return r.useMemo(()=>{let e=[];return t&&(e.push({type:"option",value:"update-selected-instance",displayText:(0,u.t)("design_systems.instance_panel.update_selected",{numSelectedInstancesToUpdate:n}),callback:()=>c(l,o)}),m&&e.push({type:"option",value:"review-instance-update",displayText:(0,u.t)("design_systems.instance_panel.review_update"),callback:()=>{i.az.trackDefinedEvent("design_systems_analytics.instance_review_update_click",f),g()}})),e},[l,t,n,m,o,g,f,c])}function X(e){let t=(0,a.wA)(),n=(0,a.d4)(t=>t.dropdownShown?.type===V&&o()(t.dropdownShown.data?.guids,e)),l=G();return{dropdownShown:n,toggleDropdown:r.useCallback(r=>{r.stopPropagation(),n?t(m.oB()):(t(m.j7({type:V,data:{guids:e}})),i.az.trackDefinedEvent("design_systems_analytics.instance_update_available_button_click",l))},[n,t,e,l])}}},503359:(e,t,n)=>{n.d(t,{_:()=>G,Q:()=>z});var r=n(411855),a=n(109388),l=n(188507),o=n(421757),i=n(794272),s=n(153234),c=n(946689),d=n(939863),p=n(293017),u=n(906899),m=n(356390),_=n(662531),g=n(848661),f=n(335682),E=n(496470),h=n(57392),y=n(234945),v=n(420186),b=n(273226),w=n(907368),T=n(215440),N=n(107244),S=n(353822),I=n(771768),C=n(343662),k=n(509453),A=n(7959),x=n(45148),R=n(893606),P=n(754369),O=n(690122),D=n(782467),L=n(663668),M=n(798099),F=n(835808),K=n(939791);let B=r.forwardRef(function({instanceDescription:e,containingStateGroupLinks:t,containingStateGroupDescription:n,isDescriptionPaneOpen:a,onOpenDescriptionPane:l},o){let i=(0,F.yr)(),s=(0,R.R)(),c=r.useMemo(()=>e?(0,L.A)(e):i?.[0]?.uri?i?.[0]?.uri:n?(0,L.A)(n):t?.[0]?.uri??void 0,[e,i,t,n]),p=r.useRef(null),u=(0,D.n)({ref:p,text:c,checkVerticalOverflow:s}),m=r.useCallback(()=>l(!0),[l]),_=r.useMemo(()=>{let r=!!(i?.length||t?.length),a=!!(e&&n);return u||a||r},[n,t?.length,e,i?.length,u]),g=r.useMemo(()=>!a&&_,[a,_]),f=r.useCallback(()=>{_&&l(!a)},[_,a,l]);return null==c?null:s?r.createElement(K.Ad,{ref:o,appendedClassName:"instance_description_preview--ui3DescriptionRow--wG3Zi",label:null,input:r.createElement("button",{className:"instance_description_preview--ui3DescriptionButton--dZnej",disabled:!_,onMouseDown:M.dG,onClick:f},r.createElement("div",{ref:p,className:"instance_description_preview--ui3DescriptionText--o9WUm ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},c))}):r.createElement("div",{className:"instance_description_preview--wrapper--YGSF3 text--fontPos11--2LvXf text--_fontBase--QdLsd",ref:o},r.createElement("div",{className:"instance_description_preview--description--726Xi ellipsis--ellipsis--Tjyfa",ref:p},c),g&&r.createElement("div",{className:"instance_description_preview--showMore--7-DPO",onClick:m,role:"button",tabIndex:0},(0,d.tx)("design_systems.instance_panel.show_more")))});var V=n(721478),U=n(371623),H=n(687881);function z(e){let t=(0,l.d4)(N.Lg),{nestedInstances:n}=(0,O.p)(e);return t&&!n.length?void 0:V.NA.INSTANCE_SWAP_PICKER}let G=r.memo(function(e){let{resettableInstanceOverridesMap:t}=e,n=(0,l.d4)(e=>e.pickerShown),o=(0,l.d4)(N.cv),i=(0,l.d4)(y.qd),c=(0,l.d4)(y.dT),d=(0,l.d4)(T.Z3),m=(0,l.wA)(),{backingSymbolGUID:_,singleBackingStateGroup:f}=(0,P.$)(c),E=(0,R.R)(),{onlyInstances:h,onlyInstanceSublayers:k}=(0,O.p)(c),x=r.useRef(null),D=r.useMemo(()=>f?.symbolLinks??[],[f]),L=r.useCallback(e=>{if(e){let e=a.findDOMNode(x.current),t=(0,v.cn)(e,C.I);m(p.u1({id:I.uA,initialX:t.x,initialY:t.y})),m(u.sw()),m(p.Uv())}else m(p.XE())},[m]),M=z(c);return h||k?r.createElement(A.Zk,{className:H.Mx},!E&&r.createElement(V.iN,{resettableInstanceOverrides:t?.selectionOverrides,instanceAndSublayerGUIDs:c,instanceNameDisplayOverride:M,recordingKey:e.recordingKey}),E&&r.createElement(W,{recordingKey:s.Pt(e,"restore")}),(()=>{let e=n?.id===I.uA,t=(0,g._W)(o,""),a=_&&(0,g.hS)(_)?f?.description??"":void 0;return r.createElement(r.Fragment,null,e?r.createElement(S.K,{containingStateGroupLinks:D,containingStateGroupDescription:a,description:t}):null,r.createElement(B,{instanceDescription:t,containingStateGroupDescription:a,containingStateGroupLinks:D,onOpenDescriptionPane:L,isDescriptionPaneOpen:e,ref:x}))})(),!E&&r.createElement(W,{recordingKey:s.Pt(e,"restore")}),h&&r.createElement("div",{className:H.Og},r.createElement(w.e6,{containerWidth:E?b.O2.RESIZABLE_SIDEBAR:b.O2.REGULAR,propDimension:b.OE.ASSIGNMENT,guids:i,recordingKey:e.recordingKey,errorBoxFlushWithContainer:!E,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:U.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL})),d.map(n=>r.createElement("div",{key:`bubbledInstance.${n[0]}`,className:H.Wf},r.createElement(w.ME,{containerWidth:E?b.O2.RESIZABLE_SIDEBAR:b.O2.REGULAR,propDimension:b.OE.ASSIGNMENT,guids:n,hideErrors:!0,resettableInstanceOverrides:t&&t.bubbledInstanceOverrides?t.bubbledInstanceOverrides[n[0]]:void 0,instanceAndSublayerGUIDs:n,instanceNameDisplayOverride:V.NA.NAME_ONLY,shouldHideInstanceTitleButtons:!0,recordingKey:e.recordingKey,forBubbledProps:!0,highlightNodesOnHover:!0,errorBoxFlushWithContainer:!E,entrypointForInstanceSwapPicker:U.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL_BUBBLED})))):E?r.createElement(A.Zk,{className:H.Mx}):null});function W({recordingKey:e}){let{sceneGraphSelection:t,library:n}=(0,i.R)(e=>({sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library})),a=(0,l.d4)(y.dT),{affiliatedStateGroup:p,singleBackingSymbol:u,restoreType:g,stateResetType:v}=(0,P.$)(a),b=(0,l.d4)(h.lm),w=(0,l.d4)(f.sS),T=(0,l.wA)(),N=(0,R.R)(),S=U.S.useOpenFileProperties();function I(){let e;if(w){if("DELETED_SUBSCRIBED_STATE"===v){let t=u?.componentKey;if(!t)return;e=b.get(t)}else if("DELETED_LOCAL_STATE"===v){let t=p?.guid;if(!t)return;e=n.local.stateGroups[t]}_.l7.user("reset-variant",()=>{e&&(0,E.V4)(e,T,w,t,"Reset Variant Button",!1,S)})}}if("STATE_GROUP"===g||"SYMBOL_AS_NON_STATE"===g){let t=N?k.z:c.nR,n=r.createElement(t,{className:H.Kg,onClick:function(){m.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")},recordingKey:s.Pt(e,"restoreComponentButton")},(0,d.tx)("design_systems.instance_panel.restore_component"));return N?r.createElement("div",{className:H.Ki},n):r.createElement(A.fI,{className:H.Ki},n)}return"DELETED_LOCAL_STATE"===v||"DELETED_SUBSCRIBED_STATE"===v?r.createElement(x.aV,{title:"Missing variant",appendedClassName:H.$s},r.createElement("div",{className:H.AQ},(0,d.tx)("design_systems.instance_panel.the_selected_variant_is_missing_in_the_component")),r.createElement("div",{className:H.ns},N?r.createElement(o.IK,{variant:"secondary",recordingKey:s.Pt(e,"resetVariantButton"),onClick:I},(0,d.tx)("design_systems.instance_panel.reset_to_default")):r.createElement(c.nR,{className:H.cZ,onClick:I,recordingKey:s.Pt(e,"resetVariantButton")},(0,d.tx)("design_systems.instance_panel.reset_to_default")))):null}},721478:(e,t,n)=>{n.d(t,{NA:()=>W,_B:()=>X,bj:()=>$,iN:()=>Z});var r=n(411855),a=n(109388),l=n(188507),o=n(629019),i=n.n(o),s=n(44948),c=n(794272),d=n(153234),p=n(520581),u=n(667167),m=n(574176),_=n(505113),g=n(939863),f=n(286954),E=n(852800),h=n(843495),y=n(848661),v=n(29680),b=n(237929),w=n(496470),T=n(532888),N=n(335691),S=n(498606),I=n(420186),C=n(386976),k=n(371686),A=n(567488),x=n(714939),R=n(224690),P=n(7959),O=n(893606),D=n(939791),L=n(754369),M=n(690122),F=n(412297),K=n(225373),B=n(371623),V=n(151575),U=n(687881),H=n(968109),z=n(405622),G=n(289298),W=(e=>(e[e.NAME_ONLY=0]="NAME_ONLY",e[e.INSTANCE_SWAP_PICKER=1]="INSTANCE_SWAP_PICKER",e))(W||{});function Y(e){e.stopPropagation()}function X(e){let t=(0,v.B9)();return r.useMemo(()=>{if(0===e.length)return null;let n=t.get(e[0]);return n?.symbolId},[e,t])}function Z(e){let{canCollapse:t,resettableInstanceOverrides:n,instanceAndSublayerGUIDs:a,shouldHideButtons:l,isInComponentPlayground:o}=e,s=(0,r.useRef)(null),{onlyInstances:c,onlyInstanceSublayers:d}=(0,M.p)(a),p=X(a),u=(0,O.R)();if(!c&&!d)return null;let m=u&&!o&&0===e.instanceNameDisplayOverride,_=r.createElement(r.Fragment,null,r.createElement($,{...e,panelTitleRef:s,dropdownIdPrefix:"instance-panel-instance-swap-picker",shouldUseUI3RowCompatibleStyles:m}),!l&&r.createElement("span",{className:U.MC},r.createElement(A.yQ,{nodeField:N.R.OVERRIDDEN_SYMBOL_ID,defaultValue:p,guids:a}),r.createElement(V.F,{instanceAndSublayerGUIDs:a,recordingKey:e.recordingKey}),r.createElement(F.h_,{resettableInstanceOverrides:n,instanceAndSublayerGUIDs:a,recordingKey:e.recordingKey,showAllInstanceOptions:!0})));return m?r.createElement(D.DE,{label:null,input:_,icon:null}):r.createElement(P.fI,{className:i()(U.LO,{[U.Z0]:t,[U.YF]:o}),ref:s},_)}function $({panelTitleRef:e,panelTitleOverridesClassName:t,pickerButtonTextOverridesClassName:n,flushLeft:o,dropdownIdPrefix:A,shouldHideInstanceIcon:O=!1,chevronOverride:D,shouldUseUI3RowCompatibleStyles:F,...V}){let{instanceNameDisplayOverride:W,containerWide:X,instanceAndSublayerGUIDs:Z,shouldHideButtons:$,highlightNodesOnHover:j}=V,q=`${A}-${Z.join("-")}`,J=(0,v.B9)(),Q=r.useMemo(R.en,[]),{propDef:ee,instanceSwapPickerShown:et}=(0,c.R)(e=>({propDef:Q(e,Z,N.R.OVERRIDDEN_SYMBOL_ID),instanceSwapPickerShown:e.instanceSwapPickerShown})),{preferredValues:en,preferredValuesFetchError:er,retryPreferredValuesFetch:ea}=(0,C.xP)(ee??void 0),el=r.useMemo(()=>er?r.createElement(k.u,{onRetry:ea,recordingKey:"instancePropAssignment"}):void 0,[er,ea]),eo=(0,l.wA)(),{backingSymbolGUID:ei,backingStateGroupGUID:es,affiliatedStateGroupId:ec}=(0,L.$)(Z),{backingSymbolOrStateGroupOfContainingInstances:ed,containingInstancesOfSublayers:ep,onlyInstances:eu,onlyInstanceSublayers:em}=(0,M.p)(Z),e_=(0,l.d4)(T.t_),eg=(0,l.d4)(e=>e.library),ef=(0,s.k9)(()=>{let e=es??ei;if(!e||(0,y.gl)(e))return[];let{selectedItem:t}=(0,w.XV)(e,e_,eg,J);return t?[t]:[]},[es,ei,e_,eg,J]),eE=r.useMemo(()=>!!em&&!!ed&&ed!==y.oV,[em,ed]),eh=d.rf(d.Pt(V.recordingKey,"instanceName",Z.join("-")),"mouseenter",()=>{j&&E.Ez5.canvasViewState().temporarilyHoveredNodes.set(Z)}),ey=d.rf(d.Pt(V.recordingKey,"instanceName",Z.join("-")),"mouseleave",()=>{j&&E.Ez5.canvasViewState().temporarilyHoveredNodes.set([])}),ev="";if(null!=es||ec){if((0,y.gl)(es))ev=(0,g.t)("design_systems.instance_panel.mixed");else{let e=es?J.get(es):null,t=ec?J.get(ec):null;ev=(0,b.kH)(t?.name||e?.name||"")}}else null!=ei?ev=(0,y.gl)(ei)?(0,g.t)("design_systems.instance_panel.mixed"):(0,b.kH)(J.get(ei)?.name||""):null!=ed&&(ev=(0,y.gl)(ed)?(0,g.t)("design_systems.instance_panel.mixed"):(0,b.kH)(ed.name||""));let eb="";if(eu){let e=J.get(Z[0])?.name;Z.every(t=>J.get(t)?.name===e)&&e&&(eb=e)}let{modalWidth:ew}=(0,u.TQ)(u.Zl.INSTANCE_SWAP_PICKER),eT=r.useCallback(()=>{if($)return;let t=e.current?(0,I.VZ)(a.findDOMNode(e.current),ew):void 0;eo((0,f.zE)({initialPosition:t,id:q,modal:!0}))},[$,e,ew,eo,q]),eN=r.useCallback(()=>{eE&&h.tJ(ep.map(e=>e.guid))},[eE,ep]),eS="";eu?eS=et.isShown&&et.id===q?U.sK:$?U.qw:U.vS:em&&(eS=eE?U.EA:U.me);let eI=D??r.createElement(m.B,{className:U.t4,svg:G.A});return r.createElement(p.E,{name:"instance_title_control"},0===W?r.createElement("div",{className:F?U.Bt:U.Qp,onMouseEnter:eh,onMouseLeave:ey},r.createElement(_.o,{className:F?U.iB:X?U.u$:U.vF,text:eb??ev})):1!==W&&ee?r.createElement("div",{className:U.I0},r.createElement(x.L,{nodeField:N.R.OVERRIDDEN_SYMBOL_ID,currentValue:ee.defaultValue,instanceGUIDs:Z})):r.createElement(P.xw,{className:i()(eS,t),recordingKey:d.Pt(V,"panelTitle",Z.join("-")),onClick:em?eN:eT,onMouseDown:Y,doNotReserveSpaceForChevron:o},!O&&r.createElement(m.B,{className:U.$C,svg:H.A}),r.createElement("div",{"data-testid":"instance-panel-title-component-name",className:n||U.We},ev),!$&&r.createElement(r.Fragment,null,!em&&eI,eE&&r.createElement(m.B,{className:U.N1,width:"24px",height:"24px",svg:z.A,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("design_systems.instance_panel.select_instance")}))),et.isShown&&et.id===q&&r.createElement(K.T,{selectedItems:ef,title:(0,g.t)("design_systems.instance_panel.swap_instance"),itemsToSwap:Z,recordingKey:d.Pt(V,"instanceSwapPicker"),pickerType:u.Zl.INSTANCE_SWAP_PICKER,preferredItems:en,preferredValuesErrorComponent:el,entrypointForLogging:B.S.InstancePickerEntrypoint.SELECTED_INSTANCE_SWAP}))}},89586:(e,t,n)=>{n.d(t,{jW:()=>V,cI:()=>F,ex:()=>B});var r=n(411855),a=n(188507),l=n(767129),o=n(940319),i=n(841368),s=n(776250),c=n(153234),d=n(347082),p=n(27087),u=n(268537),m=n(493323),_=n(574176),g=n(46481),f=n(939863),E=n(392592),h=n(677664),y=n(798099),v=n(356390),b=n(852800),w=n(662531),T=n(318812),N=n(29680),S=n(498606),I=n(279145),C=n(720488),k=n(7959),A=n(726864),x=n(395701),R=n(862442),P=n(843495),O=n(457630),D=n(82131),L=n(258376),M=n(951912);function F(e){return r.createElement(d.p,{name:"live_object_panel"},r.createElement(k.Zk,null,r.createElement(k.fI,{className:D.LO},r.createElement(k.xw,null,r.createElement("div",{className:"live_object_panel--title--9VTOA"},r.createElement(_.B,{svg:M.A}),(0,f.tx)("fullscreen.live_object_panel.live_object"))),r.createElement(U,{pasteSources:e.pasteSources,recordingKey:e.recordingKey}))))}async function K(e,t){for(let n=0;n<t;n++)try{let t=await p.Ay.post(e,void 0,{responseType:"arraybuffer"});return new Uint8Array(t.data)}catch(e){console.error(e)}throw Error(`Failed to download bytes from ${e}`)}async function B(e,t,n){try{let e=[];for(let r of t)(0,s.sx)("update_live_object",{...r}),r.srcFile?(e.push(K(`/api/file_proxy/file/${r.srcFile}/canvas?nodes_to_extract=${r.srcNode}&fv=${n}`,2).then(e=>{w.l7.user("update-live-object-remote",()=>b.glU.updateLiveObject(e,r.nodeId,r.srcNode,r.srcFile))})),await Promise.all(e)):w.l7.user("update-live-object-local",()=>b.glU.updateLiveObject(new Uint8Array,r.nodeId,r.srcNode,""))}catch(t){e(E.F.enqueue({message:(0,f.t)("fullscreen.live_object_panel.live_update_error"),error:!0}))}v.Y5.triggerAction("commit"),e(E.F.enqueue({message:(0,f.t)("fullscreen.live_object_panel.live_update_success")}))}function V(e){let t=(0,a.wA)(),n=(0,N.eY)(),l=function(){let e=(0,R.Z)("outline_navigate"),t=(0,A.Yk)();return r.useCallback(n=>{P.wr(),P.Dh([n]);let r=v.Y5.getViewportInfo();e((0,O.QZ)({nodeId:n,alwaysPan:!0,viewportRect:x.r.fromOriginAndSize(r.x,r.y,r.width,r.height-r.y-t)}))},[t,e])}(),{pasteSources:o,liveUpdate:i,isLiveUpdating:s}=e,d=(0,a.d4)(e=>e.mirror.selectionProperties.resettableInstanceOverrides),p=(0,a.d4)(e=>e.mirror.appModel.keyboardShortcuts),m=!1;if(d){if(d.bubbledInstanceOverrides)m=!0;else for(let e of Object.values(d.selectionOverrides))if(e){m=!0;break}}return r.createElement(r.Fragment,null,r.createElement(u.c$,{onClick:()=>{if(1!==o.length)return;let e=o[0];e.srcFile?t((0,h.RK)({rawInput:`${window.location.origin}/file/${e.srcFile}?node-id=${e.srcNode}`})):l(e.srcNode)},disabled:1!==o.length,recordingKey:c.Pt(e,"goToOriginal"),key:"goToOriginal"},(0,f.tx)("fullscreen.live_object_panel.go_to_original")),r.createElement(u.c$,{disabled:!m,onClick:()=>{let e=o.map(e=>e.nodeId);w.l7.user("reset-instance-overrides",()=>b.glU.resetSymbolOverridesForNodes(e,b.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS)),v.Y5.commit()},recordingKey:c.Pt(e,"resetAllChanges"),key:"resetAllChanges"},(0,f.tx)("fullscreen.live_object_panel.reset_all_changes")),r.createElement(u.c$,{onClick:()=>i(o),disabled:s,recordingKey:c.Pt(e,"updateLiveObject-menu"),key:"updateLiveObject"},(0,f.tx)("fullscreen.live_object_panel.update_live_object")),r.createElement(u.wv,{key:"divider"}),r.createElement(u.c$,{className:"live_object_panel--menuOption--MSmCN",onClick:()=>{let e=[];for(let t of o){let r=n.get(t.nodeId);r&&(e.push(t.nodeId),r.clearPasteSource())}w.l7.user("detach-instances",()=>b.glU.detachInstances(e)),v.Y5.commit()},recordingKey:c.Pt(e,"detachFromLive"),key:"detachFromLive"},(0,f.tx)("fullscreen.live_object_panel.detach_from_live"),r.createElement("span",{className:"live_object_panel--shortcut--hBzZv"},(0,I.c1)(p,"detach-instance"))))}function U(e){let{pasteSources:t}=e,n=(0,a.wA)(),{showing:s,toggle:d}=(0,T.BK)("live-object-dropdown"),p=(0,a.d4)(e=>e.fileVersion),[u,_]=r.useState(!1),E=r.useRef(null),h=c.Pt(e,"updateLiveObject"),v=c.Pt(e,"liveObjectMenu"),b=r.useCallback(async e=>{_(!0),await B(n,e,p),_(!1)},[p,n]);return r.createElement(r.Fragment,null,u?r.createElement(m.kt,{className:"live_object_panel--spinner--iQ62Q",altIcon:L.A}):r.createElement(l.K,{onClick:()=>b(t),"aria-label":(0,f.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:h,htmlAttributes:{onMouseDown:y.dG,"data-tooltip":(0,f.t)("fullscreen.live_object_panel.update_live_object"),"data-tooltip-type":S.Ib.TEXT}},r.createElement(g.U,{svg:L.A},r.createElement(o._,null))),r.createElement("div",{ref:E},r.createElement(k.YW,{selected:s,onClick:d,onMouseDown:y.dG,className:"live_object_panel--iconButton--vrVs2","data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,f.t)("fullscreen.live_object_panel.live_object_options"),recordingKey:v},r.createElement(i.J,null))),s&&(E.current?r.createElement(C.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},r.createElement(V,{pasteSources:t,liveUpdate:b,isLiveUpdating:u,recordingKey:v})):null))}},7723:(e,t,n)=>{n.d(t,{R:()=>_});var r=n(411855),a=n(629019),l=n.n(a),o=n(335601),i=n(498750),s=n(659838),c=n(83909),d=n(356390),p=n(662531),u=n(843495),m=n(832039);function _({guid:e,value:t,canEdit:n,icon:a,shouldHideIcon:_=!1,editAction:f,focusedInputOverridesClassName:E,unfocusedInputOverridesClassName:h}){let[y,v]=r.useState(t),{inputRef:b,inputProps:{onChange:w,onFocus:T,onMouseUp:N,onMouseLeave:S,onKeyUp:I}}=(0,o.X)({onChange:function(e){v(e.target.value)}}),C=r.useRef(!1);return r.useEffect(()=>{v(t)},[t]),r.createElement(g,{inputRef:b,canEdit:n},n&&r.createElement(r.Fragment,null,!_&&a,r.createElement(s.L,{dir:"auto",ref:b,className:l()(m.hF,E),onBlur:function(){C.current?C.current=!1:y!==t&&(c.wt.reportEditAction(f),p.l7.user(f,()=>{u.i(e,y)}),d.Y5.commit())},onChange:w,onFocus:T,onKeyDown:function(e){switch(e.keyCode){case i.Uz.ESCAPE:v(t),C.current=!0,b.current?.blur();break;case i.Uz.ENTER:b.current?.blur(),e.preventDefault()}},onMouseLeave:S,onMouseUp:N,onKeyUp:I,value:y})),r.createElement("div",{"aria-hidden":"true",className:l()(n?m.$k:m.gw,h)},r.createElement("span",{className:m.EH,dir:"auto"},t)))}function g({children:e}){return r.createElement("div",{className:m.kL},e)}},438377:(e,t,n)=>{n.d(t,{Q:()=>P});var r=n(411855),a=n(181912),l=n(153234),o=n(347082),i=n(946689),s=n(348425),c=n(762638),d=n(939863),p=n(941381),u=n(672517),m=n(10648),_=n(852800),g=n(662531),f=n(215822),E=n(772192),h=n(829632),y=n(555328),v=n(239671),b=n(376485),w=n(498606),T=n(978527),N=n(788612),S=n(227795),I=n(7959),C=n(819785),k=n(695038),A=n(215877),x=n(551034);let R=class e extends r.PureComponent{constructor(){super(...arguments),this.onRemoveRelaunchData=e=>{g.l7.user("remove-plugin-relaunch-data",()=>_.NfO.removeRelaunchDataFromSelection(e))},this.onRelaunch=async e=>{let t=this.props.openFileKey;if(!t)return;let{canRun:n}=(0,f.JT)({plugin:e.plugin,editorType:this.props.editorType??v.nT.Design});if(n)return await h.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:t,command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:this.props.editorType===v.nT.DevHandoff?"handoff-relaunch":"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})},this.fetchPlugin=e=>{this.props.dispatch(p.af({id:e,resourceType:y.bD.PLUGIN}))},this.renderRelaunchRows=e=>{let t="";return e.map(e=>{let n=e.plugin.plugin_id,a=`${e.pluginTypeAndID}-${e.relaunchButton.command}`,o=r.createElement(O,{key:a,relaunchData:e,recordingKey:l.Pt(this.props,"relaunch",a),onRelaunch:this.onRelaunch,onRemoveRelaunchData:this.onRemoveRelaunchData,firstButtonForPlugin:n!==t});return t=n,o})}}render(){let t=(0,f.vA)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localPlugins,this.props.orgEntity,this.props.numSelected,(t,n)=>e.refreshCache.debounceRefresh(t,this.fetchPlugin.bind(this),n),b.FW.FIGMA);if(0===t.length)return null;let n=this.props.title??(0,d.t)("properties_panel.plugin.title"),a=r.createElement(o.p,{name:"plugin_panel"},r.createElement(I.Zk,null,r.createElement(I.fI,null,r.createElement(I.xw,null,n)),this.renderRelaunchRows(t)));return this.props.isDevHandoff?r.createElement(o.p,{name:"inspection_panel"},r.createElement(N.VZ,{hideHeader:!0,padding:N.UZ.NONE,recordingKey:"plugin"},a)):a}};R.displayName="PluginPanel",R.refreshCache=new E.O(a.A.duration(1,"day"));let P=R;class O extends l.o6{constructor(){super(...arguments),this.onRelaunch=l.cZ(this,"click",()=>{this.props.onRelaunch(this.props.relaunchData)})}render(){return r.createElement(D,{...{...this.props,onRelaunch:this.onRelaunch,recordingKey:l.Pt(this.props,"removeButton")}})}}function D(e){let{plugin:t,relaunchButton:n}=e.relaunchData,a=(0,b.ZQ)(t)?r.createElement("div",{className:"plugin_panel--pluginIconLocal--44TyG"},r.createElement(s.t,{svg:A.A,fallbackSvg:x.A})):r.createElement("div",{className:"plugin_panel--pluginIcon--TvCDA plugin--pluginIconBase--yAG5F"},r.createElement(T.V,{plugin:t}));return r.createElement(u.fu,{name:"PluginRelaunchRow",properties:{pluginId:t.plugin_id},trackingTargets:m.K.RCS},r.createElement(I.fI,{className:"plugin_panel--rowButton--PxW5t button_row--rowButton--s-r8y raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm button_row--_rowButton--EdZXq"},r.createElement("div",{className:"plugin_panel--relaunchContainer--leq1l"},r.createElement(i.Yo,{className:"plugin_panel--relaunchButton--sEH4s",onClick:()=>e.onRelaunch(e.relaunchData),"data-tooltip-type":w.Ib.TEXT,"data-tooltip":t.name},r.createElement("div",{className:c.cx.flex.itemsCenter.$},r.createElement("div",{className:"plugin_panel--pluginIconContainer--o3Wvm"},a),r.createElement("div",{className:"plugin_panel--relaunchButtonName--Ol-Gy"},r.createElement("div",{className:c.cx.ellipsis.overflowHidden.noWrap.fontMedium.$},n.name)))),r.createElement("div",{className:"plugin_panel--iconContainer--KltJf"},r.createElement(S.Me,{recordingKey:e.recordingKey,trackingProperties:{action:"minus"},svg:C.A,fallbackSvg:k.A,"data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,d.t)("properties_panel.plugin.remove_tooltip"),onClick:()=>e.onRemoveRelaunchData(e.relaunchData.plugin.plugin_id)})))),!!n.description&&r.createElement("div",{className:"plugin_panel--relaunchDescription--TmxcU"},r.createElement("pre",{className:"plugin_panel--relaunchDescriptionText--8x1PM ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},n.description===b.Q7?(0,d.tx)("properties_panel.plugin.mixed_descriptions"):n.description)))}O.displayName="PluginRelaunchRow"},914905:(e,t,n)=>{n.d(t,{h:()=>r});let r=(0,n(38580).eU)(null)},987950:(e,t,n)=>{n.d(t,{A:()=>K});var r=n(411855),a=n(188507),l=n(631437),o=n(897379);function i(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 7H9v1h6V7Zm1 0v1h1V7h-1ZM7 7h1v1H7V7Zm10 2H7v8h10V9ZM7 6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H7Zm5.536 7.578.205-.122.402-.242a.25.25 0 0 0 0-.428l-.402-.242-.205-.122-.008-.005L12 12.1l-.014-.009-.25-.15-.357-.214a.25.25 0 0 0-.379.214v2.118a.25.25 0 0 0 .379.214l.357-.214.25-.15L12 13.9l.528-.317.008-.005Zm1.121-1.65-1.764-1.058A1.25 1.25 0 0 0 10 11.942v2.117a1.25 1.25 0 0 0 1.893 1.071l1.764-1.058a1.25 1.25 0 0 0 0-2.144Z",clipRule:"evenodd"}))}var s=n(860601),c=n(153234),d=n(776621),p=n(347082),u=n(46481),m=n(939863),_=n(970516),g=n(178218),f=n(728325),E=n(356390),h=n(852800),y=n(662531),v=n(848661),b=n(555074),w=n(29680),T=n(335682),N=n(94500),S=n(549774),I=n(498606),C=n(507956),k=n(602029),A=n(248752),x=n(227795),R=n(386560),P=n(7959);let O="prototype_flows_panel--fadeOutOnTitleUnhover--G4xPQ";var D=n(457272),L=n(812717),M=n(953663);function F({selected:e,hasFocus:t,flowItemsCount:n,item:a,index:s,hasFile:d,fileKey:p,fileProtoUrl:f,isDragging:E,viewOnly:y,dispatch:v,onMouseDown:b,onMouseMove:w,onMouseUp:T,renamingStartingPointNodeId:C,setRenamingStartingPointNodeId:A,submitRename:F,selectFlowRowAndSetToEditName:K,recordingKey:B}){function V(e){e.stopPropagation()}return r.createElement(k.e,{selected:e&&t,singletonRow:n<=1,dragging:E,onMouseDown:b,onMouseMove:w,onMouseUp:T,onDoubleClick:()=>{var e;return e=a.nodeID,void(y||C===e||(A(e),h.X3B.centerViewportOnNodeIfNecessary(e)))},className:"prototype_flows_panel--flowRow--pqvyi",recordingKey:c.Pt(B,"draggableRow"),key:a.nodeID,"data-testid":"prototype-flow-panel-row"},!y&&C&&C===a.nodeID?r.createElement(R.m,{defaultValue:a.prototypeStartingPoint.name||"",submitRename:e=>F(a.nodeID,e),recordingKey:c.Pt(B,"startingPointNameInput"),shouldListenForTabKeyboardEvent:n>1,onTabKeyboardEvent:e=>K(e?s-1:s+1),className:"prototype_flows_panel--startingPointNameInput--fH7vx prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t"}):r.createElement(P.JU,{className:"prototype_flows_panel--flowName--kg1JF"},a.prototypeStartingPoint.name),C!==a.nodeID&&r.createElement("div",{className:"prototype_flows_panel--panelInfoContainer--pVsR6"},r.createElement(x.K0,{className:O,onMouseDown:V,onClick:()=>{var e;return e=a.nodeID,void h.glU.selectInstances(e,!h.X3B.isNodeVisibleInViewport(e))},"aria-label":(0,m.t)("proto.flows_panel.select_frame"),"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,m.t)("proto.flows_panel.select_frame")},r.createElement(u.U,{svg:M.A,fallbackSvg:M.A},r.createElement(l.A,null))),r.createElement(x.K0,{className:O,disabled:!d,onMouseDown:V,onClick:()=>(function(e){let t=h.X3B.currentDeviceType(),n=(0,S.vp)({scalingInfo:{viewportScalingMode:(0,N.qb)(t),contentScalingMode:(0,N.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});v(_.lW({stringToCopy:`${f}${n}`}))})(a.nodeID),"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,m.t)("proto.flows_panel.copy_link"),"aria-label":(0,m.t)("proto.flows_panel.copy_link")},r.createElement(u.U,{svg:L.A,fallbackSvg:L.A},r.createElement(o.r,null))),r.createElement(x.K0,{className:O,disabled:!p,onMouseDown:V,onClick:function(){v((0,g.K)({fileKey:p,startingPointNodeId:a.nodeID,shouldOpenAtStartingPoint:!0,source:"properties_panel"}))},"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,m.t)("proto.flows_panel.preview")},r.createElement(u.U,{svg:D.A,fallbackSvg:D.A},r.createElement(i,null)))))}let K=function(e){let t=(0,b.kl)("prototypeStartingPointsInfo"),n=(0,a.d4)(T.sS)||"",l=(0,T.q5)(),o=(0,T.Cq)({useSinatraType:!0}),i=(0,a.d4)(e=>e.mirror.appModel.currentSelectedProperty),u=(0,w.eY)(),_=(0,C.ks)(),[g,N]=r.useState(null),S=(0,a.wA)(),I=_||e.viewOnly,k=(0,a.d4)(e=>e.mirror.appModel.prototypeCanvasUiVisible&&I),x=(0,v._W)(t,[]);if(r.useEffect(()=>{o||(0,d.x1)("prototyping","No file available in flows panel",{fileKey:n})},[o,n]),!t||_&&0===(x=x.filter(e=>u.get(e.nodeID)?.visible)).length)return null;function R(e){let t=e;e>=x.length?t=0:e<0&&(t=x.length-1),E.Y5.updateAppModel({currentSelectedProperty:{type:h.rrT.PROTOTOTYPE_STARTING_POINT,indices:[t]}}),N(x[t].nodeID)}function O(e,t){N(null),t&&y.l7.user("update-prototype-starting-point-name",()=>{h.glU.updatePrototypeStartingPointName(e,t)})}return r.createElement(p.p,{name:"prototype_flows_panel"},r.createElement(P.Zk,null,r.createElement(A.h6,{title:(0,m.t)("proto.flows"),stylePickerShown:{isShown:!1},addProperty:s.lQ,hideAddButton:!0,shouldIgnoreKeyboardEventDuplicateProperty:!0,renderProperty:(e,t,a,l,i,s,d,p,u)=>r.createElement(F,{key:t,flowItemsCount:x.length,item:e,renamingStartingPointNodeId:g,index:t,hasFocus:i,isDragging:l,selected:a,hasFile:!!o,fileProtoUrl:o?.prototype_url,fileKey:n,viewOnly:!!I,onMouseDown:d,onMouseMove:p,onMouseUp:u,submitRename:O,setRenamingStartingPointNodeId:N,dispatch:S,selectFlowRowAndSetToEditName:R,recordingKey:c.Pt("prototypeFlowsList",t)}),openFile:l,onChange:e=>{if(0===e.length||0===i.indices.length)return;let t=x.filter((e,t)=>i.indices.includes(t)).map(e=>e.nodeID);if(0===t.length)return;let n=x[i.indices[0]].nodeID,r=e[0].nodeID===n?"":e[e.findIndex(e=>e.nodeID===n)-1].nodeID,a=x[i.indices[i.indices.length-1]].nodeID,l=e[e.length-1].nodeID===a?"":e[e.findIndex(e=>e.nodeID===a)+1].nodeID;y.l7.user("change-starting-points",()=>{h.glU.insertPrototypeStartingPointsBetween(t,r,l)})},currentSelectedProperty:i,selectedPropertyType:h.rrT.PROTOTOTYPE_STARTING_POINT,propertyList:x,reversed:!1,pickerShown:null,dispatch:S,onDeleteProperty:I?()=>{}:e=>{let t=x.filter((t,n)=>e.has(n)).map(e=>e.nodeID);t.length>0&&h.glU.deletePrototypeStartingPoints(t)},showVisibleFlowsButton:I,toggleVisibleFlows:e=>{f.VU.get("toggle-prototyping-info","panel")(e)},visibleFlowsButtonChecked:k,recordingKey:"prototypeFlowsList"})))}},73349:(e,t,n)=>{n.d(t,{E8:()=>s,RI:()=>c,U8:()=>l,_i:()=>o,pu:()=>d,wb:()=>i});var r=n(682331),a=n(126911);function l(e){let t=[],n=a.y.isApple();return n&&e.metaKey&&t.push("\u2318"),!n&&e.metaKey&&t.push(e.ctrlKey?"\u2318":"Ctrl"),e.ctrlKey&&t.push(n?"\u2303":"Ctrl"),e.shiftKey&&t.push(n?"\u21E7":"Shift"),e.altKey&&t.push(n?"\u2325":"Alt"),t.push(d[e.keyCode]||String.fromCharCode(e.keyCode)),t.join(n?"":"+")}function o(e){if(!e)return null;let t={metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:0};for(let n of e)switch(n){case 16:t.shiftKey=!0;break;case 17:t.ctrlKey=!0;break;case 18:t.altKey=!0;break;case 91:case 92:case 93:case 224:t.metaKey=!0;break;default:t.keyCode=n}return t.keyCode?t:null}function i(e){return[e.keyCode,e.shiftKey?16:0,e.ctrlKey?17:0,e.altKey?18:0,e.metaKey?91:0].filter(Boolean)}function s(e,t=!1){if(!e||e?.triggerDevice==="KEYBOARD")return null;let n=p.get(e?.triggerDevice),a=e?.keyCodes?.[0]??0,l=n?.get(a)??function(e){if(e>=r.c){let t=Math.floor((e-r.c)/2);return`Axis ${t} ${e%2==0?"-":"+"}`}return`Button ${e}`}(a);return l.length<=1&&!t&&(l+=" (Gamepad)"),l}let c=new Set([16,17,18,91,92,93,224]),d={3:"Break",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"Caps Lock",27:"Esc",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",41:"Select",42:"Print",43:"Execute",44:"Print Screen",45:"Ins",46:"Del",47:"Help",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",59:"=",60:"<",61:"=",63:"\xdf",64:"@",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",95:"Sleep",96:"Numpad 0",97:"Numpad 1",98:"Numpad 2",99:"Numpad 3",100:"Numpad 4",101:"Numpad 5",102:"Numpad 6",103:"Numpad 7",104:"Numpad 8",105:"Numpad 9",106:"*",107:"+",108:".",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"Num Lock",145:"Scroll Lock",151:"Airplane Mode",160:"^",161:"!",163:"#",164:"$",166:"Page Backward",167:"Page Forward",168:"Refresh",170:"*",172:"Home",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",193:"?",194:".",219:"[",220:"\\",221:"]",222:"'",223:"`"},p=new Map([["SWITCH_PRO",new Map([[0,"B"],[1,"A"],[2,"Y"],[3,"X"],[4,"L"],[5,"R"],[6,"ZL"],[7,"ZR"],[8,"-"],[9,"+"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Home"],[17,"Capture"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])],["PS4",new Map([[0,"X"],[1,"\u25CB"],[2,"\u25A1"],[3,"\u25B3"],[4,"L1"],[5,"R1"],[6,"L2"],[7,"R2"],[8,"Share"],[9,"Options"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Home"],[17,"Touch Pad"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])],["XBOX_ONE",new Map([[0,"A"],[1,"B"],[2,"X"],[3,"Y"],[4,"LB"],[5,"RB"],[6,"LT"],[7,"RT"],[8,"View"],[9,"Menu"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Xbox Button"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])]])},351631:(e,t,n)=>{n.d(t,{Y:()=>k,e:()=>C});var r=n(327752),a=n(611407),l=n(88354),o=n(38329),i=n(966712),s=n(776621),c=n(96328),d=n(304783),p=n(356390),u=n(852800),m=n(617453),_=n(497306),g=n(341860),f=n(457630),E=n(94500),h=n(178248),y=n(132572),v=n(662531),b=n(395701),w=n(105110),T=n(602487),N=n(196619),S=n(574724),I=n(284615);let C=async({clientLifecycleId:e,abortController:t})=>{(0,i.kc)().prototype_ai_magic_link_ensemble_model&&((0,T.F4)(e=>{let t=e.name,n=e.time;o.D.dispatch((0,E.Zh)({name:"prototype.ai_magic_link_feature_computed",params:{name:t,time:n}}))}),(0,N.NX)(e=>{let t={gpt_elapsed_time:e.gptElapsedTime,num_gpt_interactions:e.numGPTInteractions,interactions_removed:e.interactionsRemoved,num_interactions_need_destination_node:e.numInteractionsNeedDestinationNode,num_interactions_destination_node_is_same_tlf:e.numInteractionsDestinationNodeIsSameTLF};o.D.dispatch((0,E.Zh)({name:"prototype.ai_magic_link_gpt_post_processing",params:t}))}),(0,w.i)(async e=>{let t=e.batch.map(e=>Object.entries(e).reduce((e,[t,n])=>(e[t]=n,e),{}));return await S.Ay.design.magicLinkClassifier({data:t},{...(0,I.Ay)()})}));let n=g.q.instance;if(!n)throw Error("No scene found");let f=n.getCurrentPage();if(!f)throw Error("No page found");let C=o.D.getState().mirror.sceneGraphSelection,k=o.D.dispatch,A=u.Ez5.editorPreferences().toggleDebugShowMagicLinkClustering.getCopy(),x=Object.keys(C);x=x.flatMap(e=>{let t=n.get(e);return t&&"SECTION"===t.type&&t.childrenNodes?t.childrenNodes.map(e=>e.guid):[e]});let R=(0,m.UK)().toggleMagicLinkUseVision.getCopy(),P=Object.keys(C);if(1===P.length){let e=n.get(P[0]);e&&"SECTION"===e.type&&(P=e.childrenNodes.filter(e=>e.isTopLevelFrame()).map(e=>e.guid))}let O=(P=P.filter(e=>e&&u.X3B.isValidNodeForMagicLink(e))).every(e=>{let t=n.get(e);return!!t&&"FRAME"===t.type&&t.isTopLevelFrame()}),D=P.flatMap(e=>_.kh(n,e)?.guid??[]);k((0,E.Zh)({name:"prototype.ai_magic_link_started",params:{selectedNodeIds:JSON.stringify(x),numSelectedNodes:x?.length??0,acceptedNodeIds:JSON.stringify(P),numAcceptedNodes:P?.length??0,selectionType:O?"broad":"narrow",selectedNodeTlfIds:JSON.stringify(D)}}));let L=(e,t)=>{let r=n.get(e);if(!r||!n.get(t))return!1;if(r.guid===t)return!0;let a=r.childrenGuids;return!!a&&a.some(e=>e===t||L(e,t))};try{if(!(0,y.Ll)())throw Error("Magic link is not enabled");let o=n.get(f.guid);if(!o||!o.childrenGuids)throw Error("No page node found");let s="",d="",m=[],_=(0,h.k9)(o.guid,n),w=[],T={type:"EMPTY"},N=P.map(e=>(0,l.Sh)(e,_)).filter(h.Pe),S=(0,r._q)(N),I={totalNodes:0,totalNodesFiltered:0,numNodesFilteredForName:0,numNodesFilteredForType:0,numNodesFilteredForVisibility:0};if(O){let e;let t=(0,h.dT)(P,n,!1,I);if(R){!function(e){let t=1/0,n=1/0;for(let r of e)(0,l.ul)(r,e=>{e.x&&e.y&&(t=Math.min(e.x,t),n=Math.min(e.y,n))});for(let r of e)(0,l.ul)(r,e=>{e.x&&e.y&&(e.x=e.x-t,e.y=e.y-n)})}(t);let n=function(){let e;if(v.l7.system("magic-link-vision",()=>{let t=g.q.instance,n=t.getCurrentPage()?.directlySelectedNodes;if(!n||n.length<1)throw Error("No Selection for screenshotting");let r=b.r.fromFigRect(n[0].absoluteBoundingBox);for(let e of n){let t=b.r.fromFigRect(e.absoluteBoundingBox);r=r.unionWith(t)}let a=t.createNode("SLICE");a.x=r.left(),a.y=r.top(),a.size={x:r.width(),y:r.height()},t.getCurrentPage()?.appendChild(a);let l=Math.min(1024,a.size.x);e=a.export([{constraint:{type:"CONTENT_WIDTH",value:l},useAbsoluteBounds:!0,imageType:"JPEG"}]),a.removeSelfAndChildren()}),!e)throw Error("Unable to screenshot nodes");return e}();e="data:image/jpeg;base64,"+(0,c.H9)(n)}m.push(...t);let r=(0,l.rq)({..._,children:N});T={type:"TOPLEVEL",variant:"gpt",topLevelFrames:m,unfilteredScene:r,imageBase64:e}}else{w=u.X3B.getContextFramesForMagicLink(P),A&&u.Ez5.canvasViewState().temporarilyHoveredNodes.set(w);let e=P.filter(e=>{let t=n.get(e);return t?.isTopLevelFrame()}).length,t=o.childrenGuids.filter(e=>{let t=n.get(e);return t?.isTopLevelFrame()}).length,r=w.filter(e=>!!n.get(e)&&P.some(t=>L(e,t))).length;k((0,E.Zh)({name:"prototype.ai_magic_link_narrow_selection",params:{totalSelectedNodes:P.length,numSelectedTLFs:e,numSelectedNonTLFs:P.length-e,numTLFsInContext:w.length,numTLFsOnPage:t,numTLFsContainingSelectedNodes:r}}));let l=(0,h.dT)(w,n,!1,I);s=(0,a.Lg)(l).join(", "),d=await (0,h.ao)(N,S),T={type:"HOTSPOTS",variant:"gpt",contextFrames:w,selectedHotspots:d,frameTextSummaries:s,unfilteredScene:_,selectedNodeIDs:P}}k((0,E.Zh)({name:"prototype.ai_magic_link_filtering_completed",params:{totalNodes:I.totalNodes,totalNodesFiltered:I.totalNodesFiltered,numNodesFilteredForName:I.numNodesFilteredForName,numNodesFilteredForType:I.numNodesFilteredForType,numNodesFilteredForVisibility:I.numNodesFilteredForVisibility,totalTopLevelNodes:P?.length??0}})),(0,i.kc)().internal_only_debug_tools&&console.log("Kicking off Magic Link",{vision:R,method:O?"Broad":"Narrow"});let C=(0,h.LI)(T,e,t,S,k),x=new Promise(e=>{t.signal.addEventListener("abort",()=>e({generatedInteractions:[],errorMessage:"aborted"}))}),D=await Promise.race([C,x]);if(D.errorMessage){if("aborted"===D.errorMessage)return p.Y5.triggerAction("end-magic-link"),D;if("All frames were filtered out"===D.errorMessage)throw new h.ft;throw Error(D.errorMessage)}let M=D.generatedInteractions.map(e=>e.id);return k((0,E.Zh)({name:"prototype.ai_magic_link_completed",params:{status:"success",connectorIds:JSON.stringify(M),numConnectors:M.length}})),D}catch(e){throw e instanceof l.FI&&((0,s.ED)("Magic Link",JSON.stringify(e.looseNodeInfo)),(0,s.$D)(d.e.PROTOTYPING,Error(e.toString()))),k((0,E.Zh)({name:"prototype.ai_magic_link_completed",params:{status:"failure",reason:e.toString(),numConnectors:0}})),e}};function k(e,t){let n=function(e,t){if(0===e.length)return null;let n=e.flatMap(e=>{let{buttonID:n,destinationScreenID:r}=e;return[(0,_.kh)(t,n)||t.get(n),r?t.get(r):null].filter(e=>!!e)}).map(e=>e.absoluteBoundingBox).reduce((e,t)=>e?{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),w:Math.max(e.x+e.w,t.x+t.w)-Math.min(e.x,t.x),h:Math.max(e.y+e.h,t.y+t.h)-Math.min(e.y,t.y)}:t);return{origin:{x:n.x,y:n.y},size:{x:n.w,y:n.h}}}(e,t),r=t.getCurrentPage(),a=r?.guid;return n&&a?(0,f.QZ)({nodeId:a,nodeAbsoluteBounds:n,alwaysPan:!0,noPanViewportMultiplier:0,panJustEnoughViewportMultiplier:.5}):Promise.resolve(null)}},386560:(e,t,n)=>{n.d(t,{m:()=>j,A:()=>X});var r=n(411855),a=n(109388),l=n(188507);function o(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 17H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1Zm-6 1h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2Zm1.5-9a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Zm-.5 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm.5 1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2Z",clipRule:"evenodd"}))}var i=n(927457),s=n(897379),c=n(536825),d=n(794272),p=n(498750),u=n(153234),m=n(522739),_=n(46481),g=n(939863),f=n(970516),E=n(226055),h=n(356390),y=n(852800),v=n(662531),b=n(848661),w=n(555074),T=n(335682),N=n(94500),S=n(549774),I=n(498606),C=n(32067),k=n(227795),A=n(91408),x=n(812115),R=n(572206),P=n(827586),O=n(83909),D=n(746806),L=n(860168);let M=function({startingPoint:e,closeModal:t,parentPanelRectObject:n,recordingKey:a}){let[l,o]=(0,r.useState)(e?.description||""),i=(0,r.useRef)(l);(0,r.useEffect)(()=>{i.current=l},[l]);let s=(0,C.uQ)(),c=(0,r.useRef)(s),d=(0,r.useCallback)(()=>{v.l7.user("submit-prototype-starting-point-description",()=>{c.current&&y.glU.updatePrototypeStartingPointDescription(c.current,i.current)}),t()},[t]);(0,r.useEffect)(()=>d,[d]);let p=(0,r.useCallback)(()=>{v.l7.user("blur-prototype-starting-point-description",()=>{c.current&&y.glU.updatePrototypeStartingPointDescription(c.current,i.current)})},[]);return(0,r.useEffect)(()=>(window.addEventListener("blur",p),window.addEventListener("focus",p),()=>{window.removeEventListener("blur",p),window.removeEventListener("focus",p)}),[p]),r.createElement(D.vx,{title:(0,g.t)("proto.starting_point_modal.description"),initialPosition:new R.Mi(n.x-(0,A.hG)(L.M0y),n.y),headerSize:"small",truncateTitleText:!0,dragHeaderOnly:!0,onClose:d},r.createElement(P.P,{className:"prototype_starting_point_modal--contentContainer--PuTTf"},r.createElement("div",{className:"prototype_starting_point_modal--richTextEditor--Ru95M",dir:"auto"},r.createElement(x.X,{fallback:null,errorFallback:null,placeholder:(0,g.t)("proto.starting_point_modal.enter_a_description_for_your_starting_point"),defaultValue:l,onInputChange:e=>{O.wt.reportEditAction("change-flow-description"),o(e)},onBlur:p,mountBehavior:"focusAndSelectAll",useMinimalToolbarOptions:!0}))))};var F=n(7959),K=n(939791);let B="prototype_starting_point_panel--rightIconButton--ID6ZQ",V="prototype_starting_point_panel--fadeOutOnUnhover--6-o5B";var U=n(812717),H=n(819785),z=n(695038),G=n(943131),W=n(501191),Y=n(660164);function X(e){let[t,n]=(0,w.lJ)("prototypeStartingPoint"),p=(0,E.GS)(),A=!!(0,d.R)(Z),[x,R]=(0,r.useState)(!1),[P,O]=(0,r.useState)(b.E7(t)?.name||""),[D,L]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=b.E7(t)?.name||"";e!==P&&(O(e),!P&&D&&(L(!1),R(!0)))},[t,P,D]);let[X,q]=(0,r.useState)(!1),J=(0,r.useRef)(null),Q=(0,r.useRef)(null),ee=(0,C.Tv)(),et=(0,T.Cq)({useSinatraType:!0}),en=!!et,er=et?.prototype_url,ea=(0,l.d4)(e=>e.mirror.appModel.urlNodeId),el=(0,l.wA)(),eo=(0,r.useCallback)(()=>{q(!1)},[]);(0,r.useEffect)(()=>{eo()},[eo,ee]);let ei=v.nc.user("delete-prototype-starting-points",()=>{ee&&y.glU.deletePrototypeStartingPoints(ee)}),es=u.rf(u.Pt(e.recordingKey,"minusButton"),"click",e=>{ei()}),ec=u.rf(u.Pt(e.recordingKey,"nameLabel"),"click",e=>{R(!0)});(0,r.useEffect)(()=>(h.Y5.fromFullscreen.on("focusPrototypeStartingPointPanelToEditName",ec),()=>{h.Y5.fromFullscreen.removeListener("focusPrototypeStartingPointPanelToEditName",ec)}),[ec]);let ed=u.rf(e.recordingKey,"click",e=>{L(!0),v.l7.user("add-prototype-starting-point",()=>{h.Y5.triggerAction("add-prototype-starting-point")})}),ep=ee&&ee.length>1,eu=(0,b._W)(t,{}),em=r.createElement(r.Fragment,null,x?r.createElement(j,{defaultValue:P,submitRename:function(e){R(!1),e?n({name:e,description:(0,b.E7)(t)?b.E7(t)?.description:"",position:(0,b.E7)(t)?b.E7(t)?.position:""}):O(b.E7(t)?.name||"")},recordingKey:u.Pt(e,"startingPointNameInput")}):r.createElement(F.JU,{className:"prototype_starting_point_panel--startingPointNameLabel--Mipwi raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",onClick:ec},P)),e_=r.createElement(k.K0,{onClick:()=>{q(!0)},"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,g.t)("proto.starting_points.edit_description"),"aria-label":(0,g.t)("proto.starting_points.edit_description"),recordingKey:u.Pt(e,"startingPointPanelIcon")},r.createElement(_.U,{svg:G.A,fallbackSvg:G.A},r.createElement(o,null))),eg=p?r.createElement(K.DE,{ref:Q,label:null,input:em,icon:e_}):r.createElement(F.fI,{ref:J},em,r.createElement("span",{className:B},e_));return A?r.createElement(F.Zk,null,r.createElement(F.fI,{className:"prototype_starting_point_panel--flowStartingPointRow--Ajjk1 collapsible_property_panel--panelTitleRowOuter--i5K0R"},r.createElement(F.xw,{extended:!0},(0,g.tx)("proto.starting_points.flow_starting_point_title")),r.createElement("span",{className:V},!ep&&r.createElement(k.K0,{className:V,disabled:!en,onClick:()=>(function(e){let t=y.X3B.currentDeviceType(),n=(0,S.vp)({scalingInfo:{viewportScalingMode:(0,N.qb)(t),contentScalingMode:(0,N.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});el(f.lW({stringToCopy:`${er}${n}`}))})(ea),"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,g.t)("proto.flows_panel.copy_link"),"aria-label":(0,g.t)("proto.flows_panel.copy_link")},r.createElement(_.U,{svg:U.A,fallbackSvg:U.A},r.createElement(s.r,null)))),r.createElement("span",{className:B},r.createElement(k.K0,{as:"button",onClick:es,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,g.t)("proto.starting_points.delete_starting_point_tooltip"),"aria-label":(0,g.t)("proto.starting_points.delete_starting_point_tooltip")},r.createElement(_.U,{svg:H.A,fallbackSvg:z.A},r.createElement(c.O,null))))),ep?r.createElement(F.fI,null,r.createElement(F.UZ,{className:"prototype_starting_point_panel--mixedNoteLabel--gzISu draggable_list--label--Gcpsi"},(0,g.tx)("proto.starting_points.click_to_remove_mixed_content"))):r.createElement(r.Fragment,null,eg,X&&r.createElement(M,{startingPoint:eu,closeModal:eo,parentPanelRectObject:(p?Q.current:a.findDOMNode(J.current)).getBoundingClientRect(),recordingKey:u.Pt(e,"startingPointDescriptionModal")}))):ep?null:r.createElement(F.Zk,null,r.createElement(F.fI,{className:"prototype_starting_point_panel--panelHeaderRowFaded--pswTv draggable_list--panelHeaderRowFaded--kETRR"},r.createElement(F.xw,{faded:!0,extended:!0},r.createElement(m.D8,{className:"prototype_starting_point_panel--panelTitleText--F75N0 draggable_list--panelTitleText--SwKez",onMouseDown:ed,recordingKey:u.Pt(e,"panelTitle")},(0,g.tx)("proto.starting_points.flow_starting_point_title"))),r.createElement("span",{className:"prototype_starting_point_panel--addButton--M-0Xy draggable_list--addButton--D0q--"},r.createElement(k.K0,{as:"button",onClick:ed,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,g.t)("proto.starting_points.add_starting_point_tooltip"),"aria-label":(0,g.t)("proto.starting_points.add_starting_point_tooltip"),onMouseDown:$,recordingKey:u.Pt(e,"plusButton")},r.createElement(_.U,{svg:W.A,fallbackSvg:Y.A},r.createElement(i.e,null))))))}function Z(e){return e.mirror.selectionProperties.prototypeStartingPoint}function $(e){e.stopPropagation()}function j(e){let[t,n]=r.useState(e.defaultValue),a=u.AF(e.recordingKey,"change",e=>{n(e.target.value)}),l=u.iQ(e.recordingKey,"blur",v.nc.user("rename-starting-point",()=>e.submitRename(t))),o=u.v_(e.recordingKey,"keydown",n=>{"Enter"===n.key?e.submitRename(t):"Escape"===n.key?e.submitRename(""):e.shouldListenForTabKeyboardEvent&&n.keyCode===p.Uz.TAB&&(n.preventDefault(),e.submitRename(t),e.onTabKeyboardEvent?.(n.shiftKey))});return r.createElement("input",{autoFocus:!0,type:"text",dir:"auto",className:e.className||"prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",defaultValue:e.defaultValue,placeholder:"Flow name",onChange:a,onBlur:l,onKeyDown:o,onFocus:e=>{e.currentTarget.select()},onMouseDown:$})}},900086:(e,t,n)=>{n.d(t,{U:()=>g,x:()=>f});var r=n(411855),a=n(188507),l=n(421757),o=n(939863),i=n(662275),s=n(416095),c=n(234945),d=n(173454),p=n(13678),u=n(611964),m=n(509453);function _(){let e=(0,a.d4)(e=>e.library.local),t=(0,a.d4)(c.qd),n=r.useMemo(()=>{let n=new Set;for(let r of t){let t=(0,s.n5)(r,e);t&&(t.type===d.PW.COMPONENT||t.type===d.PW.STATE_GROUP)&&!(0,s.zE)(t)?n.add(t.node_id):t&&t.type===d.PW.MODULE&&n.add(t.node_id)}return n},[e,t]),l=(0,a.wA)(),o=r.useCallback(()=>{l(i.to({type:p.dD,data:{initiallyCheckedItemIDs:n,entrypoint:u.RR.PROPERTIES_PANEL}}))},[l,n]);return{validNodeIds:n,onClick:o}}function g(){let{validNodeIds:e,onClick:t}=_(),n=(0,a.d4)(e=>e.library.local),i=(0,a.d4)(c.qd).some(e=>{let t=(0,s.n5)(e,n);return t&&!(0,s.HF)(t.status)});return e.size?r.createElement(l.$n,{variant:"secondary",onClick:t},i?(0,o.t)("design_systems.updates.publish"):(0,o.t)("design_systems.component_panel.publish_new_changes")):null}function f(){let{validNodeIds:e,onClick:t}=_();return e.size?r.createElement(m.z,{onClick:t},(0,o.t)("design_systems.component_panel.publish_new_changes")):null}},672591:(e,t,n)=>{n.d(t,{qW:()=>W,v2:()=>Y,Ds:()=>G});var r=n(411855),a=n(188507),l=n(966712),o=n(38580),i=n(646240),s=n(153234),c=n(438741),d=n(574176),p=n(762638),u=n(939863),m=n(809831),_=n(198371),g=n(226055),f=n(369870),E=n(754209),h=n(611978),y=n(976404);function v(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9 5.5a.5.5 0 0 1 1 0V6h4v-.5a.5.5 0 0 1 1 0V6h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h1v-.5ZM14 7v.5a.5.5 0 0 0 1 0V7h1a1 1 0 0 1 1 1v1H7V8a1 1 0 0 1 1-1h1v.5a.5.5 0 0 0 1 0V7h4Zm-7 3v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-6H7Zm4.75 2a.5.5 0 0 0 0 1h.5a.5.5 0 0 0 0-1h-.5Zm1.728 1.362A1.5 1.5 0 0 0 12.25 11h-.5a1.5 1.5 0 0 0-1.228 2.362A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .978-2.638ZM12.25 14h-.75a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-.25Z",clipRule:"evenodd"}))}var b=n(240624),w=n(629019),T=n.n(w),N=n(268537),S=n(64550),I=n(318812);let C="broadcast_dropdown--center---oKw4",k="broadcast_dropdown--fadeOut--pjW9Z";function A(e){let t=(0,y.U1)(),[n,o]=r.useState(!1),[i,s]=r.useState("affco"),[c,d]=r.useState("Your closest collaborators"),p=()=>{s("affco"),d("Your closest collaborators")},m=e=>{s("calendar"),d(e)},_=(0,I.Um)(),g=(0,a.wA)(),f=_?.type==="BROADCAST_DROPDOWN";if(!(0,l.kc)().file_broadcast)return null;let E=e=>e.length>36?e.slice(0,35)+"\u2026":e;return r.createElement("div",{className:"broadcast_dropdown--windowContainer---lIkb",ref:t},r.createElement("div",{className:"broadcast_dropdown--windowHeader--YGxxE"},r.createElement("div",{className:"broadcast_dropdown--windowTitle--SzqFy"},(0,u.t)("file_broadcast.broadcast")),r.createElement("div",{className:"broadcast_dropdown--windowHeaderRight--gQURU"},r.createElement("div",{className:T()("broadcast_dropdown--circlesContainer--WRbcD",{[k]:!n})},r.createElement("span",{className:C}),r.createElement("span",{className:"broadcast_dropdown--firstCircle--bGLty broadcast_dropdown--circle--kWSdc"}),r.createElement("span",{className:"broadcast_dropdown--secondCircle--vyndJ broadcast_dropdown--circle--kWSdc"}),r.createElement("span",{className:"broadcast_dropdown--thirdCircle--h-f-a broadcast_dropdown--circle--kWSdc"})),r.createElement("div",{className:T()("broadcast_dropdown--staticCirclesContainer--5H9w4 broadcast_dropdown--circlesContainer--WRbcD",{[k]:n})},r.createElement("span",{className:C}),r.createElement("span",{className:"broadcast_dropdown--staticFirstCircle--otg-6 broadcast_dropdown--circle--kWSdc"}),r.createElement("span",{className:"broadcast_dropdown--staticSecondCircle--N3gXm broadcast_dropdown--circle--kWSdc"}),r.createElement("span",{className:"broadcast_dropdown--staticThirdCircle--7hhtU broadcast_dropdown--circle--kWSdc"})))),r.createElement(S.V,{showingDropdown:f,type:"BROADCAST_DROPDOWN",dispatch:g,className:"broadcast_dropdown--dropdownSelector--fn1cE",isDisabled:n},r.createElement("div",{className:"broadcast_dropdown--noWrap--eLqiC"},r.createElement("div",{className:"broadcast_dropdown--dropdownIcon--tPh7Y"},"calendar"===i?r.createElement(v,null):r.createElement(b.w,null)),r.createElement("span",null,c)),f&&r.createElement(N.gw,{dispatch:g,positionFixed:!0},[1,2,3,4,5].map(e=>r.createElement(N.c$,{key:e,onClick:()=>m("3pm \u2022 25 ppl \u2022 "+E("Workflow Team Weekly Super Long Name of Event [HOLD]"))},r.createElement(v,null),r.createElement("span",null,"3pm \u2022 25 ppl \u2022 "+E("Workflow Team Weekly Super Long Name of Event [HOLD]")))),r.createElement(N.wv,null),r.createElement(N.c$,{key:"affcogroup",onClick:()=>p()},r.createElement(b.w,null),r.createElement("span",null,(0,u.t)("file_broadcast.your_closest_collaborators"))))),r.createElement("div",{className:"broadcast_dropdown--broadcastButtonContainer--ATkPR"},r.createElement("button",{className:n?"broadcast_dropdown--endBroadcastButton--LH4TQ broadcast_dropdown--broadcastButton--e2t0O":"broadcast_dropdown--startBroadcastButton--Pk5bs broadcast_dropdown--broadcastButton--e2t0O",onClick:()=>{o(!n)}},n?"End Broadcast":"Start Broadcast")))}var x=n(7860),R=n(830111),P=n(549166),O=n(27947),D=n(238629),L=n(857738),M=n(157147),F=n(753630),K=n(252828),B=n(872429),V=n(656147),U=n(641160),H=n(933276),z=n(932037);let G=(0,o.eU)(0);function W(e){let t=(0,g.GS)(),{isRightPanelCollapsed:n}=r.useContext(x.t),o=(0,a.wA)(),h=(0,V.P)(e.selectedView),y=(0,B.Vj)(e.selectedView),v=(0,m.HW)(),b=(0,E.dR)(),w=r.useMemo(()=>e.multiplayer.allUsers.find(t=>t.sessionID===e.multiplayer.sessionID)||null,[e.multiplayer.allUsers,e.multiplayer.sessionID]),T=(0,c.B4)(),N=v?null:e.openFile,S=(0,_.DG)((null==N?void 0:N.key)||"").enabled,I=(0,f.ck)(),C=r.useRef(null),k=(0,i.Xr)(G);r.useEffect(()=>{C.current&&n&&k(C.current.clientWidth)},[n,C,k,e.multiplayer.allUsers]);let W=r.useCallback(t=>{(0,P.Lx)(t,null==w?void 0:w.sessionID,o,v,e.multiplayer,b,T)},[null==w?void 0:w.sessionID,o,v,e.multiplayer,b,T]),[Y,X]=r.useState(!1),[Z,$]=r.useState(!1),j=r.useMemo(()=>!(0,l.kc)().async_spotlight||h||y?null:r.createElement("div",null,r.createElement("button",{onClick:()=>X(!Y),"aria-label":(0,u.t)("recordings.recordings"),className:Y?U.Ov:U.a8},r.createElement(d.B,{svg:z.A})),Y&&r.createElement("div",{className:U.UN},r.createElement(R.h,{onClose:()=>X(!1)}))),[Y,h,y]),q=r.useMemo(()=>(0,l.kc)().file_broadcast?r.createElement("div",null,r.createElement("button",{onClick:()=>$(!Z),"aria-label":(0,u.t)("file_broadcast.broadcast"),className:Z?U.Ov:U.a8},r.createElement(d.B,{svg:H.A,svgWidth:"22px"})),Z&&r.createElement(r.Fragment,null,r.createElement("div",{className:U.pb,onClick:()=>$(!1),role:"button",tabIndex:0}),r.createElement("div",{className:U.wQ},r.createElement(A,{onClose:()=>$(!1)})))):null,[Z]);return t?r.createElement("div",{ref:C},r.createElement("div",{className:U.Yg},r.createElement("div",{className:U.kb},r.createElement(O.sK,{isUI3:!0}),e.multiplayer&&e.openFile&&w&&r.createElement(P.v7,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,currentUser:w,onUserClick:W})),n&&r.createElement("div",{className:U.wR},t&&r.createElement(K.HT,{recordingKey:s.Pt("header","zoomMenu")})),r.createElement("div",{className:U.Oh},r.createElement("div",{className:p.cx.flex.itemsCenter.$},j,!I&&r.createElement(F.QE,{item:y?M.Ax:h?L.IS:M.Fz,recordingKey:e.recordingKey,numUnreadComments:0}),q,N&&r.createElement(D.w,{user:e.user,editingFile:N,isFileInWorkshop:S,appendedClassname:U.OI}))))):null}function Y(){let e=(0,a.d4)(e=>e.multiplayer),t=(0,a.d4)(e=>e.openFile),n=(0,a.d4)(e=>e.user),l=(0,a.d4)(e=>e.dropdownShown),o=(0,h._6)();return r.createElement(W,{openFile:t,dropdownShown:l,multiplayer:e,user:n,isIntegration:(0,f.ck)(),selectedView:o})}},830002:(e,t,n)=>{n.d(t,{D5:()=>b,Tj:()=>v,lS:()=>w});var r=n(411855),a=n(188507),l=n(794272),o=n(153234),i=n(522739),s=n(236478),c=n(226055),d=n(848661),p=n(498606),u=n(538697),m=n(213100),_=n(994481),g=n(45148),f=n(731262),E=n(975687);let h={format:e=>e||f.xJ};function y(e){let{propertyValueEntries:t,selectedStatesPropertyValues:n,stateGroupPropertyValues:a,onSelectProperty:l,dropdownShown:f,hideErrorsPanel:y,dispatch:v,shouldIndent:b,extended:w}=e,T=(0,c.GS)(),N=r.useRef([]),S=r.useCallback(e=>{if(!N.current)return!1;let t=N.current[e];return!!t&&t.offsetWidth<t.scrollWidth},[]);return r.createElement(i.D8,{className:E.wG,"data-non-interactive":!0},t.length>0&&r.createElement("div",{className:T?void 0:E.em},t.map((t,i)=>{let{property:c,label:g}=t,y=n[c],I=a[c],C=E.Aq;b&&(C=w?E.aM:E.L8);let k=r.createElement("p",{ref:e=>N.current?.push(e),className:T?void 0:C,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":S(i)?c:null},g),A="TOGGLE"===t.type?r.createElement(m.l,{toggleClassName:w?E.lV:E.E3,on:(0,d.hS)(y)?y===t.toggleTokenPair[0]:d.oV,onChange:e=>{l(c,t.toggleTokenPair[e?0:1])},recordingKey:o.Pt(e,`toggle-${c}`),forwardEventsToFullscreen:!0}):r.createElement(u.l6,{id:`states-property-select-${c}-${e.recordingKey}`,className:T?void 0:w?E.mi:E.ZE,property:y,formatter:h,onChange:e=>{l(c,e)},dispatch:v,dropdownShown:f,onMouseDown:()=>v(s.r),recordingKey:o.Pt(e,`select-${c}`)},[...I].map(t=>r.createElement(u.c$,{key:t,value:t,truncateInMiddle:!0,recordingKey:o.Pt(e,`select-${c}-option-${t}`)})));return T?r.createElement(_.cS,{key:c,label:k,input:A}):r.createElement(r.Fragment,{key:c},k,A)})),!y&&r.createElement(g.aq,null))}function v(e,t,n){let r=[{property:t,value:n}];for(let n of e)n.property!==t&&r.push({...n});return r}function b(e,t){let n=t.map(e=>e.toLowerCase()),r=null;if(2===t.length)for(let e of f.NE){let a=n.indexOf(e[0]),l=n.indexOf(e[1]);-1!==a&&-1!==l&&(r=[t[a],t[l]])}return r?{property:e,type:"TOGGLE",label:e,toggleTokenPair:r}:{property:e,type:"SELECT",label:e}}let w=r.memo(function(e){let{sortedProperties:t,stateGroupPropertyValues:n,selectedStatesPropertyValues:o,selectedStates:i,allStates:s,onSelectProperty:c,recordingKey:d,hideErrorsPanel:p,shouldIndent:u,extended:m}=e,_=(0,a.wA)(),{dropdownShown:g,sceneGraphSelection:E}=(0,l.R)(e=>({dropdownShown:e.dropdownShown,sceneGraphSelection:e.mirror.sceneGraphSelection})),[h,w]=r.useState([]);r.useEffect(()=>{w([])},[E]);let T=n?t.map(e=>b(e,n[e])):[];return r.createElement(y,{propertyValueEntries:T,selectedStatesPropertyValues:o,stateGroupPropertyValues:n,onSelectProperty:function(e,t){let n=v(h,e,t),r={};for(let a of i){let{propertyValues:l}=a.stateInfo,o={...l,[e]:t},i=(0,f.kz)(o,n,s);null!==i&&(r[a.symbol.node_id]=i)}c(r),w(n)},dropdownShown:g,recordingKey:d,hideErrorsPanel:p,dispatch:_,shouldIndent:u,extended:m})})},696008:(e,t,n)=>{n.d(t,{K:()=>_,j:()=>m});var r=n(411855),a=n(188507),l=n(776250),o=n(153234),i=n(347082),s=n(939863),c=n(356390),d=n(509453),p=n(7959),u=n(690710);function m(e){return 1>=(0,a.d4)(e=>(0,u._7)(e))?null:r.createElement(i.p,{name:"create_state_group_panel"},r.createElement(p.Zk,null,r.createElement(p.fI,null,r.createElement(p.xw,null,(0,s.tx)("design_systems.states_panel.components"))),r.createElement(_,{...e})))}function _(e){let t=(0,a.d4)(e=>(0,u._7)(e)),n=e=>{(0,l.sx)("Creating Variant Component",{type:"Merge",numVariants:e}),c.Y5.triggerActionInUserEditScope("create-state-group")};return r.createElement(d.z,{key:"merge-button",recordingKey:o.Pt(e,"mergeButton"),onClick:()=>n(t)},(0,s.tx)("design_systems.states_panel.combine_as_variants"))}},290022:(e,t,n)=>{n.d(t,{Q:()=>U,_:()=>H});var r=n(411855),a=n(535904),l=n(613023),o=n(445978),i=n(864061),s=n(359961),c=n(243742),d=n(776250),p=n(966712),u=n(153234),m=n(46481),_=n(939863),g=n(877953),f=n(356390),E=n(848661),h=n(227944),y=n(555074),v=n(499777),b=n(498606),w=n(420186),T=n(553738),N=n(7959),S=n(468570),I=n(414879),C=n(372717),k=n(939791),A=n(493424);function x(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M8.5 8.5v7h7"}),r.createElement("path",{stroke:"var(--color-icon)",d:"M9 11.5a3.5 3.5 0 0 1 3.5 3.5"}))}var R=n(520581),P=n(218973),O=n(784940),D=n(614851),L=n(100433);function M(e){let[t,n]=(0,y.lJ)("angle"),{smallNudgeAmount:a,bigNudgeAmount:l,...o}=(0,O.KG)({key:"angle",setValue:n});return r.createElement(R.E,{name:"rotation_input"},r.createElement(P.Zp,{className:D.BP,inputClassName:D.hF,value:t,disabled:e.disabled,...o,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.rotation"),recordingKey:u.Pt(e,"angleInput")},r.createElement(m.U,{className:D.QK,svg:L.A},r.createElement("div",{className:D.QK},r.createElement(x,null)))))}var F=n(866577),K=n(362679),B=n(13556),V=n(502517);function U(e){let{version:t}=(0,c.DP)(),n=(0,g.C)("fpl_dialog_trigger"),[x]=(0,y.lJ)("rectangleCornerRadiiIndependent"),R=(0,r.useRef)(null),P=(0,v.kG)("corner-smoothing"),O=(0,h.Zr)("flip-horizontal"),L=(0,h.Zr)("flip-vertical"),U=(0,h.Zr)("rotate-90-clockwise"),G=(0,r.useCallback)(()=>{P.hide(),f.Y5.deselectProperty()},[P]),W=e.cornerRadiusDisabled||e.rectangleCornersDisabled,[Y,X]=r.useState(null),Z=e.rectangleCornersShown&&!!Y,$=r.useCallback(()=>{(0,p.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,E._W)(x,!1)}),!Z&&R.current?X((0,w.cn)(R.current,parseInt(F.Je,10))):X(null)},[x,Z]);return"ui2"===t?r.createElement(r.Fragment,null,r.createElement(N.fI,{forwardedRef:R},r.createElement(M,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),e.cornerRadiusShown&&r.createElement(A.C,{recordingKey:e.recordingKey,inputClassName:e.angleShown?D.sC:D.BP,disabled:Z||e.cornerRadiusDisabled}),e.cornerRadiusShown&&e.rectangleCornersShown&&r.createElement(r.Fragment,null,n?r.createElement("div",{className:D.gb},r.createElement(a.d,{actionOnPointerDown:!0,toggled:Z,disabled:W,recordingKey:u.Pt(e,"rectangleCornerToolIndependentToggle"),"aria-label":(0,_.t)("fullscreen.properties_panel.transform_panel.independent_corners"),onClick:$},r.createElement(m.U,{svg:V.A},r.createElement(l.Q,null)))):r.createElement(T.m,{toggled:Z,svg:V.A,className:D.gb,onMouseDown:$,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:u.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:W})),e.cornerRadiusShown&&!e.rectangleCornersShown&&r.createElement(N.YW,{svg:K.A,fallbackSvg:B.A,className:D.gb,onMouseDown:e=>H(P,R,e),recordingKey:u.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:P.showing,disabled:e.cornerRadiusDisabled})),Z&&Y&&r.createElement(I.$,{initialPosition:Y,onClose:$,recordingKey:e.recordingKey}),P.showing&&r.createElement(S.T,{initialPosition:P.initialPosition,onClose:G,recordingKey:u.Pt(e,"advanced")})):r.createElement(k.fn,{ref:R,leftLabel:(0,_.tx)("properties.label.transform"),leftInput:r.createElement(M,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),rightInput:r.createElement(C.t,{controls:[z("rotate-90-clockwise",r.createElement(o.R,null),U),z("flip-horizontal",r.createElement(i.W,null),O),z("flip-vertical",r.createElement(s.D,null),L)]}),rightLabel:null,icon:null})}function H(e,t,n){n.stopPropagation(),(0,p.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"cornerSmoothing",value:e.showing}),e.toggle(()=>(0,w.cn)(t.current))}let z=(e,t,n)=>({"aria-label":e,"data-tooltip":e,"data-tooltip-type":b.Ib.LOOKUP,children:t,disabled:!n,onClick:()=>{f.Y5.triggerActionInUserEditScope(e)}})},933466:(e,t,n)=>{n.d(t,{u:()=>I});var r=n(411855),a=n(188507),l=n(485463),o=n(256296);function i(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M13 10.5H7a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5Z"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M16.5 6a.5.5 0 0 1 .5.5V7h.5a.5.5 0 0 1 0 1H17v5h.5a.5.5 0 0 1 0 1H17v.5a.5.5 0 0 1-1 0V14h-2v-1h2V8h-5v2h-1V8h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 1 0V7h5v-.5a.5.5 0 0 1 .5-.5ZM13 13h-2v-2h-1v2h-.5a.5.5 0 0 0 0 1h.5v.5a.5.5 0 0 0 1 0V14h2v-1Z",clipRule:"evenodd"}))}function s(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.5 5a.5.5 0 0 1 .5.5V8h6.5a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1H16v2.5a.5.5 0 0 1-1 0V16H8.5a.5.5 0 0 1-.5-.5V9H5.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 .5-.5Zm.5 6V9h6v6h-2a4 4 0 0 0-4-4Zm0 1v3h3a3 3 0 0 0-3-3Z",clipRule:"evenodd"}))}var c=n(243742),d=n(776250),p=n(966712),u=n(153234),m=n(939863),_=n(848661),g=n(555074),f=n(318812),E=n(69961),h=n(75215),y=n(7959),v=n(538697),b=n(939791),w=n(614851);class T extends v.c${}class N extends v.l6{}let S=new class{constructor(){this.format=e=>{switch(e){case!0:return(0,m.t)("fullscreen.properties_panel.transform_panel.clip_content");case!1:return(0,m.t)("fullscreen.properties_panel.appearance_panel.show_content");default:return""}}}};function I(e){let[t,n]=(0,g.lJ)("frameMaskDisabled"),{version:v}=(0,c.DP)(),I=(0,r.useId)(),C=(0,E.o3)(E.nt.ui3ClipContentControl),k=(0,a.wA)(),A=(0,f.Um)(),x=(0,r.useCallback)(e=>{(0,p.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"clipContent",clipContentValue:e}),n(!e)},[n]);return"ui2"===v?r.createElement(y.fI,null,r.createElement(h.t,{className:w.kv,id:I,property:(0,_.gl)(t)?_.oV:!t,onChange:x,recordingKey:u.Pt(e,"clipContentCheckbox")}),r.createElement(y.JU,{className:w.mH,htmlFor:I},(0,m.tx)("fullscreen.properties_panel.transform_panel.clip_content"))):C?r.createElement(b.Ad,{label:r.createElement(r.Fragment,null),input:r.createElement(l.S,{muted:!0,mixed:(0,_.gl)(t),checked:!1===t,onChange:x,recordingKey:u.Pt(e,"clipContentCheckbox"),label:r.createElement(o.J,null,(0,m.tx)("fullscreen.properties_panel.transform_panel.clip_content"))})}):r.createElement(b.DE,{label:(0,m.tx)("fullscreen.properties_panel.appearance_panel.overflow"),input:r.createElement(N,{id:"clip-content-select",property:(0,_.gl)(t)?_.oV:!t,onChange:x,formatter:S,dispatch:k,dropdownShown:A,recordingKey:u.Pt(e,"clipContent"),icon:t?r.createElement(i,null):r.createElement(s,null),enablePreview:!0},r.createElement(T,{value:!0,icon:r.createElement(s,null),recordingKey:u.Pt(e,"clipContent","true")}),r.createElement(T,{value:!1,icon:r.createElement(i,null),recordingKey:u.Pt(e,"clipContent","false")})),icon:null})}},493424:(e,t,n)=>{n.d(t,{C:()=>k});var r=n(411855),a=n(188507),l=n(106075),o=n(572174),i=n(153234),s=n(520581),c=n(46481),d=n(939863),p=n(852800),u=n(848661),m=n(555074),_=n(869156),g=n(498606),f=n(218973),E=n(760066),h=n(893606),y=n(282263),v=n(683859),b=n(564092),w=n(533573),T=n(784940),N=n(614851),S=n(595869);let I=["CORNER_RADIUS"],C=["RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS","RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"];function k(e){let t=(0,r.useId)(),n=r.useRef(null),k=(0,h.R)(),{smallNudgeAmount:A,bigNudgeAmount:x,wheelMultiplier:R}=(0,T.Xs)(),P=(0,a.wA)(),[O,D]=(0,m.lJ)("cornerRadius"),{consumedVariable:L,clearVariableConsumption:M}=(0,b.u3)(I),{consumedVariable:F,clearVariableConsumption:K}=(0,b.u3)(C),B=(0,w.MH)(L),V=(0,w.MH)(F),U=B??V,H=(0,_.u)(U??void 0),z=!!H&&(0,w.eF)(H),[G,W,Y]=(0,y.JV)(!B&&V?C:I,p.rXF.FLOAT),X=(0,o.Vq)(O)&&(0,u.hS)(O)?O:void 0,Z=0===(_.SG(I)?.data??[]).length,$=r.useCallback(()=>{M(),K()},[M,K]),j=r.useCallback(e=>{e?Y(e):$()},[Y,$]),q=r.useCallback(()=>{n.current&&W(n.current,{currentFieldValue:X})},[W,X]),J=r.useMemo(()=>({isShowingBindingUI:G,showBindingUI:q,boundVariableId:U,isBoundVariableDeleted:z,onVariableSelected:j}),[G,q,U,z,j]),Q=k&&e.disabled?0:void 0,ee=(0,d.t)("fullscreen.properties_panel.transform_panel.corner_radius");return r.createElement(s.E,{name:"corner_radius_input"},r.createElement(v.p.Provider,{value:J},r.createElement(E.sJ,{ref:n,inputClassName:e.inputClassName,currentFieldValue:X,disabled:e.disabled,disableEntryPoint:Z,recordingKey:i.Pt(e,"cornerRadiusInputVariableWrapper")},r.createElement(f.$j,{noBorderOnHover:!0,isTokenizable:!0,inputClassName:N.hF,value:O??Q,smallNudgeAmount:A,bigNudgeAmount:x,wheelMultiplier:R,onValueChange:e=>{(0,T.rn)("cornerRadius"),D(e)},dispatch:P,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":ee,"data-tooltip-proxy-element-id":H?t:void 0,recordingKey:i.Pt(e,"cornerRadiusInput"),disabled:e.disabled,scrubMultiplier:.1*A,dataTestId:"transform-corner-radius"},r.createElement(c.U,{className:N.QK,svg:S.A,"data-tooltip-type":H?g.Ib.TEXT:void 0,"data-tooltip":H?ee:void 0,id:t},r.createElement("div",{className:N.QK,"data-tooltip-type":H?g.Ib.TEXT:void 0,"data-tooltip":H?ee:void 0,id:t},r.createElement(l.a,null)))))))}},700829:(e,t,n)=>{n.d(t,{e:()=>A});var r=n(411855),a=n(188507),l=n(434228);function o(e){return(0,l.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11A.5.5 0 0 1 12 6ZM9 8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2Zm0 2V9H7v6h2v-5Zm9-1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V9Zm-1 0v6h-2V9h2Z",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5ZM9 8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2Zm0 2V9H7v6h2v-5Zm8-1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V9Zm-1 0v6h-2V9h2Z",clipRule:"evenodd"}))}function i(e){return(0,l.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 9a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2Zm-2 0h1V7H9v2h5Zm4 2.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5ZM15 17a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6Zm0-1H9v-2h6v2Z",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 9a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2Zm-2 0h1V7H9v2h5Zm4 3a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5Zm-3 6a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6Zm0-1H9v-2h6v2Z",clipRule:"evenodd"}))}var s=n(243742),c=n(966712),d=n(153234),p=n(46481),u=n(939863),m=n(356390),_=n(852800),g=n(662531),f=n(848661),E=n(227944),h=n(555074),y=n(301462),v=n(279702),b=n(498606),w=n(218973),T=n(7959),N=n(939791),S=n(784940),I=n(614851),C=n(560185),k=n(30562);function A(e){let t=(0,a.wA)(),n=(0,S.Xs)(),l=(0,h.kl)("detectedList"),m=(0,h.kl)("detectableListAxis"),g=(0,f.E7)(l),y=(0,E.Zr)("arrange-as-grid"),{version:v}=(0,s.DP)(),A=(0,r.useRef)(null);if(!g&&null==A.current&&(!(0,c.kc)().ce_mixed_list_spacing||!y&&null==m))return null;let O=g?.canvasSpacingBetweenItemsX!=null||"X"===m||y||A.current===_._0v.X,D=g?.canvasSpacingBetweenItemsY!=null||"Y"===m||y||A.current===_._0v.Y,L=r.createElement(w.gq,{dispatch:t,value:null==g?f.oV:g.canvasSpacingBetweenItemsX,min:x(g,"X"),onValueChange:R(g,"X"),onScrubBegin:()=>{A.current=_._0v.X},onScrubEnd:()=>{A.current=null},mixedMathHandler:new P(_._0v.X),...n,className:I.BP,inputClassName:I.hF,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,u.t)("fullscreen.properties_panel.transform_panel.list_spacing_x"),dataTestId:"list-spacing-x",tooltipForScreenReadersOnly:!0,recordingKey:d.Pt(e,"listSpacingX")},r.createElement(p.U,{className:I.QK,svg:C.A},r.createElement(o,{className:I.QK}))),M=r.createElement(w.gq,{dispatch:t,value:null==g?f.oV:g.canvasSpacingBetweenItemsY,min:x(g,"Y"),onValueChange:R(g,"Y"),onScrubBegin:()=>{A.current=_._0v.Y},onScrubEnd:()=>{A.current=null},mixedMathHandler:new P(_._0v.Y),...n,className:O?I.sC:I.BP,inputClassName:I.hF,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,u.t)("fullscreen.properties_panel.transform_panel.list_spacing_y"),dataTestId:"list-spacing-y",tooltipForScreenReadersOnly:!0,recordingKey:d.Pt(e,"listSpacingY")},r.createElement(p.U,{className:I.QK,svg:k.A},r.createElement(i,{className:I.QK})));return"ui2"===v?r.createElement(T.fI,null,O&&L,D&&M):r.createElement(N.fn,{leftLabel:(0,u.tx)("properties.label.spacing"),leftInput:O?L:M,rightInput:D&&O?M:null,icon:null,rightLabel:null})}function x(e,t){return e?e.minItemSize?-e.minItemSize["X"===t?0:1]+1:0:-1/0}let R=(e,t)=>(n,r)=>{let a="X"===t?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";m.Y5.updateSelectionProperties({detectedList:{[a]:Math.max(n,x(e,t))}},{shouldCommit:r});let l="number"==typeof e?.canvasSpacingBetweenItemsX&&"number"==typeof e?.canvasSpacingBetweenItemsY;r&&y.F.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:!e||n!==e[a],was_mixed:!e,type:l?"grid":"list"})};class P{constructor(e){this.axis=e}getValue(){return _.glU.getCurrentListSpacing(this.axis)}onChange(e,t,n){let r=e.spacings.map(t);g.l7.user("update-list-spacing",()=>{_.glU.setCurrentListSpacing({...e,spacings:r},this.axis),n!==v.zk.NO&&_.glU.triggerAction("commit",{})})}}},468570:(e,t,n)=>{n.d(t,{x:()=>S,T:()=>N});var r=n(411855),a=n(752256),l=n(243742),o=n(755887),i=n(860601),s=n(153234),c=n(572206),d=n(939863),p=n(973149),u=n(168039),m=n(356390),_=n(848661),g=n(555074),f=n(279702),E=n(205135),h=n(7959),y=n(952746),v=n(215056),b=n(746806),w=n(781779);let T="corner_smoothing--cornerSmoothingInput--diqdz";function N({initialPosition:e,recordingKey:t,onClose:n}){return r.createElement(b.vx,{title:(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),initialPosition:e,headerSize:"small",onClose:n,recordingKey:s.Pt(t,"modal")},r.createElement(h.Id,null,r.createElement("div",{className:"corner_smoothing--modalControl--AXovi"},r.createElement(S,{recordingKey:t}))))}function S(e){let{version:t}=(0,l.DP)();return r.createElement("ui3"===t?C:I,{...e})}function I(e){let t=(0,u.DP)(),n=(0,y.Xc)(),a=(0,g.kl)("cornerSmoothing"),l=(0,u.yM)(),m=r.useCallback((e,t)=>{k(e.x,t)},[]),f=r.useCallback(e=>{let t=(0,v.W)(e);k((0,o.qE)((0,_._W)(a,0)+t/100,0,1),!0)},[a]),b=r.useCallback(e=>{let t=e.getContext("2d");t.fillStyle=l?.colorBgSecondary||w.z8Z,t.fillRect(0,0,N+n,n)},[l?.colorBgSecondary,n]),N=138,S=new c.Mi((0,_._W)(a,0),0),I=new p.LN;return r.createElement("div",{className:"corner_smoothing--root--tqWdN"},r.createElement(y.Kf,{hitBoxMargin:8,width:N,height:0,handlePadding:!0,value:S,mouseCallback:m,wheelCallback:i.lQ,keyDownCallback:f,renderCanvas:b,containerClass:"corner_smoothing--sliderContainer--0-rJy",canvasWrapperStyles:"dark"===t?{border:"1px solid var(--color-conditionalborder)"}:{}},r.createElement("div",{className:"corner_smoothing--sliderAnnotationStroke--n6UqC",style:{position:"absolute",width:0,height:18,left:.6*N+.5*n,top:0,borderLeftWidth:1}},r.createElement(h.UZ,{style:{position:"relative",left:-8,top:20},onClick:()=>{k(.6,!0)}},(0,d.tx)("fullscreen.properties_panel.transform_panel.i_os")))),r.createElement(E.Q7,{recordingKey:s.Pt(e,"modal"),className:T,formatter:I,property:S.x,onChange:e=>{k(e,!0)}}))}function C({recordingKey:e}){let t=(0,r.useMemo)(()=>new p.LN,[]),n=(0,_._W)((0,g.kl)("cornerSmoothing"),0);return r.createElement("div",{className:"corner_smoothing--rootUi3--4yJI2"},r.createElement("div",{className:"corner_smoothing--sliderWrapperUi3--k4Z-O"},r.createElement(a.A,{"aria-label":(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),value:n,onChange:(e,{commit:t})=>k(e,t),min:0,max:1,step:.01,bigStep:.1,defaultValue:0,rangeAnchor:0,hints:[.6],recordingKey:s.Pt(e,"slider")})),r.createElement(E.Q7,{recordingKey:s.Pt(e,"modal"),className:T,formatter:t,property:n,onChange:e=>void k(e,!0)}),r.createElement("div",{className:"corner_smoothing--labelWrapperUi3--Kt9lC"},r.createElement(h.UZ,{className:"corner_smoothing--labelUi3--fPeZB",onClick:()=>{k(.6,!0)}},(0,d.tx)("fullscreen.properties_panel.transform_panel.i_os"))))}function k(e,t){e=Math.round(100*e)/100,m.Y5.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?f.zk.YES:f.zk.NO})}},414879:(e,t,n)=>{n.d(t,{$:()=>Y});var r=n(411855),a=n(153234),l=n(763658),o=n(939863),i=n(226055),s=n(7959),c=n(746806),d=n(468570),p=n(106075),u=n(794272),m=n(356390),_=n(848661),g=n(279702),f=n(691039),E=n(728314),h=n(229351),y=n(736002),v=(e=>(e[e.TOP_LEFT=0]="TOP_LEFT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.TOP_RIGHT=2]="TOP_RIGHT",e[e.BOTTOM_RIGHT=3]="BOTTOM_RIGHT",e))(v||{});let b={0:{svg:h.A,variableField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS",getTooltip:()=>(0,o.t)("fullscreen.properties_panel.transform_panel.top_left_corner_radius"),ui3Icon:r.createElement(p.a,null)},2:{svg:y.A,variableField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,o.t)("fullscreen.properties_panel.transform_panel.top_right_corner_radius"),ui3Icon:r.createElement(function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M15.5 15.5v-3c0-1.4 0-2.1-.273-2.635a2.5 2.5 0 0 0-1.092-1.093C13.6 8.5 12.9 8.5 11.5 8.5h-3"}))},null)},1:{svg:f.A,variableField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",getTooltip:()=>(0,o.t)("fullscreen.properties_panel.transform_panel.bottom_left_corner_radius"),ui3Icon:r.createElement(function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M8.5 8.5v3c0 1.4 0 2.1.272 2.635a2.5 2.5 0 0 0 1.093 1.092c.535.273 1.235.273 2.635.273h3"}))},null)},3:{svg:E.A,variableField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,o.t)("fullscreen.properties_panel.transform_panel.bottom_right_corner_radius"),ui3Icon:r.createElement(function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M15.5 8.5v3c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.092c-.535.273-1.235.273-2.635.273h-3"}))},null)}};function w(e){return b[e].variableField}var T=n(188507),N=n(46481),S=n(632430),I=n(852800),C=n(869156),k=n(498606),A=n(420186),x=n(218973),R=n(760066),P=n(282263),O=n(683859),D=n(564092),L=n(533573),M=n(158406),F=n(939143),K=n(784940);let B="independent_corner_radius_view--inputRow--WrZ2t",V="independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO";function U({topLeftValue:e,topRightValue:t,bottomLeftValue:n,bottomRightValue:l,recordingKey:o,onTopLeftChange:i,onTopRightChange:s,onBottomLeftChange:c,onBottomRightChange:d}){let p=r.useMemo(()=>[w(v.TOP_LEFT)],[]),u=r.useMemo(()=>[w(v.TOP_RIGHT)],[]),m=r.useMemo(()=>[w(v.BOTTOM_LEFT)],[]),g=r.useMemo(()=>[w(v.BOTTOM_RIGHT)],[]),f=(0,C.SG)(p).data??[],E=(0,C.SG)(u).data??[],h=(0,C.SG)(m).data??[],y=(0,C.SG)(g).data??[],T=r.useRef(null),N=r.useRef(null),S=r.useRef(null),I=r.useRef(null),[k,x]=r.useState(null),R=r.useCallback((e,t)=>{t&&x({corner:e,initialPosition:(0,A.VZ)(t,M.d9)})},[]),P=r.useCallback(()=>{x(null)},[]);function O(r){switch(r){case v.TOP_LEFT:return{value:e,variableFields:p,variablesForField:f,inputRef:T,onChange:i};case v.TOP_RIGHT:return{value:t,variableFields:u,variablesForField:E,inputRef:N,onChange:s};case v.BOTTOM_LEFT:return{value:n,variableFields:m,variablesForField:h,inputRef:S,onChange:c};case v.BOTTOM_RIGHT:return{value:l,variableFields:g,variablesForField:y,inputRef:I,onChange:d}}}function D({corner:e,recordingKey:t}){return r.createElement(z,{variableFields:O(e).variableFields,isPickerOpen:k?.corner===e,onPickerOpen:()=>R(e,O(e).inputRef.current)},r.createElement(H,{ref:O(e).inputRef,value:O(e).value,variableFields:O(e).variableFields,svg:b[e].svg,ui3Icon:b[e].ui3Icon,tooltip:b[e].getTooltip(),disableEntryPoint:0===O(e).variablesForField.length,recordingKey:t,onChange:O(e).onChange}))}return r.createElement("div",null,r.createElement(r.Fragment,null,r.createElement("div",{className:B},D({corner:v.TOP_LEFT,recordingKey:a.Pt(o,"rectangleTopLeftCornerRadiusInput")}),D({corner:v.TOP_RIGHT,recordingKey:a.Pt(o,"rectangleTopRightCornerRadiusInput")})),r.createElement("div",{className:B},D({corner:v.BOTTOM_LEFT,recordingKey:a.Pt(o,"rectangleBottomLeftCornerRadiusInput")}),D({corner:v.BOTTOM_RIGHT,recordingKey:a.Pt(o,"rectangleBottomRightCornerRadiusInput")}))),function(){if(!k)return null;let{corner:e,initialPosition:t}=k,n=(0,_._W)(O(e).value,0);return r.createElement(G,{corner:e,initialPosition:t,currentFieldValue:n,variableFields:O(e).variableFields,onClose:P})}())}let H=r.forwardRef(({variableFields:e,value:t,svg:n,tooltip:a,recordingKey:l,disableEntryPoint:o,onChange:i,ui3Icon:s},c)=>{let d=(0,T.wA)(),{smallNudgeAmount:p,bigNudgeAmount:u,wheelMultiplier:m,scrubMultiplier:g}=(0,K.Xs)(),{consumedVariable:f}=(0,D.u3)(e),E=r.useId();return r.createElement(R.sJ,{ref:c,currentFieldValue:(0,_._W)(t,0),disableEntryPoint:o},r.createElement(x.$j,{dispatch:d,value:(0,_.gl)(t)?t:t??0,inputClassName:"independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",smallNudgeAmount:p,bigNudgeAmount:u,wheelMultiplier:m,scrubMultiplier:.1*g,noBorderOnHover:!0,isTokenizable:!0,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":a,"data-tooltip-proxy-element-id":f?E:void 0,recordingKey:l,onValueChange:i},r.createElement(N.U,{className:V,svg:n,"data-tooltip-type":f?k.Ib.TEXT:void 0,"data-tooltip":f?a:void 0,id:E},r.createElement("div",{className:V,"data-tooltip-type":f?k.Ib.TEXT:void 0,"data-tooltip":f?a:void 0,id:E},s))))});function z({variableFields:e,isPickerOpen:t,onPickerOpen:n,children:a}){let{consumedVariable:l}=(0,D.u3)(e),o=(0,L.MH)(l),i=(0,C.u)(o??void 0),s=!!i&&(0,L.eF)(i),[c,d,p]=(0,P.JV)(e,I.rXF.FLOAT);return r.createElement(O.p.Provider,{value:{boundVariableId:o,isBoundVariableDeleted:s,isShowingBindingUI:t,showBindingUI:n,onVariableSelected:p}},a)}function G({corner:e,initialPosition:t,currentFieldValue:n,variableFields:a,onClose:l}){let o=(0,T.wA)(),{updateVariableConsumption:i}=(0,D.u3)(a),s=r.useCallback(e=>{o((0,S.Yi)({item:e,callback:e=>{i((0,D.y$)(I.rXF.FLOAT,e))}}))},[o,i]);return r.createElement(r.Fragment,null,r.createElement(P.jp,{fields:[w(e)],resolvedType:I.rXF.FLOAT,initialPosition:t,currentFieldValue:n,onVariableSelected:s,onClose:l}),r.createElement(F.$3,{onClose:l}))}var W=n(866577);function Y(e){let t=function(){let e=(0,u.R)(e=>{let t=e.mirror.selectionProperties;return{angle:t.angle,hasReflection:t.hasReflection,topLeft:t.rectangleTopLeftCornerRadius,topRight:t.rectangleTopRightCornerRadius,bottomRight:t.rectangleBottomRightCornerRadius,bottomLeft:t.rectangleBottomLeftCornerRadius}});return(0,r.useCallback)(t=>{let n=[{corner:0,value:e.topLeft,key:"rectangleTopLeftCornerRadius"},{corner:1,value:e.bottomLeft,key:"rectangleBottomLeftCornerRadius"},{corner:3,value:e.bottomRight,key:"rectangleBottomRightCornerRadius"},{corner:2,value:e.topRight,key:"rectangleTopRightCornerRadius"}],r=n.findIndex(({corner:e})=>e===t);e.hasReflection&&(r+=2),null!=e.angle&&(0,_.hS)(e.angle)&&(Math.abs(e.angle)>=135?r+=2:e.angle>=45?r+=3:e.angle<=-45&&(r+=1));let a=n[r%4];return{value:a.value,setter:(e,t=g.zk.YES)=>{m.Y5.updateSelectionProperties({[a.key]:e},{shouldCommit:t})}}},[e])}(),n=(0,i.GS)();return r.createElement(l.k,{name:"independent_corner_radius_modal"},r.createElement(c.vx,{title:n?(0,o.t)("fullscreen.properties_panel.transform_panel.corner_radius_details"):(0,o.t)("fullscreen.properties_panel.transform_panel.corner_radius"),initialPosition:e.initialPosition,headerSize:"small",onClose:e.onClose,recordingKey:a.Pt(e,"modal")},r.createElement("div",{className:W.dJ},r.createElement("div",{className:W.os},r.createElement(U,{topLeftValue:t(v.TOP_LEFT).value,topRightValue:t(v.TOP_RIGHT).value,bottomLeftValue:t(v.BOTTOM_LEFT).value,bottomRightValue:t(v.BOTTOM_RIGHT).value,recordingKey:a.Pt(e,"independentCornerRadius"),onTopLeftChange:t(v.TOP_LEFT).setter,onTopRightChange:t(v.TOP_RIGHT).setter,onBottomLeftChange:t(v.BOTTOM_LEFT).setter,onBottomRightChange:t(v.BOTTOM_RIGHT).setter})),r.createElement(s.Zk,{className:W.Y9},r.createElement(s.xw,{className:W.YV},(0,o.t)("fullscreen.properties_panel.transform_panel.corner_smoothing")),r.createElement("div",{className:W.jN},r.createElement(d.x,{recordingKey:a.Pt(e,"advanced")}))))))}},372717:(e,t,n)=>{n.d(t,{t:()=>s});var r=n(411855),a=n(629019),l=n.n(a),o=n(153234),i=n(227795);function s(e){let{controls:t}=e;return r.createElement("div",{className:"segmented_button--root--BlK0T"},t.map((t,n)=>{let{children:a,...s}=t;return r.createElement(i.K0,{...s,key:n,className:l()("segmented_button--button--HF0rV",{"segmented_button--disabled--Iawr-":s.disabled}),recordingKey:o.Pt(e,s.recordingKey||"")},r.createElement("span",null,a))}))}},467213:(e,t,n)=>{n.d(t,{J:()=>k});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m14.146 11.854 2 2a.5.5 0 0 0 .708-.708L15.707 12H19.5a.5.5 0 0 0 0-1h-3.793l1.147-1.146a.5.5 0 0 0-.708-.708l-2 2a.5.5 0 0 0 0 .708Zm-3.292 0-2 2a.5.5 0 0 1-.708-.708L9.293 12H5.5a.5.5 0 0 1 0-1h3.793L8.146 9.854a.5.5 0 1 1 .708-.708l2 2a.5.5 0 0 1 0 .708ZM13 5.5a.5.5 0 0 0-1 0v12a.5.5 0 0 0 1 0v-12Z",clipRule:"evenodd"}))}function l(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M19 6.5a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm-13 0a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm10.854 4.646a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L15.293 12H8.707l1.647 1.646a.5.5 0 0 1-.708.708l-2.5-2.5a.5.5 0 0 1 0-.708l2.5-2.5a.5.5 0 0 1 .708.708L8.707 11h6.586l-1.647-1.646a.5.5 0 0 1 .708-.708l2.5 2.5Z",clipRule:"evenodd"}))}function o(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m11.854 10.854 2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-1 0v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0Zm0 3.292 2 2a.5.5 0 0 1-.708.708L12 15.707V19.5a.5.5 0 0 1-1 0v-3.793l-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0ZM5.5 12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1h-12Z",clipRule:"evenodd"}))}function i(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 5a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm0 13a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm4.646-10.854a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1-.708.708L12 8.707v6.586l1.646-1.647a.5.5 0 0 1 .708.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L11 15.293V8.707l-1.646 1.647a.5.5 0 0 1-.708-.708l2.5-2.5Z",clipRule:"evenodd"}))}var s=n(243742),c=n(374626),d=n(646240),p=n(153234),u=n(46481),m=n(939863),_=n(356390),g=n(852800),f=n(848661),E=n(113058),h=n(993789),y=n(555074),v=n(279702),b=n(7959),w=n(538697),T=n(232531),N=n(221537),S=n(939791),I=n(893606),C=n(614851);function k(e){let t=(0,N.Wr)(),n=(0,c.md)(N.Kl),a=(0,c.md)(N.Md),l=(0,N.Fp)(),o=(0,r.useRef)(null),i=!e.visible||!(0,N.tH)(n),d="ui3"===(0,s.DP)().version;if((0,N.Nu)(!i,()=>l("minmax",null,N.qi.YES),o,e.widthHeightRowRef),i)return null;let p=0,u=0,_=[];function g(e){let t=null!=a&&a.widthOrHeight===e.widthOrHeight&&a.minOrMax===e.minOrMax;return r.createElement(x,{key:`${e.widthOrHeight}-${e.minOrMax}`,minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`})}function f(e){switch(e.minOrMaxWidthOrHeight){case"minWidth":return(0,m.tx)("properties.label.min_width");case"maxWidth":return(0,m.tx)("properties.label.max_width");case"minHeight":return(0,m.tx)("properties.label.min_height");case"maxHeight":return(0,m.tx)("properties.label.max_height")}}n.width.min&&(p++,_.push(t.width.min)),n.width.max&&(p++,_.push(t.width.max)),n.height.min&&(u++,_.push(t.height.min)),n.height.max&&(u++,_.push(t.height.max));let E=_.map(g),h=_.map(f);return p+u===1?d?r.createElement(S.fn,{ref:o,leftLabel:h[0],leftInput:E[0],rightLabel:null,rightInput:null,icon:null}):r.createElement(b.fI,{forwardedRef:o},E[0]):1===p&&1===u?d?r.createElement(S.fn,{ref:o,leftLabel:h[0],leftInput:E[0],rightLabel:h[1],rightInput:E[1],icon:null}):r.createElement(b.fI,{forwardedRef:o},E):p+u===2?d?r.createElement("div",{ref:o},r.createElement(S.fn,{ref:o,leftLabel:h[0],leftInput:E[0],rightLabel:null,rightInput:null,icon:null}),r.createElement(S.fn,{ref:o,leftLabel:h[1],leftInput:E[1],rightLabel:null,rightInput:null,icon:null})):r.createElement("div",{ref:o},r.createElement(b.fI,null,E[0]),r.createElement(b.fI,null,E[1])):d?r.createElement("div",{ref:o},r.createElement(S.fn,{leftLabel:f(t.width.min),leftInput:g(t.width.min),rightLabel:f(t.height.min),rightInput:g(t.height.min),icon:null}),r.createElement(S.fn,{leftLabel:f(t.width.max),leftInput:g(t.width.max),rightLabel:f(t.height.max),rightInput:g(t.height.max),icon:null})):r.createElement("div",{ref:o},r.createElement(b.fI,null,g(t.width.min),g(t.height.min)),r.createElement(b.fI,null,g(t.width.max),g(t.height.max)))}function A(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,m.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"):(0,m.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt");case"height":return"min"===e.minOrMax?(0,m.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"):(0,m.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt")}}function x(e){let{minMaxApi:t,shouldFocus:n}=e,s=(0,y.kl)("isInstanceSublayerSelected"),b=(0,y.kl)(t.widthOrHeight),S=(0,y.kl)(t.minOrMaxWidthOrHeight),k=(0,N.Fp)(),x=(0,r.useRef)(0),R=(0,r.useRef)(new Map),P=(0,d.Xr)(N.Md),[O,D]=(0,c.fp)(N.Kl),L=(0,I.R)(),M=[];b!==t.value&&M.push(N.vC),M.push(N.Bn);let F=M.map(t=>{let n=(0,f.gl)(b);return r.createElement(w.c$,{recordingKey:p.Pt(e.recordingKey,"select",t),key:t,value:t,disabled:!!s||t===N.vC&&n})}),[K,B]=(0,N.GP)(t),V=r.useRef(null),U=function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?"MIN_WIDTH":"MAX_WIDTH";case"height":return"min"===e.minOrMax?"MIN_HEIGHT":"MAX_HEIGHT"}}(t);var H=void 0;switch(t.widthOrHeight){case"width":H="min"===t.minOrMax?r.createElement(a,null):r.createElement(l,null);break;case"height":H="min"===t.minOrMax?r.createElement(o,null):r.createElement(i,null)}let z=r.createElement(u.U,{svg:K,fallbackSvg:B},H),G="width"===t.widthOrHeight?g._0v.X:g._0v.Y;r.useEffect(()=>{n&&(V.current?.focus(),V.current?.select())},[n]);let W=(0,N.VY)(t),{clearVariableConsumption:Y}=(0,T.O)(U,g.rXF.FLOAT);class X extends E.M{getValueForNode(e){return g.Egt.getNodeTransformProperties(e.guid)[t.minOrMaxWidthOrHeight]}setValueForNode(e,n,r){let a={[t.minOrMaxWidthOrHeight]:n};if(r&&R.current.has(e.guid)){let r=R.current.get(e.guid);a[t.widthOrHeight]=r;let l=(0,N.jz)(e,r,n,t.widthOrHeight);l!==r&&(a[t.widthOrHeight]=l),a.sizeChangeIsAutomatic=!0}g.Egt.setNodeTransformProperties(e.guid,a)}}return r.createElement(T.S,{id:`minMaxDropdown.${e.minMaxApi.minOrMax}${e.minMaxApi.widthOrHeight}`,options:F,inputRef:V,outerClassName:"width"===t.widthOrHeight?C.Kw:C.X8,value:t.value,formatter:W,mixedMathHandler:new X,variableField:U,onScrubBegin:()=>{(0,f.gl)(S)?h.z.instance.getDirectlySelectedNodes().forEach(e=>{R.current.set(e.guid,e.size[G===g._0v.X?"x":"y"])}):"number"==typeof b?x.current=b:x.current=0},onScrubEnd:()=>{R.current.clear(),x.current=0},onChange:(e,n=v.zk.YES)=>{if(Y(v.zk.NO),e===N.vC)"number"==typeof b&&t.set(b||null,v.zk.NO);else if(e===N.Bn){t.set(null,v.zk.NO);let e={[t.widthOrHeight]:{...O[t.widthOrHeight],[t.minOrMax]:!1}};D({...O,...e}),P(null)}else("number"==typeof e||null==e)&&t.set(e,v.zk.NO,x.current);n===v.zk.YES&&_.Y5.triggerAction("commit")},dropdownWidth:162,dropdownAlignment:"width"===t.widthOrHeight?"left":"right",noBorderOnFocus:!0,iconId:`icon-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,icon:z,tooltipText:A(t),showTooltipOnTargetOnly:L,"data-tooltip-max-width":200,onFocus:()=>k("minmax",{axis:G,renderLabels:!0},N.qi.YES),onBlur:()=>{k("minmax",{axis:G,renderLabels:!0},N.qi.YES_ONLY_MIN_MAX),P(null)},onMouseEnter:()=>k("minmax",{axis:G,renderLabels:!0}),onMouseLeave:()=>k("minmax",null),inputTestId:`transform-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,source:"panel",allowEmpty:!0,placeholder:function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,m.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_short"):(0,m.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_short");case"height":return"min"===e.minOrMax?(0,m.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_short"):(0,m.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_short")}}(t),omitValueFromDropdown:!0,shouldFocus:n,"aria-label":A(t),recordingKey:e.recordingKey,openBelowTarget:!0,shiftVariableOptionToAlign:!0})}},559568:(e,t,n)=>{n.d(t,{Je:()=>tD,vG:()=>tk,cU:()=>tO,zq:()=>tC,Ss:()=>tL,Ws:()=>tP});var r=n(411855),a=n(109388),l=n(188507),o=n(243742),i=n(939683),s=n(374626),c=n(153234),d=n(347082),p=n(574176),u=n(348425),m=n(939863),_=n(293017),g=n(356390),f=n(852800),E=n(662531),h=n(617453),y=n(848661),v=n(227944),b=n(555074),w=n(29680),T=n(100197),N=n(234945),S=n(498606),I=n(279145),C=n(420186),k=n(218973),A=n(871642),x=n(32067),R=n(572206),P=n(746806),O=n(553609),D=n(7959);function L(e){let t=(0,l.wA)(),n=new R.Mi(e.pickerShown?.initialX,e.pickerShown?.initialY),a=(0,l.d4)(e=>e.dropdownShown);return r.createElement(P.vx,{title:(0,m.t)("fullscreen.properties_panel.constraints_panel.constraints"),initialPosition:n,headerSize:"small",onClose:()=>{t(_.XE())}},r.createElement(D.Id,null,r.createElement(O.l,{...e,dropdownShown:a})))}var M=n(464558),F=n(410465),K=n(537545),B=n(64111);class V extends F.I{}class U extends F.Y{}class H extends r.PureComponent{constructor(){super(...arguments),this.getProperty=()=>(0,y.hS)(this.props.width)&&(0,y.hS)(this.props.height)?this.props.width>this.props.height?"LANDSCAPE":"PORTRAIT":y.oV,this.onChange=e=>{this.getProperty()!==e&&E.l7.user("toggle-frame-orientation",()=>{g.Y5.triggerAction("toggle-frame-orientation"),f.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){let e=this.getProperty(),t=!(0,y.hS)(this.props.resizeToFit)||this.props.resizeToFit;return r.createElement(V,{className:"orientation_control--orientationControl--JG3io",disabled:t,property:e,onChange:this.onChange,recordingKey:this.props.recordingKey},r.createElement(U,{value:"PORTRAIT",svg:B.A,tooltip:(0,m.t)("fullscreen.properties_panel.orientation.portrait")}),r.createElement(U,{value:"LANDSCAPE",svg:K.A,tooltip:(0,m.t)("fullscreen.properties_panel.orientation.landscape")}))}}H.displayName="OrientationControl";var z=n(766022),G=n(538697),W=n(221537),Y=n(343559),X=n(939791),Z=n(460528),$=n(809511),j=n(669136),q=n(270023),J=n(730447),Q=n(766530),ee=n(511315),et=n(343798),en=n(629019),er=n.n(en),ea=n(776621),el=n(46481),eo=n(178466),ei=n(791489),es=n(341860),ec=n(318812),ed=n(552901),ep=n(893606),eu=n(344525),em=n(614851),e_=n(682555),eg=n(438806),ef=n(611730),eE=n(552789),eh=n(723472),ey=n(105752),ev=n(235107),eb=n(445889),ew=n(190152),eT=n(507245);function eN(e){let t=(0,l.wA)(),n=(0,ec.Um)(),a=(0,l.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions),[o,s]=(0,r.useState)(!1),d=(0,x.Tv)(),p=!1;e.axis===f._0v.Y&&d&&function(e){let t=new Set([]);for(let n of e){let r=es.q.instance.get(n);if(r&&r.parentGuid&&!t.has(r.parentGuid)&&(t.add(r.parentGuid),function(e,t){let n=e.parentNode,r=!1,a=!0;if(e&&n&&"WRAP"===n.stackWrap)for(let l of n.childrenGuids){t.find(e=>e===l)||(a=!1);let n=es.q.instance.get(l);l!==e.guid&&n&&"AUTO"===n.stackChildAlignSelf&&(r=!0)}return r&&!a}(r,e)))return!0}return!1}(d)&&(p=!0);let _=(0,l.d4)(e=>!!e.mirror.selectionProperties.isInstanceSublayerSelected),g=(0,i.am)(),h=(0,l.d4)(N.qd),v=(0,l.d4)(N.dK),w=h.map(e=>{let t=v.get(e);return null==t?void 0:t.parentGuid}),T=(0,ep.R)(),I=_&&T,C=(0,r.useMemo)(()=>new eI(e.axis),[e.axis]),k=(0,b.kl)("width"),A=(0,b.kl)("height"),R=(0,r.useMemo)(()=>new eC(e.axis,e.axis===f._0v.X?k:A),[e.axis,k,A]),P=ek(e.axis===f._0v.X?k:A,2),O=(0,r.useRef)(null),D=e.size,L=null!=P&&(0,y.hS)(P),M=(0,ed.rZ)({property:L?`${P}`:"",stackSize:null!=D&&D!==f.mKm.FIXED&&(0,y.hS)(D)?D:null,inputRef:O});if(null==a)return null;let[F,K]=eS(e.axis,e.size),B=function(e,t){let n=e===f._0v.X;switch(t){case f.mKm.HUG_CONTENT:return n?r.createElement(j.v,null):r.createElement(q.C,null);case f.mKm.FILL_CONTAINER:return n?r.createElement(J.G,null):r.createElement(Q.N,null);default:return n?r.createElement(ee.w,null):r.createElement(et.T,null)}}(e.axis,e.size);if(e.readOnly&&(0,y.hS)(e.size)){let t=eA(e.size);return r.createElement("div",{className:er()(e.className,"stack_sizing_select_v5--flexContainer--nrpIK")},r.createElement(u.t,{svg:F,fallbackSvg:K,className:eu.Vb}),r.createElement("span",{className:"stack_sizing_select_v5--readOnlyText--Ik-gS ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}var V,U=_;for(let e of a)if(e.size===f.mKm.HUG_CONTENT||e.size===f.mKm.FILL_CONTAINER){U=!1;break}let H=a.map(t=>{let n=f.mKm[t.size],a=t.size===f.mKm.FILL_CONTAINER&&p,l=t.disabled||a,o="no-fill-component"===t.disabledReason?(0,m.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.no_fill_component"):a?(0,m.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.select_all_fill"):void 0;return r.createElement(G.c$,{key:t.size,value:t.size,recordingKey:c.Pt(e.recordingKey,"select",n),disabled:l,tooltip:o,tooltipType:S.Ib.TEXT,dataTestId:`${n}-${f._0v[e.axis]}`})}),z=null==(V=(0,eo.Gq)())?void 0:V.getPrimaryLocale(!0),W=I?ed.LN:z===ei.Xn?150:210,Y=e.axis===f._0v.X?r.createElement("span",{className:`${em.QK} svg`},(0,m.tx)("fullscreen.properties_panel.transform_panel.w")):r.createElement("span",{className:`${em.QK} svg`},(0,m.tx)("fullscreen.properties_panel.transform_panel.h")),X=L?`${P}`:void 0,{bestText:Z,measurementNode:$}=L?M:{bestText:void 0,measurementNode:void 0},en=I?Y:r.createElement(el.U,{svg:F,fallbackSvg:K},B);return r.createElement(r.Fragment,null,r.createElement(G.l6,{id:e.id,inputTextRef:O,className:e.className,inputClassName:er()({"stack_sizing_select_v5--tightText--xHUXj":!T},"stack_sizing_select_v5--stackLayoutSizeInput--aB6Pd"),chevronClassName:"stack_sizing_select_v5--stackLayoutSizeChevron--xh9BG",dropdownShown:n,dispatch:t,property:e.size,formatter:I?R:C,icon:en,onChange:t=>{null!=t&&(E.l7.user("set-stack-size",()=>f.Qa7.setStackSizeOnSelection(t,e.axis)),g("Autolayout sizing changed",{axis:e.axis,size:t,source:"dropdown",nodeIds:h,parentNodeIds:w}))},disabled:U,recordingKey:c.Pt(e,"select"),dropdownWidth:W,dropdownAlignment:e.dropdownAlignment,truncation:"none",onOptionFocus:(t,n)=>e.onHover(t??null,n),onMouseEnter:()=>{e.onHover((0,y.hS)(e.size)?e.size:null,"input"),s(!0)},onMouseLeave:()=>{e.onHover(null,"input"),s(!1)},onMouseDown:()=>{s(!1)},dropdownOverride:(T?o?X:Z:void 0)??void 0,tooltip:e.axis===f._0v.X?(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.horizontal_resizing"):(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.vertical_resizing")},H),T&&r.createElement("div",{className:er()("stack_sizing_select_v5--hideMeasurementNode--WbKf3")},$))}function eS(e,t){let n=e===f._0v.X;switch(t){case y.oV:return n?[ew.A]:[eE.A];case f.mKm.HUG_CONTENT:return n?[eT.A]:[eh.A];case f.mKm.FILL_CONTAINER:return n?[ey.A]:[e_.A];default:return n?[ev.A,eb.A]:[eg.A,ef.A]}}class eI{constructor(e){this.axis=e}format(e){return null==e?"":eA(e)}formatExtended(e){if(null==e)return{text:""};let[t,n]=eS(this.axis,e);return{text:function(e,t){switch(t){case f.mKm.FIXED:return e===f._0v.X?(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_width"):(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_height");case f.mKm.HUG_CONTENT:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents");case f.mKm.FILL_CONTAINER:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")}}(this.axis,e)||"",svg:t,fallbackSvg:n}}}class eC{constructor(e,t){this.axis=e,this.fixedSize=t}format(e){return null==e?"":function(e,t){switch(e){case f.mKm.FIXED:return ek(t);case f.mKm.HUG_CONTENT:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case f.mKm.FILL_CONTAINER:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}(e,this.fixedSize)}formatExtended(e){if(null==e)return{text:""};let[t,n]=eS(this.axis,e);return{text:function(e,t,n){switch(t){case f.mKm.FIXED:return e===f._0v.X?(0,m.t)("fullscreen.properties_panel.stack_panel.al.fixed.width",{value:ek(n)}):(0,m.t)("fullscreen.properties_panel.stack_panel.al.fixed.height",{value:ek(n)});case f.mKm.HUG_CONTENT:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents");case f.mKm.FILL_CONTAINER:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")}}(this.axis,e,this.fixedSize)||"",svg:t,fallbackSvg:n}}}function ek(e,t=0){return(0,y.gl)(e)?(0,m.t)("fullscreen.mixed"):e?e.toFixed(e%1==0?0:t):((0,ea.x1)("UI3 merged autolayout picker StackSizingSelect","undefined fixedSize of instance sublayer"),"")}function eA(e){switch(e){case f.mKm.FIXED:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed");case f.mKm.HUG_CONTENT:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case f.mKm.FILL_CONTAINER:return(0,m.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}function ex(e){let t=(0,b.kl)("stackHorizontalSize"),n=(0,b.kl)("stackVerticalSize"),a=(0,W.aj)(),{version:l}=(0,o.DP)();return null==t||null==n?null:"ui2"===l?r.createElement(D.fI,{"data-testid":"stack-sizing-row"},r.createElement(eN,{id:"stack-sizing-width",className:em.oH,axis:$._0v.X,size:t,recordingKey:c.Pt(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>a(e,$._0v.X)}),r.createElement(eN,{id:"stack-sizing-height",className:em.T1,axis:$._0v.Y,size:n,recordingKey:c.Pt(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>a(e,$._0v.Y)})):r.createElement(X.fn,{"data-testid":"stack-sizing-row",leftLabel:(0,m.tx)("properties.label.resizing"),leftInput:r.createElement(eN,{id:"stack-sizing-width",className:em.oH,axis:$._0v.X,size:t,recordingKey:c.Pt(e.recordingKey,"widthInput"),dropdownAlignment:"left",onHover:e=>a(e,$._0v.X)}),rightInput:r.createElement(eN,{id:"stack-sizing-height",className:em.T1,axis:$._0v.Y,size:n,recordingKey:c.Pt(e.recordingKey,"heightInput"),dropdownAlignment:"right",onHover:e=>a(e,$._0v.Y)}),rightLabel:null,icon:null})}var eR=n(33136);function eP(){let e=!eO();return r.createElement("div",{className:"constraints_preview_icon--container--n518S"},r.createElement(eD,{axis:"HORIZONTAL",disabled:e}),r.createElement("div",{className:eG(90)},r.createElement(eD,{axis:"VERTICAL",disabled:e})),r.createElement(eM,{disabled:e}))}function eO(){let e=(0,eR.t)();return!(e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning)}function eD(e){let t=(0,eR.t)(),n="HORIZONTAL"===e.axis?t.horizontalConstraint:t.verticalConstraint,a=(0,y.gl)(t.horizontalConstraint)||(0,y.gl)(t.verticalConstraint);if(a||e.disabled)return r.createElement(eL,{selected:a});switch(n){case"MIN":return r.createElement(r.Fragment,null,r.createElement(eV,{selected:!0}),r.createElement(eV,{rotation:180}));case"MAX":return r.createElement(r.Fragment,null,r.createElement(eV,null),r.createElement(eV,{rotation:180,selected:!0}));case"STRETCH":return r.createElement(r.Fragment,null,r.createElement(eV,{selected:!0}),r.createElement(eV,{rotation:180,selected:!0}));case"CENTER":return r.createElement(r.Fragment,null,r.createElement(eV,null),r.createElement(eV,{rotation:180}));case"SCALE":return r.createElement(r.Fragment,null,r.createElement(eU,{selected:!0}),r.createElement(eU,{rotation:180,selected:!0}));default:return r.createElement(eL,null)}}function eL(e){return r.createElement(r.Fragment,null,r.createElement(eV,{selected:e.selected}),r.createElement(eV,{selected:e.selected,rotation:180}))}function eM(e){let t=(0,eR.t)(),n="CENTER"===t.horizontalConstraint,a="CENTER"===t.verticalConstraint,l=(0,y.gl)(t.horizontalConstraint)||(0,y.gl)(t.verticalConstraint);return n===a||l||e.disabled?r.createElement(eB,{selected:!e.disabled&&(n||l)}):r.createElement("div",{className:eG(a?0:90)},r.createElement(eK,{selected:!0}),r.createElement(eF,{rotation:90}))}function eF(e){return r.createElement("div",{className:eG(e.rotation||0)},r.createElement(eH,null),r.createElement(eH,{rotation:180}))}function eK(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(ez,{d:"M 9,12  L 15,12",...e}))}function eB(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(ez,{d:"M 9,12  L 15,12  M 12,9 L 12,15",...e}))}function eV(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(ez,{d:"M 5.5,9 L 5.5,15",rotation:e.rotation,selected:e.selected}))}function eU(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(ez,{d:"M 6.5,10  L 4.5,12 L 6.5,14",...e}))}function eH(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(ez,{d:"M 9,12  L 10,12",...e}))}function ez(e){return r.createElement("path",{d:e.d,fill:"none",className:er()("constraints_preview_icon--line--z6ghs",eG(e.rotation||0),{"constraints_preview_icon--selected--GXU2-":e.selected})})}let eG=e=>{switch(e){case 0:return;case 90:return"constraints_preview_icon--rotate90--uayVi constraints_preview_icon--_rotate--2AAty";case 180:return"constraints_preview_icon--rotate180--lqQgR constraints_preview_icon--_rotate--2AAty"}};var eW=n(290022),eY=n(933466),eX=n(700829),eZ=n(480099);function e$(e){return r.createElement(eZ.ht,null,r.createElement(ed.j3,{...e}))}var ej=n(535904),eq=n(171975);function eJ(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v1.5a.5.5 0 0 0 1 0V8a3 3 0 1 0-6 0v1.5a.5.5 0 0 0 1 0V8Zm0 8a2 2 0 1 0 4 0v-1.5a.5.5 0 0 1 1 0V16a3 3 0 1 1-6 0v-1.5a.5.5 0 0 1 1 0V16Zm2.5-6a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0v-4Z",clipRule:"evenodd"}))}function eQ(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v1.5a.5.5 0 1 0 1 0V8a3 3 0 0 0-6 0v1.5a.5.5 0 0 0 1 0V8Zm0 8a2 2 0 1 0 4 0v-1.5a.5.5 0 1 1 1 0V16a3 3 0 0 1-6 0v-1.5a.5.5 0 0 1 1 0V16Z",clipRule:"evenodd"}))}var e0=n(776250),e1=n(966712),e5=n(520581),e2=n(877953),e7=n(553738),e4=n(277951),e3=n(48453),e8=n(402042),e6=n(505740);function e9(e){let[t,n]=(0,b.lJ)("proportionsConstrained"),a=(0,e2.C)("fpl_toggle_button"),l=(0,ep.R)(),o=()=>{(0,e1.kc)().ce_properties_panel_tracking&&(0,e0.sx)("editor-transform-panel-change",{key:"proportionsConstrained",value:!(0,y._W)(t,!1)}),n(!(0,y._W)(t,!1))},i=(0,m.t)("fullscreen.properties_panel.transform_panel.constrain_proportions");return l?r.createElement(e5.E,{name:"dimensions_constrained_toggle"},r.createElement(ej.d,{disabled:e.disabled,toggled:!!t,onClick:o,actionOnPointerDown:!0,recordingKey:c.Pt(e,"constrainProportionsToggle"),"aria-label":i,htmlAttributes:{"data-testid":"dimensions-constrained-toggle","data-tooltip":i,"data-tooltip-type":S.Ib.TEXT}},t?r.createElement(eJ,null):r.createElement(eQ,null))):a?r.createElement("div",{className:em.xe},r.createElement(e5.E,{name:"dimensions_constrained_toggle"},r.createElement(eq.f,{disabled:e.disabled,onChange:e=>{(0,e1.kc)().ce_properties_panel_tracking&&(0,e0.sx)("editor-transform-panel-change",{key:"proportionsConstrained",value:e}),n(e)},checked:!!t,mixed:t===y.oV,recordingKey:c.Pt(e,"constrainProportionsToggle"),"aria-label":(0,m.t)("fullscreen.properties_panel.transform_panel.constrain_proportions"),onIcon:r.createElement(el.U,{svg:e6.A},r.createElement(eJ,null)),offIcon:r.createElement(el.U,{svg:e8.A},r.createElement(eQ,null))}))):r.createElement(e5.E,{name:"dimensions_constrained_toggle"},r.createElement(e7.m,{disabled:e.disabled,toggled:(0,y._W)(t,!1),svg:t?e4.A:e3.A,fallbackSvg:t?e6.A:e8.A,className:em.gb,onMouseDown:o,recordingKey:c.Pt(e,"constrainProportionsToggle"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":i}))}var te=n(301462),tt=n(279702),tn=n(862782),tr=n(618945);function ta(e){let[t,n]=(0,b.lJ)("stackPositioning"),a=(0,i.am)(),o=(0,l.d4)(N.qd),s=(0,l.d4)(N.dK),d=o.map(e=>{let t=s.get(e);return t?.parentGuid});return r.createElement(e7.m,{svg:tn.A,fallbackSvg:tr.A,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.absolute_position"),onMouseDown:()=>{E.l7.user("set-stack-position",()=>{"ABSOLUTE"===t?(n("AUTO"),a("Remove Absolute Position")):(n("ABSOLUTE",tt.zk.NO),f.glU.bringSelectionToFrontVisually(),f.glU.triggerAction("commit",{}),te.F.trackFromFullscreen("add_absolute_position",{source:"properties_panel",parent_node_ids:d}))})},recordingKey:c.Pt(e,"absolutePosition"),toggled:"ABSOLUTE"===t,disabled:e.disabled,className:em.gb,dataTestId:"stack-positioning-toggle"})}var tl=n(784940),to=n(434228);function ti(e){return(0,to.O)(),r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 7a1 1 0 0 1 1-1h2.5a.5.5 0 1 1 0 1H7v2.5a.5.5 0 0 1-1 0V7Zm12 0a1 1 0 0 0-1-1h-2.5a.5.5 0 1 0 0 1H17v2.5a.5.5 0 1 0 1 0V7ZM7 18a1 1 0 0 1-1-1v-2.5a.5.5 0 0 1 1 0V17h2.5a.5.5 0 0 1 0 1H7Zm11-1a1 1 0 0 1-1 1h-2.5a.5.5 0 1 1 0-1H17v-2.5a.5.5 0 1 1 1 0V17Zm-8-7h4v4h-4v-4Zm-1 0a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4Z",clipRule:"evenodd"}))}var ts=n(227795),tc=n(565831);function td(e){let t=(0,b.kl)("nodesAreAllInsideStacks"),n=(0,tc.CC)(),[a,o]=(0,b.lJ)("stackPositioning"),s=(0,i.am)(),d=(0,b.kl)("isInstanceSublayerSelected"),p=(0,l.d4)(N.qd),u=(0,l.d4)(N.dK),_=p.map(e=>{let t=u.get(e);return t?.parentGuid});if(!(t&&!n))return null;let g={disabled:!!d,"data-tooltip":(0,m.t)("properties.tooltip.ignore_auto_layout"),"data-tooltip-type":S.Ib.TEXT,recordingKey:c.Pt(e,"absolutePosition")},h=()=>{E.l7.user("set-stack-position",()=>{"ABSOLUTE"===a?(o("AUTO"),s("Remove Absolute Position")):(o("ABSOLUTE",tt.zk.NO),f.glU.bringSelectionToFrontVisually(),f.glU.triggerAction("commit",{}),te.F.trackFromFullscreen("add_absolute_position",{source:"properties_panel",parent_node_ids:_}))})};return(0,e1.kc)().ce_tv_fpl_toggle_button?r.createElement(eq.f,{onChange:h,onIcon:r.createElement(ti,null),offIcon:r.createElement(ti,null),checked:"ABSOLUTE"===a,mixed:(0,y.gl)(a),variant:"highlighted","aria-label":(0,m.t)("properties.tooltip.ignore_auto_layout"),recordingKey:g.recordingKey,disabled:g.disabled,htmlAttributes:{"data-testid":"stack-positioning-toggle","data-tooltip":g["data-tooltip"],"data-tooltip-type":g["data-tooltip-type"]}}):r.createElement(ts.YW,{selected:"ABSOLUTE"===a,onMouseDown:h,dataTestId:"stack-positioning-toggle",...g},r.createElement(ti,null))}function tp(e){return r.createElement(eZ.kR,null,r.createElement(ed.j3,{...e}))}var tu=n(106502);let tm=(0,tu.r)("relative-x",(e,t)=>f.glU.setNodeSelectionOffsetWithAnchor(e,f._0v.X,t)?tt.zk.YES:tt.zk.NO);function t_(e){let[t,n]=(0,b.lJ)("x"),a=(0,tl.KG)({key:"x",setValue:n}),{version:l}=(0,o.DP)(),i="ui3"===l;return r.createElement(e5.E,{name:"x_input"},r.createElement(k.gq,{...a,onEvaluateExpressionError:tm,className:em.BP,inputClassName:em.hF,value:t,disabled:e.disabled,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":i?(0,m.t)("properties.tooltip.xposition"):(0,m.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!i,recordingKey:c.Pt(e.recordingKey,"xInput")},r.createElement("span",{className:`${em.QK} svg`},(0,m.tx)("fullscreen.properties_panel.transform_panel.x"))))}let tg=(0,tu.r)("relative-y",(e,t)=>f.glU.setNodeSelectionOffsetWithAnchor(e,f._0v.Y,t)?tt.zk.YES:tt.zk.NO);function tf(e){let[t,n]=(0,b.lJ)("y"),a=(0,tl.KG)({key:"y",setValue:n}),{version:l}=(0,o.DP)(),i="ui3"===l;return r.createElement(e5.E,{name:"y_input"},r.createElement(k.gq,{...a,onEvaluateExpressionError:tg,className:em.BP,inputClassName:em.hF,value:t,disabled:e.disabled,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":i?(0,m.t)("properties.tooltip.yposition"):(0,m.t)("fullscreen.properties_panel.transform_panel.y"),tooltipForScreenReadersOnly:!i,recordingKey:c.Pt(e.recordingKey,"yInput")},r.createElement("span",{className:`${em.QK} svg`},(0,m.tx)("fullscreen.properties_panel.transform_panel.y"))))}var tE=n(467213),th=n(662294),ty=n(295753),tv=n(91990),tb=n(595869),tw=n(324799),tT=n(695150),tN=n(708273),tS=n(287126),tI=n(332536);let tC=r.memo(function(e){let t=(0,tl.Df)(),n=(0,tl.Jo)(),a=(0,ep.R)(ep.G.READY),o=(0,b.kl)("stackMode"),i=null!=o&&"NONE"!==(0,y.E7)(o),s=(0,b.kl)("nodesAreAllInsideStacks"),p=(0,T.J2)(f.Ez5.propertiesPanelState().shownPropertiesPanels),u=a&&!p[f.ibQ.TRANSFORM_ITEM],_=t.framePresetsItem&&n.transform,g=p[f.ibQ.SITES_POSITION_ITEM],E=i||s,h=(0,r.useRef)(null),v=(0,l.d4)(N.qd),[w,S]=(0,A.Xw)(),I=r.createElement(tR,{transformDisabled:!n.transform,recordingKey:e.recordingKey,showFrameFitButton:!_&&!t.sectionItem,pickerShown:e.pickerShown,canEditConstraints:e.canEditConstraints,openFileKey:e.openFileKey}),C=r.createElement(r.Fragment,null,!a&&_&&e.propertiesPanelState===z.GR.DEFAULT_EXPANDED&&r.createElement(tA,{recordingKey:e.recordingKey}),!e.onlyShowXYInputsRow&&I,!a&&r.createElement(r.Fragment,null,r.createElement(tP,{recordingKey:e.recordingKey,forwardedRef:h}),r.createElement(tE.J,{visible:!!E,widthHeightRowRef:h})),E&&!a&&r.createElement(ex,{recordingKey:c.Pt(e.recordingKey,"autolayoutSizing")}),(t.angle||!a&&t.cornerRadius)&&r.createElement(eW.Q,{key:v.join("-"),cornerRadiusShown:t.cornerRadius,cornerRadiusDisabled:!n.cornerRadius,rectangleCornersShown:t.rectangleCornerRadii,rectangleCornersDisabled:!n.rectangleCornerRadii,angleShown:t.angle,angleDisabled:!n.angle,recordingKey:e.recordingKey}),(t.count||t.starInnerScale)&&!a&&r.createElement(tO,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&!a&&r.createElement(tD,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),t.fixedFrameOptions&&!a&&r.createElement(eY.u,{recordingKey:e.recordingKey}),!a&&r.createElement(eX.e,{recordingKey:e.recordingKey}));return r.createElement(r.Fragment,null,!g&&r.createElement(d.p,{name:"transform_panel"},r.createElement(D.Zk,{"data-onboarding-key":a?null:Z.W,"data-non-interactive":!0,...S},a&&r.createElement(Y.r,{titleTx:(0,m.tx)("fullscreen.appearance_panel.position"),icon:r.createElement(td,{recordingKey:e.recordingKey})}),a&&!e.onlyShowXYInputsRow&&r.createElement(th.l,{isHoveringOverPanel:w,recordingKey:"alignPanel"}),e.onlyShowXYInputsRow&&I,!u&&!e.onlyShowXYInputsRow&&C)))});function tk(e){let t=(0,b.kl)("width"),n=(0,b.kl)("height"),a=(0,b.kl)("isInstanceSelected"),o=(0,b.kl)("isInstanceSublayerSelected"),i=(0,b.kl)("resizeToFit"),s=(0,b.kl)("canBecomeFrame"),c=(0,b.kl)("canBecomeGroup"),d=(0,b.kl)("canBecomeSection"),p=(0,b.kl)("isSection"),u=(0,b.kl)("isWidgetSelected"),_=(0,b.kl)("stackMode"),g=(0,x.O1)(),f=null!=g&&g.some(e=>e.type!==g[0].type),E=(0,ep.R)(),h=(0,l.d4)(e=>e.dropdownShown),y=(0,l.wA)();return r.createElement(M.Ij,{leftIcon:e.leftIcon,selectClassName:e.selectClassName,inputClassName:e.inputClassName,width:t,height:n,resizeToFit:i,stackMode:_,dispatch:y,dropdownShown:h,canBecomeFrame:!!s,canBecomeGroup:!!c,canBecomeSection:!!d,isSection:!!p,isOrInInstance:!!(a||o),isWidget:!!u,id:e.id,recordingKey:e.recordingKey,dropdownOverride:E&&f?(0,m.t)("fullscreen.mixed"):void 0})}let tA=r.memo(function(e){let t=(0,tl.Df)(),n=(0,b.kl)("width"),a=(0,b.kl)("height"),i=(0,b.kl)("resizeToFit"),s=(0,b.kl)("stackMode"),d=(0,b.kl)("stackCounterSizing"),p=(0,l.d4)(e=>(0,I.Yh)(e.mirror.appModel,"resize-to-fit")),u=null!=s&&"NONE"!==s,m=u&&(0,y.hS)(d)&&"RESIZE_TO_FIT"===d,{version:_}=(0,o.DP)(),g=p?em.xP:em.iq,f=r.createElement(tk,{id:"frame-preset-dropdown",selectClassName:g,inputClassName:em.KG,recordingKey:c.Pt(e,"framePresetDropdown")}),E=r.createElement(M.hw,{className:em.gb,recordingKey:c.Pt(e,"frameFitButton")});return"ui3"===_?r.createElement(X.fn,{leftLabel:null,leftInput:f,rightLabel:null,rightInput:null,icon:t.sectionItem&&(!p||m)?null:E}):r.createElement(D.fI,null,f,p&&!u&&r.createElement(H,{width:n,height:a,resizeToFit:i,recordingKey:c.Pt(e,"frameOrientation")}),p&&!m&&r.createElement(r.Fragment,null,E))});function tx(){let e=(0,ty.e)(),t=(0,ep.R)();return e&&t?(0,m.tx)("properties.label.resizing"):(0,m.tx)("properties.label.dimensions")}function tR(e){let t="xy-inputs-row",n=(0,b.kl)("nodesAreAllInsideStacks"),i=(0,b.kl)("stackPositioning"),s=(0,b.kl)("isInstanceSublayerSelected"),{version:d}=(0,o.DP)(),p=(0,l.wA)(),u=eO()&&e.canEditConstraints,g=r.useRef(null),f=!!n&&"AUTO"===i||e.transformDisabled,E=!!n,h=(0,v.Zr)("resize-to-fit"),y=e.showFrameFitButton&&h&&!E;if("ui2"===d)return r.createElement(D.fI,{dataTestId:"x-y-inputs-row"},r.createElement(t_,{disabled:f,recordingKey:e.recordingKey}),r.createElement(tf,{disabled:f,recordingKey:e.recordingKey}),y&&r.createElement(M.hw,{className:em.gb}),E&&r.createElement(ta,{disabled:!!s,recordingKey:e.recordingKey}));let w=()=>e.pickerShown&&e.pickerShown.id===t?e.pickerShown:null,T=w();return r.createElement(r.Fragment,null,r.createElement(X.fn,{ref:g,"data-testid":"x-y-inputs-row",leftLabel:(0,m.tx)("properties.label.position"),leftInput:r.createElement(t_,{disabled:f,recordingKey:e.recordingKey}),rightLabel:null,rightInput:r.createElement(tf,{disabled:f,recordingKey:e.recordingKey}),icon:u?r.createElement(D.YW,{onClick:e=>{if(e.stopPropagation(),w())p(_.XE());else{let e=(0,C.cn)(a.findDOMNode(g.current));p(_.u1({id:t,initialX:e.x,initialY:e.y}))}},onMouseDown:e=>e.stopPropagation(),selected:!!T,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.constraints_panel.constraints"),recordingKey:c.Pt(e,"constraintsButton")},r.createElement(eP,null)):null}),T&&r.createElement(L,{pickerShown:T,openFileKey:e.openFileKey,recordingKey:c.Pt(e,"constraintsModal")}))}function tP(e){let t=(0,b.kl)("stackMode"),[n,a]=(0,s.fp)(W.Kl),[l,c]=(0,s.fp)(W.Md),d=null!=t&&"NONE"!==t,p=(0,tl.AY)(),u=(0,W.Fp)(),m=(0,i.am)(),_=(0,W.hl)(),g=(0,tl.Jo)().size,{widthIsAuto:f,heightIsAuto:E}=(0,tl.M9)(),{version:h}=(0,o.DP)();(0,w.f4)(()=>{a(W.p3),c(null),u("minmax",null,W.qi.YES)});let y=e=>{m("Expanded min max property",e);let t={...n,[e.widthOrHeight]:{...n[e.widthOrHeight],[e.minOrMax]:!0}},r="min"===e.minOrMax?"max":"min",l=_[e.widthOrHeight][e.minOrMax],o=_[e.widthOrHeight][r];!l&&o&&(t[e.widthOrHeight][r]=!0),a(t),c(e)},v=(0,b.kl)("isInstanceSublayerSelected");return"ui2"===h?r.createElement(D.fI,{forwardedRef:e.forwardedRef,dataTestId:"width-height-row"},r.createElement(tp,{disabled:f||!g,onSizeConstraintClick:e=>{y({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),r.createElement(e$,{disabled:E||!g,onSizeConstraintClick:e=>{y({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),!d&&!p&&r.createElement(e9,{disabled:!g,recordingKey:e.recordingKey})):v?r.createElement(ex,{recordingKey:e.recordingKey}):r.createElement(X.fn,{"data-testid":"width-height-row",leftLabel:r.createElement(tx,null),leftInput:r.createElement(tp,{disabled:f||!g,onSizeConstraintClick:e=>{y({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),rightLabel:null,rightInput:r.createElement(e$,{disabled:E||!g,onSizeConstraintClick:e=>{y({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),icon:d||p?null:r.createElement(e9,{disabled:!g,recordingKey:e.recordingKey})})}function tO(e){let{version:t}=(0,o.DP)(),[n,a]=(0,b.lJ)("count"),[i,s]=(0,b.lJ)("starInnerScale"),{smallNudgeAmount:d,bigNudgeAmount:u,wheelMultiplier:_,scrubMultiplier:g}=(0,tl.Xs)(),f=(0,l.wA)(),E=e.countShown&&r.createElement(k.Ht,{className:em.BP,inputClassName:em.hF,value:n,disabled:e.countDisabled,smallNudgeAmount:d,wheelMultiplier:_,onValueChange:a,dispatch:f,recordingKey:c.Pt(e,"countInput"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.count"),dataTestId:"count-input",bigNudgeAmount:10,scrubMultiplier:.1*d,resolution:.01,min:3,max:60},e.starInnerScaleShown&&r.createElement(p.B,{className:em.QK,svg:tS.A}),!e.starInnerScaleShown&&r.createElement(p.B,{className:em.QK,svg:tw.A})),h=e.starInnerScaleShown&&r.createElement(k.w2,{className:em.sC,inputClassName:em.hF,value:i,disabled:e.starInnerScaleDisabled,smallNudgeAmount:d,bigNudgeAmount:u,wheelMultiplier:_,scrubMultiplier:g,onValueChange:s,dispatch:f,recordingKey:c.Pt(e,"starInnerScaleInput"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,min:.001},r.createElement(p.B,{className:em.QK,svg:tI.A}));return"ui3"===t&&h?r.createElement(X.fn,{leftLabel:(0,m.tx)("properties.label.count"),leftInput:E,rightLabel:(0,m.tx)("properties.label.angle"),rightInput:h,icon:null}):"ui3"===t?r.createElement(X.fn,{leftLabel:(0,m.tx)("properties.label.count"),leftInput:E,rightLabel:null,rightInput:null,icon:null}):r.createElement(D.fI,{dataTestId:"count-scale-inputs-row"},E,h)}let tD=r.memo(function(e){let[t,n]=(0,b.lJ)("arcStart"),[a,i]=(0,b.lJ)("arcSweep"),[s,d]=(0,b.lJ)("arcRadius"),{smallNudgeAmount:u,bigNudgeAmount:_,wheelMultiplier:g,scrubMultiplier:f}=(0,tl.Xs)(),E=(0,l.wA)(),{version:h}=(0,o.DP)();return"ui3"!==h?r.createElement(D.fI,null,r.createElement("div",{className:em.Cs},r.createElement(p.B,{className:em.QK,svg:tv.A}),r.createElement(k.Zp,{className:em.fm,inputClassName:em.PK,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:u,bigNudgeAmount:_,wheelMultiplier:g,scrubMultiplier:f,onValueChange:n,dispatch:E,recordingKey:c.Pt(e,"arcStart"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!0}),r.createElement(k.w2,{className:em.t5,inputClassName:em.PK,value:a,smallNudgeAmount:u,bigNudgeAmount:_,wheelMultiplier:g,scrubMultiplier:f,onValueChange:i,dispatch:E,recordingKey:c.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!0}),r.createElement(k.w2,{className:em.eC,inputClassName:em.PK,value:s,smallNudgeAmount:u,bigNudgeAmount:_,wheelMultiplier:g,scrubMultiplier:f,onValueChange:d,dispatch:E,recordingKey:c.Pt(e,"arcRatio"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!0}))):r.createElement(X.DE,{label:(0,m.tx)("properties.label.arc"),icon:null,input:r.createElement("div",{className:em.Xq},r.createElement(k.Zp,{className:em.fm,inputClassName:em.hF,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:u,bigNudgeAmount:_,wheelMultiplier:g,scrubMultiplier:f,onValueChange:n,dispatch:E,recordingKey:c.Pt(e,"arcStart"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!1},r.createElement(p.B,{className:em.QK,svg:tv.A})),r.createElement(k.w2,{className:em.t5,inputClassName:em.PK,value:a,smallNudgeAmount:u,bigNudgeAmount:_,wheelMultiplier:g,scrubMultiplier:f,onValueChange:i,dispatch:E,recordingKey:c.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!1}),r.createElement(k.w2,{className:em.eC,inputClassName:em.PK,value:s,smallNudgeAmount:u,bigNudgeAmount:_,wheelMultiplier:g,scrubMultiplier:f,onValueChange:d,dispatch:E,recordingKey:c.Pt(e,"arcRatio"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!1}))})});function tL(e){let{bigNudgeAmount:t,smallNudgeAmount:n}=(0,h.sT)();return r.createElement(tM,{...e,bigNudgeAmount:t,smallNudgeAmount:n})}function tM(e){let{smallNudgeAmount:t,bigNudgeAmount:n}=e,a={wheelMultiplier:t,scrubMultiplier:t,smallNudgeAmount:t,bigNudgeAmount:n},l=r.createElement(k.gq,{className:em.BP,inputClassName:em.hF,value:e.x,...a,onValueChange:(e,t)=>{g.Y5.updateSelectionProperties({x:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:c.Pt(e,"xInput"),mixedMathCallback:E.nc.user("apply-mixed-method-for-vector-network",e=>{f.Egt.applyMixedMathForSelectedVectorNetwork(f._0v.X,e)})},r.createElement("span",{className:em.QK},(0,m.tx)("fullscreen.properties_panel.transform_panel.x"))),o=r.createElement(k.gq,{className:em.sC,inputClassName:em.hF,value:e.y,...a,onValueChange:(e,t)=>{g.Y5.updateSelectionProperties({y:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:c.Pt(e,"yInput"),mixedMathCallback:E.nc.user("apply-mixed-method-for-vector-network",e=>{f.Egt.applyMixedMathForSelectedVectorNetwork(f._0v.Y,e)})},r.createElement("span",{className:em.QK},(0,m.tx)("fullscreen.properties_panel.transform_panel.y"))),i=r.createElement(tB,{handleMirroring:e.handleMirroring,dispatch:e.dispatch,dropdownShown:e.dropdownShown,recordingKey:c.Pt(e,"mirroring"),isUI3:e.isUI3}),s=r.createElement(k.$j,{className:em.BP,inputClassName:em.hF,value:e.cornerRadius,...a,onValueChange:(e,t)=>{g.Y5.updateSelectionProperties({cornerRadius:e},{shouldCommit:t})},dispatch:e.dispatch,recordingKey:c.Pt(e,"cornerRadiusInput"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.corner_radius")},r.createElement(p.B,{className:em.QK,svg:tb.A}));return r.createElement(d.p,{name:"vector_transform_panel"},r.createElement(D.Zk,null,r.createElement(D.fI,null,r.createElement(D.xw,null,(0,m.tx)("fullscreen.properties_panel.transform_panel.vector"))),e.isUI3?r.createElement(r.Fragment,null,r.createElement(X.fn,{leftLabel:(0,m.tx)("fullscreen.properties_panel.section_vector.label_position"),leftInput:l,rightLabel:null,rightInput:o,icon:null}),r.createElement(X.DE,{label:(0,m.tx)("fullscreen.properties_panel.section_vector.label_mirroring"),input:i,icon:null}),r.createElement(X.fn,{leftLabel:(0,m.tx)("fullscreen.properties_panel.section_vector.label_radius"),leftInput:s,rightLabel:null,rightInput:null,icon:null})):r.createElement(r.Fragment,null,r.createElement(D.fI,null,l,o),r.createElement(D.fI,null,i),r.createElement(D.fI,null,s))))}class tF extends G.l6{}class tK extends G.c${}class tB extends r.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{switch(e){case"NONE":return(0,m.t)("fullscreen.properties_panel.transform_panel.no_mirroring");case"ANGLE":return(0,m.t)("fullscreen.properties_panel.transform_panel.mirror_angle");case"ANGLE_AND_LENGTH":return(0,m.t)("fullscreen.properties_panel.transform_panel.mirror_angle_and_length")}}},this.onChange=e=>g.Y5.updateSelectionProperties({handleMirroring:e})}render(){let e=this.props.isUI3?void 0:r.createElement(u.t,{svg:tT.A,fallbackSvg:tN.A});return r.createElement(tF,{id:"handle-mirroring-select",className:em.GC,inputClassName:em.i6,chevronClassName:em.r,property:this.props.handleMirroring,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,icon:e,iconClassName:em.jC},r.createElement(tK,{value:"NONE",recordingKey:c.Pt(this.props,"NONE")}),r.createElement(tK,{value:"ANGLE",recordingKey:c.Pt(this.props,"ANGLE")}),r.createElement(tK,{value:"ANGLE_AND_LENGTH",recordingKey:c.Pt(this.props,"ANGLE_AND_LENGTH")}))}}tB.displayName="HandleMirroring"},662294:(e,t,n)=>{n.d(t,{l:()=>I});var r=n(411855),a=n(905111),l=n(900638),o=n(674462),i=n(713649),s=n(271352),c=n(151736),d=n(921095),p=n(583080),u=n(186913),m=n(136769),_=n(368014),g=n(734919),f=n(153234),E=n(762638),h=n(939863),y=n(356390),v=n(227944),b=n(499777),w=n(498606),T=n(871642),N=n(939791),S=n(372717);function I(e){let t=(0,v.Zr)("align-left"),n=(0,v.Zr)("align-horizontal-center"),y=(0,v.Zr)("align-right"),b=(0,v.Zr)("align-top"),w=(0,v.Zr)("align-vertical-center"),I=(0,v.Zr)("align-bottom"),k=C(),[A,x]=(0,r.useState)(!1),R=(0,v.vm)(T.oW),P=A&&e.isHoveringOverPanel&&R,O=(0,r.useCallback)(e=>{x(e.altKey||e.shiftKey)},[]);(0,r.useEffect)(()=>{function e(){x(!1)}return document.addEventListener("keydown",O),document.addEventListener("keyup",O),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",O),document.removeEventListener("keyup",O),window.removeEventListener("blur",e)}},[O]);let D=r.createElement(S.t,{controls:P?[k("align-left-as-group",r.createElement(a.X,null),!0),k("align-horizontal-center-as-group",r.createElement(l.d,null),!0),k("align-right-as-group",r.createElement(o.s,null),!0)]:[k("align-left",r.createElement(i.K,null),t),k("align-horizontal-center",r.createElement(s.E,null),n),k("align-right",r.createElement(c.F,null),y)],recordingKey:f.Pt(e.recordingKey,"alignButton")}),L=r.createElement(S.t,{controls:P?[k("align-top-as-group",r.createElement(d.j,null),!0),k("align-vertical-center-as-group",r.createElement(p.V,null),!0),k("align-bottom-as-group",r.createElement(u.H,null),!0)]:[k("align-top",r.createElement(m.Q,null),b),k("align-vertical-center",r.createElement(_.O,null),w),k("align-bottom",r.createElement(g.u,null),I)],recordingKey:f.Pt(e.recordingKey,"alignButton")}),M=(0,v.yU)(T.Rg),F=r.createElement(T.gf,{actions:T.Rg,recordingKey:e.recordingKey});return e.inSlidesPanel?r.createElement("div",{className:E.cx.flex.p8.gap8.itemsCenter.$},r.createElement("div",{className:E.cx.flexGrow1.$},D),r.createElement("div",{className:E.cx.flexGrow1.$},L),r.createElement(T.gf,{actions:T.Rg,disabled:!M,recordingKey:e.recordingKey})):r.createElement(N.fn,{leftLabel:(0,h.tx)("fullscreen.properties_panel.section_position.label_alignment"),leftInput:D,rightLabel:null,rightInput:L,icon:M?F:null,"data-test-id":"alignPanel"})}let C=()=>{let e=(0,b.Xo)();return r.useCallback((t,n,r)=>({"aria-label":t,"data-tooltip":t,"data-tooltip-type":w.Ib.LOOKUP,children:n,disabled:!r,onMouseDown:t=>{e?.id.startsWith("paint")&&t.stopPropagation()},onClick:()=>{y.Y5.triggerActionInUserEditScope(t)},recordingKey:t}),[e])}},149988:(e,t,n)=>{n.d(t,{I:()=>m,g:()=>d});var r=n(411855),a=n(629019),l=n.n(a),o=n(522739),i=n(617453),s=n(100197),c=n(939791);let d=(0,r.forwardRef)(function({leftLabel:e,leftInput:t,rightLabel:n,rightInput:a,appendedClassName:o,...i},s){return r.createElement("div",{className:l()("ui3_slides_rows--ui3SlidesTwoInputRow--z1gLz ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",o),ref:s,...i,"data-non-interactive":!0},null!=e?r.createElement(p,null,e):null,r.createElement("div",{className:"ui3_slides_rows--ui3SlidesRowInput1--w4RUc","data-non-interactive":!0},t),null!=n?r.createElement(u,null,n):null,r.createElement("div",{className:"ui3_slides_rows--ui3SlidesRowInput2--YL2N7","data-non-interactive":!0},a))});function p({children:e,alwaysShowLabel:t}){return(0,s.J2)((0,i.UK)().showPropertyLabels)||t?r.createElement("span",{"aria-hidden":"true",className:"ui3_slides_rows--ui3SlidesRowLabelFirst--XzGgY ui3_rows--_ui3OrderedRowLabel--zh7nh ui3_rows--_ui3RowLabelBase--wNPq0","data-non-interactive":!0},e):r.createElement(c.my,null)}function u({children:e}){return(0,s.J2)((0,i.UK)().showPropertyLabels)?r.createElement("span",{"aria-hidden":"true",className:"ui3_slides_rows--ui3SlidesRowLabelSecond--AtE-a ui3_rows--_ui3OrderedRowLabel--zh7nh ui3_rows--_ui3RowLabelBase--wNPq0","data-non-interactive":!0},e):r.createElement(c.my,null)}let m=r.forwardRef(function({titleTx:e,input:t,...n},a){return r.createElement(o.D8,{className:"ui3_slides_rows--ui3SlidesTitleOneInputRow--BoS6b ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu ui3_panel_title_rows--ui3PanelTitleRow--yCUdQ",forwardedRef:a,...n,"data-non-interactive":!0},r.createElement("div",{className:"ui3_slides_rows--title--R-lB3"},r.createElement(c.Mw,null,e)),r.createElement("div",{className:"ui3_slides_rows--input--e7YnZ","data-non-interactive":!0},t))})},892109:(e,t,n)=>{n.d(t,{No:()=>o});var r=n(411855),a=n(629019),l=n.n(a);let o=(0,r.forwardRef)(function({label:e,input:t,...n},a){return r.createElement(i,{label:e,input:t,inputSize:"normal",...n,ref:a})});(0,r.forwardRef)(function({label:e,input:t,...n},a){return r.createElement(i,{label:e,input:t,inputSize:"small",...n,ref:a})}),(0,r.forwardRef)(function({label:e,input:t,...n},a){return r.createElement(i,{label:e,input:t,inputSize:"large",...n,ref:a})});let i=(0,r.forwardRef)(function({label:e,input:t,inputSize:n,...a},o){let i=l()({"ui3_inline_label_input_rows--ui3LabelInputRow--5r770 ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu":!0,"ui3_inline_label_input_rows--ui3LabelInputSmall--s82mn":"small"===n,"ui3_inline_label_input_rows--ui3LabelInputNormal--dBjze":"normal"===n,"ui3_inline_label_input_rows--ui3LabelInputLarge--GYw7P":"large"===n});return r.createElement("div",{className:i,ref:o,...a,"data-non-interactive":!0},r.createElement("div",{className:"ui3_inline_label_input_rows--ui3RowInlineLabel--UavwX","data-non-interactive":!0},e),r.createElement("div",{className:"ui3_inline_label_input_rows--ui3RowInput--E7ksx","data-non-interactive":!0},t))})},527793:(e,t,n)=>{n.d(t,{_i:()=>t0,nq:()=>t5});var r=n(411855),a=n(188507),l=n(535904),o=n(767129),i=n(527395),s=n(326331),c=n(313177),d=n(523679),p=n(31524),u=n(221768),m=n(139689),_=n(470370),g=n(629019),f=n.n(g),E=n(794272),h=n(646240),y=n(572174),v=n(153234),b=n(522739),w=n(96328),T=n(520581),N=n(347082),S=n(762638),I=n(939863),C=n(392592),k=n(934533),A=n(626217),x=n(103907),R=n(723081),P=n(798099),O=n(809831),D=n(356390),L=n(852800),M=n(662531),F=n(369870),K=n(848661),B=n(618056),V=n(555074),U=n(29680),H=n(335682),z=n(100197),G=n(234945),W=n(335691),Y=n(498606),X=n(121003),Z=n(273226),$=n(567488),j=n(224690),q=n(132572),J=n(853284),Q=n(157147),ee=n(753630),et=n(96796),en=n(776621),er=n(304783),ea=n(318812),el=n(720488),eo=n(227795),ei=n(841368),es=n(842700),ec=n(860601),ed=n(728325),ep=n(855418),eu=n(279145),em=n(405206),e_=n(212478),eg=n(206074),ef=n(334290),eE=n(724258);function eh(e){let t=(0,ea.BK)("UI3_PROPERTIES_TOOLBAR_OVEFLOW_DROPDOWN"),n=(0,a.wA)(),l=(0,r.useMemo)(()=>{let t=e.enabledToolbarItems.map(t=>t.map(t=>{var n;return t.type===Q.ZU.ACTION_SUBMENU?(n=e.recordingKey,0===t.items.length?null:1===t.items.length?ey(t.items[0],n):{displayText:t.getTitle(),icon:r.createElement("div",{className:eE.zc},t.icon),recordingKey:t.recordingKey,children:t.items.map(e=>ey(e,n))}):ey(t,e.recordingKey)}).filter(y.Vq));return t.reduce((e,n,r)=>(e=e.concat(n),r<t.length-1&&e.push({separator:!0,displayText:""}),e),[])},[e.enabledToolbarItems,e.recordingKey]),o=(0,r.useRef)(null),i=o.current?.getBoundingClientRect();return i||(t.showing&&(0,en.$D)(er.e.EDITOR_USABILITY,Error("UI3ToolbarOverflowMenu: dropdownBoundingRect is null")),i=new DOMRect(0,0,0,0)),r.createElement(r.Fragment,null,r.createElement(eo.YW,{recordingKey:v.Pt(e,"toggleOverflowMenu"),selected:t.showing,ref:o,"aria-label":(0,I.t)("fullscreen.properties_panel.tooltip_moreActions"),onClick:t.toggle,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.properties_panel.tooltip_moreActions")},r.createElement(ei.J,null)),t.showing&&r.createElement(eg.j,{recordingKey:"overflowMenuDropdown",dispatch:n,parentRect:i,onSelectItem:ec.lQ,showPoint:!1,items:l}))}function ey(e,t){return e.type===Q.ZU.CUSTOM_ACTION?{displayText:e.getTitle(),render:()=>r.createElement(eb,{item:e,key:e.recordingKey,recordingKey:t})}:{displayText:e.action,render:()=>r.createElement(ev,{item:e,key:e.recordingKey,recordingKey:t})}}function ev(e){let{item:t}=e,n=(0,a.d4)(G.nj),l=(0,a.d4)(e=>(0,ee.om)(t,e)),o=(0,eu.Yh)(n,t.action),i=("focus-mode-component-set-toggle"===t.action?ef.U4(o,l)?.tooltipProps?.["data-tooltip"]:null)??(0,e_.Jg)(t.action),s=(0,eu.c1)(n.keyboardShortcuts,t.action),c=ed.VU.get(t.action,"toolbar");return r.createElement(em.a1,{text:i,isEnabled:o,hideCheck:!0,isChecked:!1,onPointerUp:c,key:t.action,shortcut:s,recordingKey:v.Pt(e,t.recordingKey)},ep.bs(t.action)?.ui3Icon||r.createElement(es.V,null))}function eb(e){let{item:t,recordingKey:n}=e;return r.createElement(em.a1,{text:t.getTitle(),isEnabled:!0,hideCheck:!0,isChecked:!1,onClick:t.onClick,key:t.recordingKey,recordingKey:v.Pt(n,t.recordingKey)},t.icon)}var ew=n(144119);function eT(e){let t=(0,r.useRef)(null),n=(0,ea.BK)(e.flyoutConfig.dropdownKey),a=t.current?.getBoundingClientRect(),l=e.flyoutConfig.actions.map(t=>r.createElement(ev,{item:t,key:t.action,recordingKey:v.Pt(e.recordingKey,"flyout")}));a||(n.showing&&(0,en.$D)(er.e.EDITOR_USABILITY,Error("UI3MultiSelectFlyoutActions: dropdownBoundingRect is null")),a=new DOMRect(0,0,0,0));let o=(0,x.n6)(),i=e.flyoutConfig.actions[0];return r.createElement(r.Fragment,null,r.createElement("div",{className:"ui3_multiselect_flyout_actions--iconAndChevronContainer--zXnfO"},r.createElement(ee.QE,{key:i.recordingKey,item:i,numUnreadComments:o,recordingKey:v.Pt(e.recordingKey,"default")}),e.flyoutConfig.actions.length>1&&r.createElement(eo.YW,{recordingKey:v.Pt(e.recordingKey,"chevron"),className:"ui3_multiselect_flyout_actions--chevron--JPONb",selected:n.showing,ref:t,"aria-label":e.flyoutConfig.getTooltip(),onMouseDown:n.toggle,"data-tooltip-type":Y.Ib.TEXT,onClick:P.dG,"data-tooltip":e.flyoutConfig.getTooltip()},r.createElement(et.O,null))),n.showing&&r.createElement(el.Cf,{targetRect:a,showPoint:!1,propagateCloseClick:!0},l))}let eN=Symbol("uniqueSymbol"),eS={dropdownKey:"boolean_operations",getTooltip:()=>(0,I.t)("fullscreen.selection_actions.tooltip_boolean_operations"),actions:[Q.JR,Q.Ce,Q.hm,Q.h4,Q.zO],flyoutRecordingKey:"booleanFlyout",[eN]:"UnfilteredFlyoutConfig"};function eI(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected)??0,t=eC(),n=(0,ew.sO)();return e<2||n?[]:[eS].map(t).filter(Boolean).filter(e=>e&&e.actions.length>1)}let eC=()=>{let e=(0,ee.z2)(),t=(0,ee.PK)();return n=>{let r=n.actions.filter(n=>e(n)&&t(n));return 0===r.length?null:{...n,actions:r,[eN]:"FilteredFlyoutConfig"}}};var ek=n(37819),eA=n(974898),ex=n(872429),eR=n(755887),eP=n(738269),eO=n(601607),eD=n(559681),eL=n(452883),eM=n(352046);let eF="SLIDES_TEXT_STYLE_ACTIONS_DROPDOWN";function eK({rowRef:e,recordingKey:t}){let n=(0,a.wA)(),o=r.useRef(null),i=(0,a.d4)(e=>e.dropdownShown?.type===eF),s=(0,eL.$)(),c=(0,eD.Xo)(s),d=(0,eO.wA)((e,t)=>t.reduce((t,n)=>{let r=e.get(n);return r&&(t[n]=r.fontSize),t},{}),c.map(e=>e.node_id)),p=r.useCallback(e=>({displayText:e.name,sideText:d[e.node_id]?(0,I.t)("slides.properties_panel.text.style_description_font_size",{fontSize:(0,eR.z0)(d[e.node_id])}):void 0,callback:M.nc.user("replace-text-style",()=>{L.glU.updateExistingStyleFromSelection("inheritTextStyleKey",e.node_id)}),recordingKey:e.name}),[d]),u=(0,eM.o)(e),m=r.useMemo(()=>[{displayText:(0,I.t)("slides.properties_panel.text_style.replace_style"),children:[{displayText:(0,I.t)("slides.properties_panel.text_styles.styles"),header:!0},...c.map(p)],recordingKey:"replaceStyle"},{displayText:(0,I.t)("slides.properties_panel.text_style.add_new_style"),callback:u,recordingKey:"addToTheme"}],[c,p,u]);return r.createElement(r.Fragment,null,r.createElement(l.d,{"aria-label":(0,I.t)("slides.properties_panel.text_style.more_actions"),ref:o,toggled:i,onClick:()=>{i?n(eP.oB()):n(eP.j7({type:eF}))},recordingKey:t},r.createElement(ei.J,null)),i&&o.current&&r.createElement(eg.j,{dispatch:n,items:m,onSelectItem:e=>{e.callback&&e.callback()},showPoint:!1,lean:"right",openSubmenuToTheLeft:!0,parentRect:o.current?.getBoundingClientRect(),minWidth:208,recordingKey:v.Pt(t,"menu"),shouldUsePortal:!0}))}var eB=n(32067),eV=n(353822),eU=n(771768),eH=n(965908),ez=n(754369),eG=n(690122),eW=n(412297),eY=n(503359),eX=n(721478),eZ=n(151575),e$=n(914905),ej=n(7959),eq=n(538697),eJ=n(696008),eQ=n(690710),e0=n(238093),e1=n(559568),e5=n(893606),e2=n(340860),e7=n(468971),e4=n(939791);function e3(){let e=(0,e7.MO)();if(!e)return null;let{file_name:t,url:n}=e;return r.createElement(e4.Ad,{appendedClassName:"ui3_fragment_community_attribution--ui3DescriptionRow--sAQFO",label:null,input:r.createElement("a",{href:n,className:"ui3_fragment_community_attribution--ui3DescriptionButton--aLiCP",target:"_blank",rel:"noopener noreferrer"},r.createElement(e2.N,null),r.createElement("div",{className:"ui3_fragment_community_attribution--ui3DescriptionText--B0-1J ellipsis--ellipsis--Tjyfa"},t))})}var e8=n(421757),e6=n(239671),e9=n(636227),te=n(72754),tt=n(266294);function tn(){let e=(0,e9.Z)(),t=(0,a.wA)(),n=(0,a.d4)(e=>e.openFile),l=(0,a.d4)(e=>e.fileVersion),o=(0,a.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.editorType===e6.nT.Design),i=(0,eB.O1)(),s=(null==i?void 0:i.length)===1&&"SYMBOL"===i[0].type;return(0,te.A)().length&&o&&e&&!s?r.createElement(e4.Ad,{appendedClassName:S.cx.pt4.$,label:null,input:r.createElement(e8.IK,{variant:"secondary",onClick:()=>{n&&(0,tt.f)(n,l).then(e=>{(0,tt.P)(t,e)})}},(0,I.t)("slides.general.copy_to_figma_slides"))}):null}var tr=n(503429),ta=n(328849),tl=n(358145),to=n(966712),ti=n(374626),ts=n(719624),tc=n(52339),td=n(877822),tp=n(572206),tu=n(799569),tm=n(946689),t_=n(278733),tg=n(896474);function tf(e,t){let{numCols:n,wrapType:a}=t,l=(0,r.useCallback)((e,t)=>{if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key))return;let r=Array.from(t.children),l=r.findIndex(e=>e===document.activeElement);if(-1===l)return;let o=Math.ceil(r.length/n),i=r[function(e,t,n,r,a){let l=Math.floor(t/r),o=t%r;switch(e){case"ArrowUp":-1==--l&&"sameRowOrCol"===a&&(l=n-1);break;case"ArrowDown":++l===n&&"sameRowOrCol"===a&&(l=0);break;case"ArrowRight":++o===r&&("sameRowOrCol"===a?o=0:"nextRow"===a&&(o=0,++l===n&&(l=0)));break;case"ArrowLeft":-1==--o&&("sameRowOrCol"===a?o=r-1:"nextRow"===a&&(o=r-1,-1==--l&&(l=n-1)))}return l=Math.max(0,Math.min(n-1,l)),o=Math.max(0,Math.min(r-1,o)),l*r+o}(e.key,l,o,n,a)];i instanceof HTMLElement&&i.focus()},[n,a]);(0,r.useEffect)(()=>{let t=e.current;if(!t)return;let n=e=>l(e,t);return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[e,l])}var tE=n(499777),th=n(222478),ty=n(709731),tv=n(921717),tb=n(384775),tw=n(670652),tT=n(746806),tN=n(141273),tS=n(67048),tI=n(773912);let tC=2/3,tk={executive:{localizedText:(0,I.tx)("slides.properties_panel.rewrite_text.tone_executive"),position:[-tC,tC],trackingText:"Executive"},technical:{localizedText:(0,I.tx)("slides.properties_panel.rewrite_text.tone_technical"),position:[tC,tC],trackingText:"Technical"},basic:{localizedText:(0,I.tx)("slides.properties_panel.rewrite_text.tone_basic"),position:[-tC,-tC],trackingText:"Basic"},educational:{localizedText:(0,I.tx)("slides.properties_panel.rewrite_text.tone_educational"),position:[tC,-tC],trackingText:"Educational"}};var tA=n(60656),tx=n(156182),tR=n(263086),tP=n(998917);function tO(e){let{onClick:t,toggled:n,children:a}=e;return r.createElement(tP.E,{className:f()("slides_rewrite_toggle_button--presetButton--5vrax utilities--bodyMedium--7-YGK",{"slides_rewrite_toggle_button--toggled--HPAli":n}),onClick:t},a)}var tD=n(992739),tL=n(424950);let tM="slides_rewrite_tone_dial--grid--BdFH2",tF="slides_rewrite_tone_dial--layerOverlay--of9-9";function tK(){return r.createElement("div",{className:"slides_rewrite_tone_dial--container--exlMg"},r.createElement(tB,null),r.createElement(tH,null),r.createElement(tz,null))}function tB(){let{setPositionAndRun:e}=(0,r.useContext)(tA.u),t=(0,r.useRef)(null);tf(t,{numCols:3});let n=(0,r.useCallback)((n,r)=>{if(!t.current)return;let{clientX:a,clientY:l}=n;e(a&&l?(0,tL.fp)(a,l,t.current.getBoundingClientRect()):r,{source:"grid_click"})},[e]),a=(0,r.useMemo)(()=>[{pos:[-1,1],label:(0,I.t)("slides.properties_panel.rewrite_text.tone_professional_concise")},{pos:[0,1],label:(0,I.t)("slides.properties_panel.rewrite_text.tone_professional")},{pos:[1,1],label:(0,I.t)("slides.properties_panel.rewrite_text.tone_professional_expanded")},{pos:[-1,0],label:(0,I.t)("slides.properties_panel.rewrite_text.tone_concise")},{pos:[0,0],label:(0,I.t)("slides.properties_panel.rewrite_text.reset")},{pos:[1,0],label:(0,I.t)("slides.properties_panel.rewrite_text.tone_expanded")},{pos:[-1,-1],label:(0,I.t)("slides.properties_panel.rewrite_text.tone_casual_concise")},{pos:[0,-1],label:(0,I.t)("slides.properties_panel.rewrite_text.tone_casual")},{pos:[1,-1],label:(0,I.t)("slides.properties_panel.rewrite_text.tone_casual_expanded")}].map(({pos:[e,t],label:a})=>{let l=`(${e},${t})`,o=[e*tC,t*tC],i=0===e&&0===t?tV:tU;return r.createElement(i,{key:l,onClick:e=>n(e,o),ariaLabel:a})}),[n]);return(0,r.useEffect)(()=>{t.current?.focus()},[]),r.createElement("div",{className:f()(tM,"slides_rewrite_tone_dial--gridLayer--mhWQF"),ref:t,tabIndex:-1,"aria-label":(0,I.t)("slides.properties_panel.rewrite_text.tone_grid"),role:"group"},a)}function tV(e){let[t,n]=(0,r.useState)(!1),{tonePosition:a}=(0,r.useContext)(tA.u),[l,o]=a,{state:i}=(0,ty.wj)(th.JT.SLIDES_REWRITE_TEXT),s=(0,tl.ZC)(i),c=Math.abs(l)<tL.fm&&Math.abs(o)<tL.fm;(0,r.useEffect)(()=>{i===ty.qy.INITIAL?n(!1):s===ty.qy.RUNNING&&i!==ty.qy.RUNNING&&n(!0)},[s,i]);let d=t&&{"aria-label":(0,I.t)("slides.properties_panel.rewrite_text.reset"),"data-tooltip":(0,I.t)("slides.properties_panel.rewrite_text.reset"),"data-tooltip-type":"text","data-tooltip-offset-y":20,"data-tooltip-show-above":!0};return r.createElement(tU,{...e,...d},r.createElement(tD.m,{className:f()("slides_rewrite_tone_dial--resetIcon--RMSRg",{"slides_rewrite_tone_dial--hovering---Zuqf":c,"slides_rewrite_tone_dial--visible--oHQ3n":t})}))}function tU(e){let{ariaLabel:t,...n}=e;return r.createElement("button",{className:"slides_rewrite_tone_dial--gridCell--NBFxs","aria-label":t,...n})}function tH(){let{tonePosition:e}=(0,r.useContext)(tA.u),[t,n]=e,a="ja"===(0,to.mm)()[0],l=n>tL.fm,o=t>tL.fm,i=n<-tL.fm,s=t<-tL.fm,c=(e,t,n)=>f()("slides_rewrite_tone_dial--label--7p8gg",e,{"slides_rewrite_tone_dial--highlighted--2uaO1":t,"slides_rewrite_tone_dial--japaneseLeftLabel--9UVf2":n});return r.createElement("div",{className:f()(tM,tF),"aria-hidden":!0},r.createElement("div",{className:c("slides_rewrite_tone_dial--top--Gmg5H",l)},(0,I.tx)("slides.properties_panel.rewrite_text.tone_professional")),r.createElement("div",{className:c("slides_rewrite_tone_dial--right--mSpd2",o)},(0,I.tx)("slides.properties_panel.rewrite_text.tone_expanded")),r.createElement("div",{className:c("slides_rewrite_tone_dial--bottom--ST24k",i)},(0,I.tx)("slides.properties_panel.rewrite_text.tone_casual")),r.createElement("div",{className:c("slides_rewrite_tone_dial--left--rkVeC",s,a)},(0,I.tx)("slides.properties_panel.rewrite_text.tone_concise")))}function tz(){let{tonePosition:e}=(0,r.useContext)(tA.u),t=(0,r.useRef)(null),{onMouseDown:n,isDragging:a}=(0,tL.uG)(t),l=(0,r.useMemo)(()=>{let[t,n]=e.map(e=>(e+1)/2).map(e=>`${100*e}%`);return{left:t,bottom:n}},[e]);return r.createElement("div",{className:tF,ref:t,"aria-hidden":!0},r.createElement("button",{className:f()("slides_rewrite_tone_dial--dial--o-ejL",{"slides_rewrite_tone_dial--dragging--N345O":a}),style:l,onMouseDown:n,tabIndex:-1}))}let tG=(0,r.memo)(function({onClose:e}){let t=(0,ti.md)(tE.F),n=new tp.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY),a=(0,r.useRef)(null);return(0,r.useEffect)(()=>()=>{(0,ty.B3)(th.JT.SLIDES_REWRITE_TEXT)},[]),(0,tL.wi)(a,e),r.createElement(tT.vx,{initialPosition:n,initialWidth:240,onClose:e,ref:a},r.createElement(tW,{onClose:e}),r.createElement(tY,null))});function tW(e){let{onClose:t}=e;return r.createElement("div",{className:S.cx.flex.gap8.itemsCenter.p8.pl16.bb1.bSolid.colorBorder.$},r.createElement("div",{className:S.cx.textBodyMediumStrong.flex1.$},(0,I.tx)("slides.properties_panel.rewrite_text.adjust_tone")),r.createElement(tS.G,{location:"SLIDES_REWRITE_MODAL"}),r.createElement(tu.Jn,{onClick:t}))}let tY=(0,r.memo)(function(){let[e,t]=(0,r.useState)(()=>[0,0]),[n,a]=(0,r.useState)(()=>e),{originalNodeInfos:l,saveOriginalNodeInfos:o,resetOriginalNodeInfos:i,revertNodeToOriginalNodeInfo:s}=(0,tL.cR)(),{slidesTextResizeCallback:c}=(0,tR.DX)(th.JT.SLIDES_REWRITE_TEXT),{shiftAllNodesOutOfSlideMargins:d,resetShiftedNodes:p,resetNodePositionMap:u}=(0,tR.eX)(),m=(0,tR.FT)(s,d,c),_=(0,r.useCallback)(()=>{t(n)},[n]),g=(0,r.useCallback)(({tones:e})=>{a((0,tL.JU)(e))},[]),{enqueueRun:f,lastParameters:E,longRunningAction:h,cancel:y}=(0,tL.h$)(o,m,_,g),v=(0,r.useCallback)(()=>{E&&(t((0,tL.JU)(E.tones)),f(E))},[f,E]);(0,tL.Os)(v),(0,tL.h2)(h.state,()=>{i(),u(),t([0,0]),a([0,0]),(0,ty.B3)(th.JT.SLIDES_REWRITE_TEXT)}),(0,tL.Jp)(h.state);let b=(0,r.useCallback)((e,n)=>{t(e);let r=(0,tL.p$)(e);if(h.state===ty.qy.RUNNING&&y(),!(null==r?void 0:r.length)){(0,tL.Cw)(l,s),p(),u(),t([0,0]),a([0,0]),(0,ty.B3)(th.JT.SLIDES_REWRITE_TEXT),(0,tx.G)({eventName:"reset",source:n.source});return}f({tones:r}),(0,tx.G)({eventName:"ran_rewrite",tones:r.map(e=>e.tone).join(", "),source:n.source,preset:n.preset})},[y,f,h.state,l,u,p,s]),w=(0,r.useMemo)(()=>({tonePosition:e,setTonePosition:t,setPositionAndRun:b}),[b,e]);return r.createElement("div",{className:S.cx.flex.flexColumn.gap16.p16.$},r.createElement(tA.u.Provider,{value:w},r.createElement(tK,null),r.createElement(tX,null),r.createElement(tZ,null)))});function tX(){let{tonePosition:e,setPositionAndRun:t}=(0,r.useContext)(tA.u),n=(0,ti.md)((0,ts.iV)(tv.S.REWRITE)),l=(0,a.wA)(),i=r.useRef(null);tf(i,{numCols:2});let s=(0,td.AY)(ts.YH),c=n=>{let{localizedText:l,position:o,trackingText:i}=tk[n],s=(0,tL.cx)(o),c=(0,a.bN)(e,s);return r.createElement(tO,{toggled:c,onClick:()=>t(s,{source:"preset",preset:i})},l)},d=(0,tN.II)(),p=(0,to.kc)().figjam_ai_piper_action_transitions&&(0,to.kc)().qa_text_features&&d;return r.createElement("div",null,r.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.mb16.textBodyMedium.colorTextSecondary.$},p?(0,I.tx)("slides.properties_panel.rewrite_text.or_pick_a_preset_or_rewrite"):(0,I.tx)("slides.properties_panel.rewrite_text.or_pick_a_preset"),p&&r.createElement(o.K,{"aria-label":(0,I.t)("slides.properties_panel.rewrite_text.rewrite_redirect"),onClick:()=>{n||(s(),(0,tb.$I)({moduleToOpen:{type:"custom",module:r.createElement(tw.w,null),name:tv.S.REWRITE,beforeModuleOpen:()=>{(0,ty.B3)(th.JT.REWRITE_TEXT)}},trackingData:{source:"slides_adjust_tone_rewrite_view"}})),(0,tL.o$)(l)},htmlAttributes:{"data-tooltip":(0,I.t)("slides.properties_panel.rewrite_text.rewrite_redirect"),"data-tooltip-type":"text","data-tooltip-show-above":!0}},r.createElement(tc.T,null))),r.createElement("div",{ref:i,className:S.cx.grid.gap8.gridTemplateColumns2.gridTemplateRows2.$,"aria-label":(0,I.t)("slides.properties_panel.rewrite_text.tone_presets"),role:"group"},c("executive"),c("technical"),c("basic"),c("educational")))}function tZ(){return r.createElement("div",{className:S.cx.textBodySmall.colorTextSecondary.fontNormal.overflowBreakWord.$},(0,I.tx)("whiteboard.ai_modal.disclaimer"),r.createElement(tm.Us,{trusted:!0,href:tI.nG,className:f()(S.cx.inlineBlock.cursorDefault.$,"slides_rewrite_modal--disclaimerLink--a2jK5"),style:t_.sx.add({verticalAlign:"bottom"}).$,target:"_blank","data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,I.t)("whiteboard.ai_modal.learn_more"),"aria-label":(0,I.t)("whiteboard.ai_modal.learn_more"),innerText:"learn more"},r.createElement(tg.In,{icon:"info-16",fill:"secondary"})))}function t$(){let e=(0,a.wA)(),t=tj(),n=(0,r.useCallback)(()=>{(0,tL.o$)(e)},[e]);return t?r.createElement(tG,{onClose:n}):null}function tj(){return(0,ti.md)(tL.Tm)}var tq=n(641160);let tJ="toolbarView",tQ=new R.J;function t0({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t,shouldShowSlidesTypePanel:n,recordingKey:l}){let o=(0,e5.R)(e5.G.READY),i=(0,z.J2)(L.Ez5.editorState().selectionEmpty),s=(0,A.s)(!1),c=(0,r.useRef)(null),d=(0,h.Xr)(e$.h);(0,r.useEffect)(()=>{d(c)},[d]);let p=(0,r.useRef)(null),u=t2(c,e,p),m=eI(),_=t4(u,c),g=(0,V.kl)("containsResponsiveSets"),y=(0,r.useRef)(null),I=t6({shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e}),C=function(){let e=(0,eB.O1)();return!e||e.length<=1||[new Set(["VECTOR","STAR","LINE","ELLIPSE","RECTANGLE","REGULAR_POLYGON","ROUNDED_RECTANGLE"])].some(t=>e.every(e=>t.has(e.type)))||e.every(t=>t.type===e[0].type)}(),k=nr(),R=function(e,t){var n;let a=(0,ew.sO)(),l=(0,z.J2)(null==(n=L.Ez5)?void 0:n.slidesToolMode()),o=a&&l===L.EMA.SLIDES,{inheritTextStyleKey:i,styleIdForText:s}=(0,E.R)(e=>({inheritTextStyleKey:e.mirror.selectionProperties.inheritTextStyleKey||null,styleIdForText:e.mirror.selectionProperties.styleIdForText||null})),c=(0,e0.WH)(i,s,"TEXT"),d=(0,K.hS)(s)&&null===c;return o&&d?r.createElement(eK,{rowRef:e,recordingKey:v.Pt(t,"moreButton")}):null}(y,l),P=nt(e),D=[],M=[],B=!1;if(C){let e=2===k?2:3,t=Math.max(1,(e=P?e+1:e)-M.length);D=(B=(M=m).length>0||_.length>t)?_.slice(0,t-1):_}else B=_.length>0;let{topLevelMode:G,editMode:W}=(0,E.R)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),Y=(0,a.d4)(e=>{let t=e.modalShown;return(null==t?void 0:t.type)===eA.e}),X=(0,H.q5)(),Z=(0,U.aV)(),$=(0,F.ck)(),j=(0,ew.sO)(),et=(0,ex.cJ)(),en=W===L.m1T.COMMENTS||W===L.m1T.PREVIEW||W===L.m1T.BRANCHING||G===L.lyf.HISTORY||G===L.lyf.PREVIEW||G===L.lyf.DEV_HANDOFF||G===L.lyf.BRANCHING,er=(0,O.ow)(),ea=!!(null==X?void 0:X.isTryFile)&&!Y&&!Z&&$,el=(0,x.n6)(),{count:eo,node:ei}=t3(),es=(0,O.Em)(),ec=(0,J.V)()&&(0,q.Xk)()&&es&&"FRAME"===I;if(!(!(!Y&&(er||i||en||Z)&&!s)&&!er&&!ea)||0===u.length&&!(j||et))return null;let ed=n?R:B&&r.createElement(T.E,{name:"layer_overflow_menu_button"},r.createElement("div",{ref:p},r.createElement(eh,{enabledToolbarItems:u,recordingKey:v.Pt(l,"UI3ToolbarOverflowMenu")})));return r.createElement(N.p,{name:"layer_header_bar"},r.createElement(ej.Zk,{forwardedRef:c,"data-testid":"property-panel-toolbar",className:f()(tq.rq,{[tq.$L]:"INSTANCE"===I||"SYMBOL"===I||n})},r.createElement(b.D8,{"data-non-interactive":!0,recordingKey:"toolbar",className:f()(tq.mp,S.cx.flex.alignLeft.borderBox.itemsCenter.h24.$,S.cx.pl8.pr8.gap8.$)},r.createElement("div",{className:S.cx.hFull.flexGrow1.flex.itemsCenter.minW0.$,"data-non-interactive":!0},o&&r.createElement(t9,{panelTitleRef:y,selectedNodeCount:eo,node:ei,shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e})),!g&&r.createElement("div",{"data-non-interactive":!0,className:f()(tq.gF,{[tq.ek]:!["INSTANCE","FRAME"].includes(I)})},j&&r.createElement(ek.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),D.map(e=>e.type===Q.ZU.ACTION?r.createElement(T.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,w.uc)(e.action)}`})},r.createElement(ee.QE,{item:e,numUnreadComments:el,recordingKey:l})):r.createElement(no,{key:e.recordingKey,item:e})),M.map(e=>r.createElement(T.E,{key:e.dropdownKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`open_flyout_${(0,w.uc)(e.dropdownKey)}`})},r.createElement(eT,{flyoutConfig:e,recordingKey:v.Pt(tJ,e.flyoutRecordingKey)}))),ed,_.map((e,t)=>e.type===Q.ZU.CUSTOM_ACTION&&"isSelected"in e&&"dropdown"in e&&"dropdownTargetButtonRef"in e?r.createElement("div",{key:t},e.dropdown):null))),ec&&r.createElement(e3,null),r.createElement(T.E,{name:"layer_component_panel_button"},r.createElement(t1,null)),r.createElement(nl,null),r.createElement(tn,null),r.createElement(t$,null)))}function t1(){let e=(0,a.d4)(e=>(0,eQ._7)(e)),{stateGroupSelectionMode:t,containingProductComponent:n}=(0,eH.z6)();return(0,z.J2)(L.Ez5.propertiesPanelState().shownPropertiesPanels)[L.ibQ.COMPONENT_ITEM]&&!n&&t===L.iCO.NON_STATE_COMPONENTS&&e>1?r.createElement("div",{"data-non-interactive":!0,className:S.cx.pt8.pb4.$},r.createElement(eJ.K,{recordingKey:"createStateGroup"})):null}function t5(){let e=(0,ee.z2)(),t=(0,ee.PK)();function n(n){return n.type===Q.ZU.CUSTOM_ACTION||e(n)&&t(n)}return{getMaybeEnabledItem:function(e){return n(e)?e:null},getMaybeSubmenuWithEnabledItems:function(e){let{items:t,...r}=e,a=t.filter(n);return a.length>0?{...r,items:a}:null}}}let t2=(e,t,n)=>{var l;let{getMaybeEnabledItem:o,getMaybeSubmenuWithEnabledItems:i}=t5(),s=function(){let e=t7();return{type:Q.ZU.ACTION_SUBMENU,getTitle:()=>(0,I.t)("fullscreen.properties_panel.layer_header.reset_submenu"),icon:r.createElement(_.N,null),recordingKey:"resetSubmenu",items:[...(0,Q.GP)(),...e]}}(),u=function(){let e=(0,a.d4)(e=>e.mirror.selectionProperties),t=(0,a.d4)(G.dT),{onlyInstances:n,onlyInstanceSublayers:r}=(0,eG.p)(t),l=(0,eZ.f)(t);if(!((e.pasteSources||[]).length>0)&&l&&!l.disabled&&(n||r))return{type:Q.ZU.CUSTOM_ACTION,onClick:l.onMouseDown,icon:l.ui3Icon,getTitle:()=>l.dataTooltip,recordingKey:"ui3_toolbar_go_to_original_component"}}(),g=function(e,t){let n=r.useRef(null),l=(0,a.d4)(G.dT),o=(0,eX._B)(l),i=(0,$.Yc)(W.R.OVERRIDDEN_SYMBOL_ID,l),s=(0,$.m)(W.R.OVERRIDDEN_SYMBOL_ID),d=(0,$.oX)(W.R.OVERRIDDEN_SYMBOL_ID,n.current?n:t,o),p=(0,$.MB)(W.R.OVERRIDDEN_SYMBOL_ID);if(e&&!i)return{type:Q.ZU.CUSTOM_ACTION,onClick:d,icon:r.createElement(c.V,null),getTitle:()=>s,recordingKey:"ui3_toolbar_apply_instance_swap_prop_ref",isSelected:p,dropdownTargetButtonRef:n,dropdown:r.createElement(X.Xn,{source:Z.Fv.ICON,nodeField:W.R.OVERRIDDEN_SYMBOL_ID,defaultValue:o})}}(t,n),f=function(e,t){let n=r.useRef(null),l=(0,a.d4)(G.dT),o=nt(e),i=(0,eW.sQ)(l),{toggleDropdown:s,dropdownShown:c}=(0,eW.iT)(l);if(!o)return;let p="ui3_toolbar_toggleInstanceOptionDropdown."+l.join("-");return{type:Q.ZU.CUSTOM_ACTION,onClick:s,icon:r.createElement("span",{className:tq.IU},r.createElement(d.o,null)),getTitle:()=>(0,I.t)("design_systems.instance_panel.update_available"),recordingKey:p,isSelected:c,dropdownTargetButtonRef:n,dropdown:r.createElement(eW.PM,{targetRef:n.current?n:t,instanceDropdownOptions:i,recordingKey:"ui3_toolbar_instanceNeedsUpdateDropdown",dropdownShown:c})}}(t,n),E=function(){let e=(0,a.d4)(G.dT),{restoreType:t}=(0,ez.$)(e);if("SYMBOL_AS_STATE"===t)return{type:Q.ZU.CUSTOM_ACTION,getTitle:()=>(0,I.t)("design_systems.instance_panel.restore_variant"),recordingKey:"restoreVariant",icon:r.createElement(p.y,null),onClick:()=>D.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")}}(),h=function(){let e=tj(),t=(0,ew.sO)(),n=(0,tL.Ne)(),l=(0,a.wA)();if(function(){let e=(0,a.wA)(),t=tj(),n=(0,tL.Ne)(),l=(0,r.useCallback)(()=>(0,tL.o$)(e),[e]),o=(0,ti.md)(ts.YH).length>0,i=(0,tl.ZC)(o),s=o&&!i;(0,r.useEffect)(()=>{t&&(s||!n)&&l()},[s,n,t,l]),(0,r.useEffect)(()=>()=>{t&&l()},[t,l])}(),t&&n)return{type:Q.ZU.CUSTOM_ACTION,onClick:()=>(0,tL.mD)(l,{source:"panel_entrypoint",toggle:!0}),icon:(0,to.kc)().slides_10_launch_tone_dial_update?r.createElement(tr.s,null):r.createElement(ta.V,null),isSelected:e,getTitle:()=>(0,I.t)("slides.properties_panel.rewrite_text.adjust_tone"),recordingKey:"rewriteText"}}(),v=function(){var e;let t=(0,a.wA)(),n=(0,ew.sO)(),l=(0,z.J2)(null==(e=L.Ez5)?void 0:e.slidesToolMode()),o=n&&l===L.EMA.SLIDES,i=!!(0,a.d4)(e=>e.mirror.selectionProperties).propertiesPanelShouldShowRemoveAutoLayout;if(o&&i)return{type:Q.ZU.CUSTOM_ACTION,onClick:()=>{D.Y5.triggerActionInUserEditScope("ungroup-selection"),t(C.F.enqueue({icon:k.zX.STACK_SELECTION,type:"slides_remove_auto_layout_via_ungroup",messageComponentKey:k.Rw.SLIDES_REMOVE_AUTO_LAYOUT,onDismiss:()=>{}}))},icon:r.createElement(m.A,null),isSelected:!1,getTitle:()=>(0,I.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"),recordingKey:"autoLayout"}}(),b=(0,ew.sO)(),w=(0,z.J2)(null==(l=L.Ez5)?void 0:l.slidesToolMode()),T=b&&w===L.EMA.SLIDES,N=(0,ex.cJ)(),S=(0,V.kl)("containsSitesLayouts"),A=N&&!!S;return(0,r.useMemo)(()=>(0,Q.JQ)(s,u,g,f,E,h,v,T,A).map(e=>e.map(e=>e.type===Q.ZU.ACTION_SUBMENU?i(e):o(e)).filter(y.Vq)).filter(e=>e&&e.length>0),[s,u,g,f,E,h,v,T,A,i,o])},t7=()=>{let e=r.useMemo(j.$H,[]),t=(0,a.d4)(t=>e(t,(0,G.rT)(Object.keys(t.mirror.sceneGraphSelection),t.mirror.sceneGraph))),n=[];for(let e in t)for(let a in t[e]){let l=t[e][a];n.push({type:Q.ZU.CUSTOM_ACTION,onClick:()=>M.l7.user("reset-prop-assignments",()=>L.glU.resetComponentPropAssignmentForInstances(l.instanceGUIDs,a)),icon:r.createElement(i.$,null),getTitle:()=>(0,I.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:l.name}),recordingKey:`reset_property_assignment_${l.name}`})}return n},t4=(e,t)=>{let n=[function(e){let{pickerShown:t}=(0,eH.z6)(),n=(0,eH.h$)(e);if(na())return{type:Q.ZU.CUSTOM_ACTION,onClick:n,icon:r.createElement(u.A,null),isSelected:(null==t?void 0:t.id)===eU.Wv,getTitle:()=>(0,I.t)("design_systems.component_panel.component_controls"),recordingKey:"componentControls"}}(t)].filter(y.Vq),a=eI().flatMap(e=>e.actions.map(e=>e.action)),l=nr();return[...n,...e.flat().flatMap(e=>e.type===Q.ZU.ACTION_SUBMENU?e.items:e).filter(e=>e.type===Q.ZU.CUSTOM_ACTION||!(a.includes(e.action)||0!==l&&Q.Nu.includes(e.action)))]};function t3(){let e=(0,ex.cJ)(),t=(0,z.J2)(L.Ez5.uiState().focusModeState),n=(0,eB.O1)();if(!n||0===n.length)return{type:null,count:0,node:null};if(1===n.length)return{type:n[0].type,count:1,node:n[0]};if(2===n.length){let e=n.find(e=>"TEXT"===e.type),t=n.find(e=>"SHAPE_WITH_TEXT"===e.type);if(e&&t)return{type:"TEXT",count:1,node:e}}let r=!1,a=null,l=n[0].type;if(e&&t===L.xc1.RESPONSIVE_SET)for(let e of(r=!0,n)){if(e.type!==l){r=!1;break}e.isPrimaryResponsiveNode&&(a=e)}return r?{type:l,count:n.length,node:a||n[0]}:n.every(e=>["FRAME","SECTION","GROUP"].includes(e.type))?{type:"MIXED_FRAME_SECTION_GROUP",count:n.length,node:null}:{type:"MIXED",count:n.length,node:null}}function t8({panelTitleRef:e}){let t=(0,a.d4)(G.dT),n=(0,eY.Q)(t);return r.createElement("div",{ref:e,className:S.cx.maxWFull.$},r.createElement(eX.bj,{pickerButtonTextOverridesClassName:S.cx.pl8.maxWFull.minW0.flexGrow1.ellipsis.noWrap.overflowHidden.textBodyLargeStrong.$,panelTitleRef:e,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:n,recordingKey:"instance-panel-ui3-layer-header",panelTitleOverridesClassName:tq.s5,flushLeft:!0,dropdownIdPrefix:"selection-actions-instance-swap-picker",shouldHideInstanceIcon:!0,chevronOverride:r.createElement("div",{className:S.cx.flexShrink0.$},r.createElement(s.r,null))}))}function t6({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t}){let{type:n,count:r}=t3();return n?e?"INSTANCE":t&&1===r?"SYMBOL":n:null}function t9({selectedNodeCount:e,node:t,shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:a,panelTitleRef:l}){let o=(0,ex.cJ)(),i=(0,ew.sO)(),c=t6({shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:a});switch(c){case null:return null;case"MIXED":return r.createElement("div",{ref:l,className:tq.Zp},r.createElement("span",null,(0,I.t)("fullscreen.properties_panel.layer_header.node_type_multiple_selected",{count:e})));case"MIXED_FRAME_SECTION_GROUP":case"SECTION":case"GROUP":case"FRAME":if(t&&t.isResponsiveNode)return r.createElement(ne,{node:t,nodeTypeStringToDisplay:(0,I.tx)("sites.panel.toolbar_header.layout"),panelTitleRef:l});if(o||i){if("MIXED_FRAME_SECTION_GROUP"===c)return r.createElement("div",{ref:l,className:tq.Zp},r.createElement("span",null,(0,I.t)("fullscreen.properties_panel.layer_header.node_type_multiple_selected",{count:e})));return t?r.createElement(ne,{node:t,panelTitleRef:l}):null}return r.createElement("div",{className:S.cx.inlineFlex.$},r.createElement(eq.tV,{value:{chevron:()=>r.createElement(s.r,{className:tq.yc})}},r.createElement(e1.vG,{id:"selection-actions-frame-preset-dropdown",selectClassName:tq.T0,inputClassName:tq.gv,recordingKey:"transformPanel.framePresetDropdown"})));case"RESPONSIVE_SET":return t?r.createElement(ne,{node:t,nodeTypeStringToDisplay:(0,I.tx)("sites.panel.toolbar_header.webpage"),panelTitleRef:l}):null;case"SYMBOL":return r.createElement(eH.RV,{alwaysShowParentComponent:!0,unfocusedInputOverridesClassName:tq.I1,focusedInputOverridesClassName:tq.j6,shouldHideComponentIcon:!0});case"INSTANCE":return r.createElement(t8,{panelTitleRef:l});default:return t?r.createElement(ne,{node:t,panelTitleRef:l}):null}}function ne({node:e,nodeTypeStringToDisplay:t,panelTitleRef:n}){let a=n.current,l=!!a&&a.offsetWidth<a.scrollWidth,[o]=(0,V.lJ)("leftEndCap"),[i]=(0,V.lJ)("rightEndCap"),s=(0,K.hS)(o)?o:void 0,c=(0,K.hS)(i)?i:void 0,d=(0,ew.sO)(),p=t||function(e,t,n,r){switch(e.type){case"ELLIPSE":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_ellipse");case"LINE":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_line");case"REGULAR_POLYGON":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_polygon");case"RECTANGLE":case"ROUNDED_RECTANGLE":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_rectangle");case"SECTION":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_section");case"SLICE":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_slice");case"STAR":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_star");case"TEXT":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_text");case"VECTOR":if((0,B.wQ)(t)||(0,B.wQ)(n))return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_arrow");return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_vector_path");case"SLIDE":return e.isSkippedSlide?(0,I.t)("fullscreen.properties_panel.layer_header.node_type_slide_skipped"):(0,I.t)("fullscreen.properties_panel.layer_header.node_type_slide",{slideNumber:e.name});case"INTERACTIVE_SLIDE_ELEMENT":return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_interactive_slide_element");case"SHAPE_WITH_TEXT":return tQ.format(e.shapeWithTextType);case"FRAME":if(r){if("NONE"!==e.stackMode)return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_frame_auto_layout");if(e.isGroup)return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_group");return(0,I.t)("fullscreen.properties_panel.layer_header.node_type_frame")}return e.name;default:return e.name}}(e,s,c,d);return r.createElement("div",{ref:n,className:tq.aj,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":l?p:void 0},p)}function nt(e){let t=(0,a.d4)(G.dT),{needsUpdate:n}=(0,eW.vr)(t);return n&&e}var nn=(e=>(e[e.NO_SELECTIONS_ARE_INSTANCES=0]="NO_SELECTIONS_ARE_INSTANCES",e[e.SOME_SELECTIONS_ARE_INSTANCES=1]="SOME_SELECTIONS_ARE_INSTANCES",e[e.ALL_SELECTIONS_ARE_TOPLEVEL_INSTANCES=2]="ALL_SELECTIONS_ARE_TOPLEVEL_INSTANCES",e))(nn||{});function nr(){let e=(0,eB.O1)();return!e||(null==e?void 0:e.every(e=>"INSTANCE"!==e.type))?0:e.every(e=>"INSTANCE"===e.type&&(!e.parentNode||"CANVAS"===e.parentNode.type))?2:1}function na(){return(0,z.J2)(L.Ez5.propertiesPanelState().shownPropertiesPanels)[L.ibQ.COMPONENT_ITEM]}function nl(){let{containingStateGroupDescription:e,containingStateGroupLinks:t,componentDescription:n}=(0,eH.z6)();return na()?r.createElement(eV.K,{containingStateGroupDescription:e,containingStateGroupLinks:t,description:n,recordingKey:"componentControlsPicker"}):null}function no({item:e}){let t="isSelected"in e,n=t&&"dropdown"in e&&"dropdownTargetButtonRef"in e;return r.createElement(T.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,w.uc)(e.getTitle())}`})},t?r.createElement("span",{className:tq.zU},r.createElement(l.d,{ref:n?e.dropdownTargetButtonRef:void 0,recordingKey:e.recordingKey,toggled:e.isSelected,"aria-label":e.getTitle(),onClick:e.onClick,htmlAttributes:{onMouseDown:P.dG}},e.icon)):r.createElement(o.K,{"aria-label":e.getTitle(),onClick:e.onClick,key:e.recordingKey,recordingKey:v.Pt(tJ,e.recordingKey),htmlAttributes:{"data-tooltip":e.getTitle(),"data-tooltip-type":Y.Ib.TEXT}},e.icon))}},129978:(e,t,n)=>{n.d(t,{wu:()=>B,yj:()=>V});var r=n(411855),a=n(188507),l=n(767129),o=n(404095),i=n(636149),s=n.n(i),c=n(531664),d=n(737947),p=n(966712),u=n(153234),m=n(776621),_=n(574176),g=n(939863),f=n(632430),E=n(662275),h=n(617453),y=n(100197),v=n(234945),b=n(173454),w=n(498606),T=n(715762),N=n(507662),S=n(7959),I=n(538697),C=n(893606),k=n(762638),A=n(939791);let x=r.forwardRef(function({labelTx:e,input:t,icon:n},a){return r.createElement(A.fn,{ref:a,leftInput:r.createElement("span",{className:k.cx.textBodyMedium.pl1.flex.$},e),rightInput:t,icon:n,leftLabel:null,rightLabel:null})});var R=n(892109),P=n(564092),O=n(435091),D=n(664241),L=n(132208);class M extends I.l6{}class F extends I.c${}function K({modeOptions:e,inheritedModeID:t,isShowingGuids:n}){return{format:r=>{var a;if(r===P.iw.LEARN_MORE)return(0,g.t)("variables.modes.option.learn_more");if(r===P.iw.REVIEW_UPDATES)return(0,g.t)("variables.modes.option.review_updates");if(r===P.UE){if(t===P.Mo)return(0,g.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:(0,g.t)("variables.mode_properties_panel.select.option.mixed")});let n=null==(a=e.find(e=>(0,c.c2)(e.modeId,t)))?void 0:a.name;return n?(0,g.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:n}):(0,g.t)("variables.mode_properties_panel.select.option.auto")}{if(r===P.Ws)return 0===e.length&&(0,m.x1)("variables","No mode options available"),(0,g.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:e[0].name??""});if(r===P.Mo)return(0,g.t)("variables.mode_properties_panel.select.option.mixed");if(r===P.Yn)return(0,g.t)("variables.mode_properties_panel.select.option.deleted");let t=e.find(e=>(0,c.c2)(e.modeId,r));return t?n?`${t.name} (${t.modeId.guid})`:t.name:((0,m.x1)("variables","Option does not exist in modeOptions"),(0,g.t)("variables.mode_properties_panel.select.option.deleted"))}},isEqual:(e,t)=>(0,c.c2)(e,t)}}function B({fill:e,showExplicitOnly:t,recordingKey:n}){let l=(0,a.wA)(),o=(0,P.kN)(),i=(0,P.iR)(),s=(0,P.d2)(),c=(0,y.J2)((0,h.UK)().showGuids),d=(0,a.d4)(v.qd),p=r.useMemo(()=>JSON.stringify(d),[d]),m=(0,P.hZ)(),_=Object.entries(o),g=r.useMemo(()=>_.sort(([e,t],[n,r])=>t.fileKey!==r.fileKey?t.fileKey?r.fileKey?t.fileKey.localeCompare(r.fileKey):1:-1:t.collectionName.localeCompare(r.collectionName)),[_]);return r.createElement(r.Fragment,null,g.map(([a,o])=>{let d=o.inheritMode,_=o.explicitMode;return r.createElement(V,{key:`variable-mode-entry-${a}-${t}-${p}`,fill:e,showExplicitOnly:t,variableSetName:o.collectionName,variableSetKey:a,modeOptions:o.modeOptions,inheritedModeID:d,explicitModeID:_,showInheritedModeOption:!0,onChange:(e,t)=>{s[a]&&i[a]?l((0,f.Wo)({item:i[a],callback:t=>{m(a,e)}})):m(a,e,t)},isShowingGuids:c,recordingKey:u.Pt(n,`variableModeEntry-${t}`)})}))}function V(e){let{fill:t,showExplicitOnly:n,variableSetName:i,variableSetKey:m,modeOptions:f,explicitModeID:h,inheritedModeID:y,isShowingGuids:v,recordingKey:k,showInheritedModeOption:A,onChange:B}=e,V=(0,a.wA)(),U=(0,a.d4)(e=>e.dropdownShown),H=(0,P.ZP)(),z=(0,C.R)(),G=h&&h!==P.Mo&&f.every(e=>!(0,c.c2)(e.modeId,h)),W=P.Ws;G?W=P.Yn:h?W=h:y&&(W=A?P.UE:y);let Y=K({modeOptions:f,inheritedModeID:y,isShowingGuids:v}).format(W),[X,Z]=r.useState(n),$=r.useCallback((e,t,n)=>{B(e,n),void 0!==t&&Z(t)},[B]),j=r.useMemo(()=>(function(e,t,n,a){let l=[];if(0===t.length)return l;let o=s()(t,e=>e.modeId.collectionKey),i=!!(0,p.kc)().ds_variables_relax_modes,c=r.createElement("div",{className:D.Z7},r.createElement(_.B,{className:D.G,svg:L.A}));return Object.entries(o).map(([t,a])=>{for(let o of(l.length>0&&a.length>0&&l.push(r.createElement(I.sK,null)),a))l.push(r.createElement(F,{key:`mode-option-${t}-${o.modeId.guid}-${n}`,value:o.modeId,recordingKey:u.Pt(e,`varSetSelect=${t}`,`value=${o.modeId.guid}`,`varSetKey=${t}`),disabled:!i&&!o.isCompatible,fullWidth:!0,rightSettingsIcon:i&&!o.isCompatible?c:void 0}))}),i&&t.some(e=>!e.isCompatible)&&(l.push(r.createElement(I.sK,null)),a===P.iw.REVIEW_UPDATES?l.push(r.createElement(F,{key:"incompatible-modes-updates",value:P.iw.REVIEW_UPDATES,iconToReplaceCheck:c,recordingKey:u.Pt(e,"incompatible-modes-review-updates"),additionalStylesClassName:D.cF})):a===P.iw.LEARN_MORE&&l.push(r.createElement(F,{key:"incompatible-modes-learn-more",value:P.iw.LEARN_MORE,iconToReplaceCheck:c,recordingKey:u.Pt(e,"incompatible-modes-learn-more"),additionalStylesClassName:D.cF}))),l})(k,f,n,H),[k,f,n,H]);if(f.length<2||X&&!h)return null;let q=W===P.Mo,J=function(e,t,n,a,l,o){let i=[];return n&&i.push(r.createElement(F,{key:P.Mo,value:P.Mo,recordingKey:u.Pt(e,"value:MIXED"),selected:!0}),r.createElement(I.sK,null)),a?l&&i.push(r.createElement(F,{key:P.UE,value:P.UE,recordingKey:u.Pt(e,"value:INHERIT")}),r.createElement(I.sK,null)):o.length>0&&i.push(r.createElement(F,{key:P.Ws,value:P.Ws,recordingKey:u.Pt(e,"value:DEFAULT"),disabled:!o[0].isCompatible,selected:t===P.Ws}),r.createElement(I.sK,null)),t===P.Yn&&i.push(r.createElement(F,{key:P.Yn,value:P.Yn,recordingKey:u.Pt(e,"value:DELETED"),disabled:!0,selected:!0})),i}(k,W,q,!!y,A,f),Q=r.createElement(M,{fill:t,id:`var-set-mode-${m}-${n}`,dropdownWidth:200,dropdownAlignment:"right",dispatch:V,inputClassName:z?O.Df:void 0,chevronClassName:z?O.ai:void 0,dropdownShown:U,formatter:K({modeOptions:f,inheritedModeID:y,isShowingGuids:v}),property:W,recordingKey:u.Pt(k,`varSetSelect=${m}`),onChange:e=>{e===P.iw.LEARN_MORE?d.Ay.unsafeRedirect(P.Yc,"_blank"):e===P.iw.REVIEW_UPDATES?V(E.to({type:N.T,data:{initialTab:b.Wv.UPDATES,entrypoint:T.r6.VARIABLE_MODE_INCOMPATIBLE_REVIEW_UPDATES_DROPDOWN_OPTION}})):$(e,!1,K({modeOptions:f,inheritedModeID:y,isShowingGuids:v}).format(e))},tooltip:Y},...J,...j);if(z){let e=r.createElement("span",{className:D.$6,"data-testid":"variableModeEntry"},i);return A?r.createElement(x,{labelTx:e,input:Q,icon:r.createElement(l.K,{"aria-label":(0,g.t)("general.remove"),onClick:()=>$("INHERIT",!0),actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,g.t)("general.remove"),"data-tooltip-type":w.Ib.TEXT}},r.createElement(o.f,null))}):r.createElement(R.No,{label:e,input:Q})}return r.createElement(S.fI,{className:D.nM,dataTestId:"variableModeEntry"},r.createElement("div",{className:D.o3},i),r.createElement("div",{className:D.mq},Q))}},670652:(e,t,n)=>{n.d(t,{w:()=>D});var r=n(411855),a=n(52339),l=n(935283),o=n(374626),i=n(939863),s=n(574724),c=n(284615),d=n(222478),p=n(188507),u=n(279145),m=(e=>(e[e.NEEDS_INITIAL_SELECTION=0]="NEEDS_INITIAL_SELECTION",e[e.SELECTION_LOST=1]="SELECTION_LOST",e[e.SELECTION_OK=2]="SELECTION_OK",e))(m||{}),_=n(709731),g=n(562432),f=n(438773),E=n(320063);function h(e){let t=Math.random()*e.reduce((e,{weight:t=1})=>e+t,0),n=0;for(let r of e)if((n+=r.weight??1)>=t)return r.content;return e[0].content}var y=n(232309),v=n(637382),b=n(883216),w=n(726710),T=n(219292),N=n(118567),S=n(263086),I=n(424950),C=n(421757),k=n(966712),A=n(384775),x=n(144119);function R(){let e=(0,p.wA)(),t=(0,o.md)(I.Tm),n=(0,r.useCallback)(()=>{t||(0,I.mD)(e,{source:"rewrite_action"}),(0,A.jD)(e,null,{forceClose:!1})},[e,t]);return r.createElement(C.$n,{variant:"secondary",onClick:n},(0,i.tx)("ai_text_tools.rewrite.tone.label"))}var P=n(573591);let O=(0,o.E3)("rewrite_this_prompt_history",[]);function D(){let e=function(e){let[t,n]=(0,r.useState)(h(e));return(0,E.h)(()=>{n(h(e))}),t}([{content:(0,i.t)("ai_text_tools.rewrite.placeholder.marketing")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.shorter")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.bullet_points")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.email_boss")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.sing_songy")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.softer_tone")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.pop_song"),weight:.001}]),[t,n]=r.useState(""),o=d.JT.REWRITE_TEXT,{promptHistory:C,addPromptToHistory:A}=(0,f.a)(O,e=>e),{shiftAllNodesOutOfSlideMargins:D,resetShiftedNodes:L,resetNodePositionMap:M}=(0,S.eX)(),{slidesTextResizeCallback:F}=(0,S.DX)(d.JT.REWRITE_TEXT),{saveOriginalNodeInfos:K,resetOriginalNodeInfos:B,resetAllNodesToOriginalTextStyles:V}=(0,I.cR)(),U=(0,r.useCallback)(e=>{let{eventType:t,node:n}=e;switch(t){case"BEFORE_STREAM_START":D();return;case"AFTER_STREAM_CHUNK":F(n);return}},[F,D]),{longRunningAction:H,onRun:z,cancel:G,restoreSelection:W,resetText:Y,lastRun:X}=(0,P.Hd)({makeCortexRequest:({texts:e,parameters:t,targetMap:n,authInfo:r})=>(K(n.values()),s.Ay.shared.adjustText({texts:e,action:{type:"REWRITE_TEXT",prompt:t.prompt},jsonMode:e.length>1},r)),featureType:o,allowEmptyTextNodes:!0,onNodeStreamEvent:U}),{state:Z,aiTrackingContext:$,tasks:j}=H,{close:q}=(0,g.cq)(),J=function(){let e=(0,k.kc)().figjam_ai_piper_action_transitions,t=(0,x.sO)(),n=(0,I.Ne)();return t&&n&&e}(),Q=function(e){let t=(0,p.d4)(t=>(0,u.Yh)(t.mirror.appModel,e)),[n,a]=r.useState(t),l=0;return t&&n?l=2:n&&!t&&(l=1),(0,r.useMemo)(()=>({state:l,confirmInitialSelection:()=>a(!0)}),[l])}(d.JT.REWRITE_TEXT),ee=j.length,et=j.filter(e=>e.state===_.z8.FAILED).length;switch(Z){case _.qy.RUNNING:return r.createElement(N.F,{onCancel:()=>{G(),q()},aiTrackingContext:$},(0,i.tx)("ai.rewriting"));case _.qy.INITIAL:switch(Q.state){case m.NEEDS_INITIAL_SELECTION:case m.SELECTION_LOST:return r.createElement(b.A,{action:d.JT.REWRITE_TEXT,actionLabel:(0,i.tx)("fullscreen_actions.quick_actions.rewrite-this"),actionIcon:r.createElement(a.T,null),onPerform:Q.confirmInitialSelection,aiTrackingContext:$,getCustomDisabledTextFromSelectedNodes:e=>(0,P.bu)(e,{allowEmptyText:!0}),instructionAction:{type:"learn_more",url:d.fN}},(0,i.tx)("ai_text_tools.selection_instruction"));case m.SELECTION_OK:return r.createElement(T.A,{prompt:t,onChangePrompt:n,onRun:()=>{M(),A(t),z({prompt:t})},suggestion:e,submitLabel:(0,i.tx)("ai.rewrite"),extraFooter:J&&r.createElement(R,null),promptHistory:C,recordingKey:"rewriteText.prompt",suggestionPills:[{label:(0,i.t)("ai_text_tools.rewrite.shorter.label"),prompt:(0,i.t)("ai_text_tools.rewrite.shorter.prompt")},{label:(0,i.t)("ai_text_tools.rewrite.casual.label"),prompt:(0,i.t)("ai_text_tools.rewrite.casual.prompt")},{label:(0,i.t)("ai_text_tools.rewrite.replace.label"),prompt:(0,i.t)("ai_text_tools.rewrite.replace.prompt")}],aiTrackingContext:$,featureNameForInstrumentation:"rewrite_text"});default:(0,l.xb)(Q.state)}case _.qy.ERROR:let en;let{error:er}=H,ea=null,el=[{type:v.f.TRY_AGAIN,callback:()=>{z({prompt:t})}}];return er instanceof P.Vz&&(en=(0,i.tx)("ai_text_tools.content_length_exceeded"),el=[]),er instanceof P.Jd&&(en=(0,i.tx)("ai_text_tools.missing_fonts"),el=[]),ee>0&&et>0&&et<ee&&(ea=(0,i.tx)("ai_text_tools.rewrite.couldnt_count",{failed:et,total:ee})),(0,c.sZ)(er)===c.BQ.CONTENT_LENGTH_LIMIT&&(en=(0,i.tx)("ai_text_tools.content_length_exceeded")),r.createElement(v.E,{error:H.error,buttons:el,aiTrackingContext:$,customMessage:en,secondaryMessage:ea});case _.qy.DONE:return r.createElement(w.O,{iterateOptions:[{type:w.i.UNDO,callback:()=>{Y(),V(),L(),(0,_.B3)(d.JT.REWRITE_TEXT),B()}},{type:w.i.MAKE_CHANGES,callback:()=>{W(),M(),(0,_.B3)(d.JT.REWRITE_TEXT),B(),n("")}}],aiTrackingContext:{...$,iteration_view_type:y.$J.SUCCESS_WITH_ITERATION},recordingKey:"rewriteText",targets:X?X.targets.map(e=>e.node.guid):void 0});case _.qy.CANCELLED:return null;default:(0,l.xb)(Z)}}},573591:(e,t,n)=>{n.d(t,{Hd:()=>C,Jd:()=>S,Vz:()=>T,ay:()=>w,bu:()=>k,n4:()=>N,y_:()=>A});var r=n(411855),a=n(38329),l=n(374626),o=n(395900),i=n(776621),s=n(304783),c=n(762638),d=n(939863),p=n(550273),u=n(988022),m=n(574724),_=n(284615),g=n(356390),f=n(662531),E=n(341860),h=n(709731),y=n(719624),v=n(695426),b=n(646701);class w extends Error{constructor(e){super(),this.message=e}}class T extends Error{constructor(){super(),this.doNotReport=!0,this.name="TooManyTextLayersError",this.message="Too many text layers"}}class N extends Error{constructor(){super(),this.doNotReport=!0,this.name="NoTextCharactersFoundError",this.type="no_text_characters_found"}}class S extends Error{constructor(){super(),this.doNotReport=!0,this.name="MissingFontsError",this.message="Missing Fonts"}}let I=async({params:e,abortController:t,onTasksUpdate:n})=>{let r=new o.M4;r.start();let{state:l,makeCortexRequest:c,clientLifecycleId:d,featureType:p,excludeDigitsAndSpecialChar:y,onNodeStreamEvent:v,onError:b,onSuccess:I}=e,{targets:C,parameters:k}=l,x=a.D.getState(),R=x.openFile?.key,P={numLayers:C.length,numLayersAdjusted:0,numDeltasHallucinated:0,featureType:p};k&&"prompt"in k&&k.prompt&&"string"==typeof k.prompt&&(P.promptLength=k.prompt.length),k&&"language"in k&&k.language&&"string"==typeof k.language&&(P.language=k.language),(0,u.ds)("ai_text_tools_started",R,x,P);let O=e=>(b?.(e),e);if(C.length>100)throw O(new T);if(y&&0===C.length)throw O(new N);let D=[],L=new Map,M=[];for(let e of C){let t=(L.size+1).toString(),{node:n,effectiveText:r}=e;n.hasMissingFont?D.push({nodeGuid:e.node.guid,state:h.z8.FAILED,error:new S}):(M.push({id:t,text:r}),L.set(t,e),D.push({nodeGuid:e.node.guid,state:h.z8.INCOMPLETE}))}if(n&&n(D),0!==D.length&&D.every(e=>e.state===h.z8.FAILED&&e.error instanceof S))throw O(new S);let F=null;try{let e={...(0,_.Ay)(),clientLifecycleId:d};if(F=await c({texts:M,parameters:k,authInfo:e,jsonMode:!0,targetMap:L}),t.signal.aborted||!E.q.instance.getCurrentPage())return;let a=new m.c6(F),l=new Map;for await(let{delta:e,id:o}of a){let a;if(t.signal.aborted)return;if(1===L.size)a=L.values().next().value;else{if(!o)throw O(new w("Missing ID in response from Cortex"));a=L.get(o)}if(P.timeToFirstToken=r.getElapsedTime(),!a){P.numDeltasHallucinated++;continue}if(!a.node.isAlive())continue;D=D.map(e=>e.nodeGuid===a.node.guid?{...e,state:h.z8.SUCCEEDED}:e),n&&n(D);let i=a.selectionRange?.start??0,s=a.selectionRange?.end??a.node.characters.length,c=a.node;l.has(a)||(f.l7.ai("adjust-text",()=>{c.spliceCharacters(i,s,"","BEFORE"),v?.({eventType:"BEFORE_STREAM_START",node:c})}),l.set(a,i));let d=l.get(a);f.l7.ai("adjust-text",()=>{e&&c&&(c.spliceCharacters(d,d,e,"BEFORE"),l.set(a,d+e.length),P.numLayersAdjusted=l.size,v?.({eventType:"AFTER_STREAM_CHUNK",node:c}),a.selectionRange?E.q.instance.getCurrentPage()?.setSelectedTextRange(a.node.guid,a.selectionRange.start,d+e.length):1===C.length&&A(c.guid))})}g.Y5.triggerAction("commit");let o=D.filter(e=>e.state===h.z8.FAILED);if(o.length>0&&o[0].state===h.z8.FAILED)throw O(o[0].error);(0,u.ds)("ai_text_tools_complete",R,x,P),I?.(k)}catch(e){throw D=D.map(t=>t.state!==h.z8.SUCCEEDED?{...t,state:h.z8.FAILED,error:e}:t),n&&n(D),"doNotReport"in e&&e.doNotReport||(0,i.$D)(s.e.EDITOR_AI,e,{extra:{...P,numberOfNodes:C.length}}),(0,u.ds)("ai_text_tools_failed",R,x,{...P,error:e}),O(e)}finally{P.timeToCompletion=r.getElapsedTime(),r.stop(),t.signal.aborted&&(0,u.ds)("ai_text_tools_cancelled",R,x,P),F?.cancel()}};function C({makeCortexRequest:e,featureType:t,allowEmptyTextNodes:n=!1,excludeDigitsAndSpecialChar:a=!1,onNodeStreamEvent:o,onError:i,onSuccess:s}){let c=(0,h.RL)(t,I),{start:d,stop:u,state:m}=c,_=(0,b._I)(),[g,v]=(0,r.useState)(null),[w,T]=(0,r.useState)(null),[,N]=(0,l.fp)(y.Q8);async function S(r){let l={targets:(0,p.Ey)({allowEmpty:n,excludeDigitsAndSpecialChar:a}),parameters:r,selection:E.q.instance.getCurrentPage()?.directlySelectedNodes??[]};T(r),v(l),N(""),await d({state:l,makeCortexRequest:e,featureType:t,excludeDigitsAndSpecialChar:a,onNodeStreamEvent:o,onError:i,onSuccess:s})}function C(){f.l7.ai("adjust-text",()=>{if(g){let e=E.q.instance.getCurrentPage();for(let{node:t,nodeText:n,selectionRange:r}of g.targets)if(t.isAlive()&&(t.spliceCharacters(0,t.characters.length,n,"BEFORE"),r)){let{start:n,end:a}=r;e?.setSelectedTextRange(t.guid,n,a)}e&&g.selection.length>1&&(e.directlySelectedNodes=g.selection)}})}return(0,r.useEffect)(()=>{m===h.qy.DONE&&_(t)},[m,_,t]),{resetText:C,restoreSelection:function(){let e=E.q.instance.getCurrentPage();e&&g&&g.selection.length>1&&(e.directlySelectedNodes=g.selection)},lastParameters:w,onRun:S,cancel:function(){u(),C()},longRunningAction:c,lastRun:g}}function k(e,t){let{onlyAllowSingular:n,allowEmptyText:a}=t,l=t.instruction??(0,d.tx)("ai_text_tools.selection_instruction");if(n&&e&&(0===e.length||e.length>1||"TEXT"!==e[0].type))return l;let o=(0,p.Gc)(e,{allowEmpty:!0});if(0===o.length)return l;let i=o.reduce((e,t)=>e+t.characters.length,0);return(0!==i||a)&&i>4e4?r.createElement(v.B,{gap:8},r.createElement("span",{className:c.cx.textBodyMediumStrong.$},(0,d.tx)("ai_text_tools.select_fewer_characters")),r.createElement("span",{className:c.cx.textBodyMedium.colorTextSecondary.$},(0,d.tx)("ai_text_tools.selected_character_count",{currentCharacters:i.toLocaleString(),maxCharacters:4e4.toLocaleString()}))):l}function A(e){let t=E.q.instance.getCurrentPage(),n=t?.directlySelectedNodes[0]?.guid;t&&n===e&&t.setSelectionToSingleNode(e)}},119081:(e,t,n)=>{n.d(t,{p:()=>K});var r=n(411855),a=n(188507),l=n(908946),o=n(667859),i=n(935283),s=n(38329),c=n(646240),d=n(498750),p=n(939863),u=n(239349),m=n(356390),_=n(852800),g=n(149374),f=n(843495),E=n(100197),h=n(94500),y=n(279145),v=n(354235),b=n(178248),w=n(775810),T=n(351631),N=n(222478),S=n(709731),I=n(562432),C=n(921717),k=n(384775),A=n(124257),x=n(637382),R=n(596378),P=n(883216),O=n(118567),D=n(862442),L=n(29680),M=n(684798);function F({magicLinkOutput:e,aiTrackingContext:t}){let n=(0,D.Z)(),{generatedInteractions:a}=e,l=(0,r.useMemo)(()=>a.map(e=>e.id),[a]),o=(0,r.useRef)((0,L.eY)());return(0,r.useEffect)(()=>{(0,f.NT)(_.FAf.PROTOTYPE),n((0,T.Y)(a.map(e=>e.mapping),o.current)),_.glU.selectNodesFromNoodles(l),_.X3B.setMagicLinkIsDone()},[a,l,n]),(0,M.x)({aiTrackingContext:t})}function K(){return r.createElement(v.d,null,r.createElement(V,null))}function B(e){return _.X3B.getMagicLinkSelectionInfo().selectedDisplayAmount}function V(){let e=(0,a.wA)(),t=(0,S.RL)(N.JT.MAGIC_LINK,T.e),{start:n,stop:o,state:s,aiTrackingContext:d}=t,{close:u}=(0,I.cq)(),g=(0,r.useRef)(null),y=(0,E.J2)((0,f.aY)());(0,r.useEffect)(()=>{s===S.qy.INITIAL&&null===g.current&&(g.current=y,(0,f.NT)(_.FAf.PROTOTYPE))},[s,y]),(0,r.useEffect)(()=>()=>{s===S.qy.INITIAL&&null!==g.current&&(0,f.NT)(g.current)},[s]);let v=(0,c.Xr)(w.d_);switch(s){case S.qy.INITIAL:return r.createElement(P.A,{action:N.JT.MAGIC_LINK,actionIcon:r.createElement(l.B,null),actionLabel:(0,p.tx)("fullscreen_actions.quick_actions.add-interactions"),onPerform:()=>{g.current=null,n({})},getCustomDisabledTextFromSelectedNodes:t=>{let n,r;let{selectedDisplayAmount:a,tlfAmount:l,onlyTopLevelNodesSelected:o}=_.X3B.getMagicLinkSelectionInfo();return l>10?(n=(0,p.tx)("magic_link.tlf_selection_too_large"),r="Select 10 or fewer frames"):o||(n=(0,p.tx)("magic_link.select_a_set_of_layers"),r="Select a set of layers"),r&&e((0,h.Zh)({name:"prototype.ai_magic_link_action_instruction",params:{instruction:r,numSelectedNodes:a,numSelectedTlfs:l}})),n},getCustomSelectedNodesAmount:B,aiTrackingContext:d,instructionAction:{type:"learn_more",url:N.Xy}},(0,p.tx)("magic_link.select_a_set_of_frames"));case S.qy.RUNNING:return v(!1),m.Y5.triggerAction("start-magic-link"),r.createElement(O.F,{onCancel:()=>{o(),u()},aiTrackingContext:d},(0,p.tx)("magic_link.running"));case S.qy.DONE:return r.createElement(F,{magicLinkOutput:t.result,aiTrackingContext:d});case S.qy.ERROR:if(m.Y5.triggerAction("end-magic-link"),t.error instanceof b.ft)return e((0,h.Zh)({name:"prototype.ai_magic_link_custom_error",params:{error:"invalid_selection_from_generic_layers"}})),r.createElement(U,null);return r.createElement(x.E,{error:t.error,aiTrackingContext:d});case S.qy.CANCELLED:return m.Y5.triggerAction("end-magic-link"),null;default:(0,i.xb)(s)}}function U(){let e=(0,u.Tv)();return r.createElement(R.u,{buttons:[{label:(0,p.t)("fullscreen.context_menu.auto_rename_layers"),onClick:()=>{(0,k.$I)({moduleToOpen:{type:"custom",module:r.createElement(A.A,{source:"magic-link"}),name:C.S.RENAME_LAYERS_TOAST,beforeModuleOpen:()=>{(0,S.cT)(N.JT.MAGIC_LINK),(0,y.Yh)(s.D.getState().mirror.appModel,N.JT.AUTO_RENAME_LAYERS)&&(0,S.Ag)(N.JT.AUTO_RENAME_LAYERS,g.Ay,{source:g.uQ.MAGIC_LINK,overwriteNames:!1})}},trackingData:{source:"magic_link_rename_layers_suggestion_toast"}})},variant:"secondary",iconPrefix:r.createElement(o._,null),shortcuts:[{key:d.Uz.ENTER,modifier:[d.xH.META]}]}]},(0,p.tx)(1===e.length?"magic_link.rename_layer_suggestion":"magic_link.rename_layers_suggestion"))}},124257:(e,t,n)=>{n.d(t,{A:()=>k});var r=n(411855),a=n(667859);function l(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 14a1 1 0 0 1 .486-.858L8.389 12l-1.903-1.143a1 1 0 0 1 0-1.715l4.485-2.69a2 2 0 0 1 2.058 0l4.486 2.69a1 1 0 0 1 0 1.716L15.61 12l1.904 1.142a1 1 0 0 1 0 1.715l-4.486 2.692a2 2 0 0 1-2.058 0l-4.486-2.692A1 1 0 0 1 6 14Zm7.667-2 .972-.583 1.39-.834L17 10l-.972-.583-3.513-2.108a1 1 0 0 0-1.03 0L7.973 9.417 7 10l.972.583 1.39.834.971.583 1.152.691a1 1 0 0 0 1.03 0L13.666 12Zm.972.583 1.39.834L17 14l-.972.583-3.513 2.108a1 1 0 0 1-1.03 0l-3.513-2.108L7 14l.972-.583 1.39-.834 1.609.966a2 2 0 0 0 2.058 0l1.61-.966Z",clipRule:"evenodd"}))}var o=n(935283),i=n(498750),s=n(762638),c=n(939863),d=n(852800),p=n(149374),u=n(32067),m=n(222478),_=n(709731),g=n(562432),f=n(946465),E=n(232309),h=n(395977),y=n(695426),v=n(843059),b=n(637382),w=n(596378),T=n(883216),N=n(726710),S=n(118567),I=n(646701);function C({nodes:e,onlyRenamable:t}){let n=0;for(let r of e)(!t||(0,p.jX)(r,!0))&&n++,"INSTANCE"!==r.type&&(n+=C({nodes:r.childrenNodes,onlyRenamable:t}));return n}function k({}){let e=(0,_.RL)(m.JT.AUTO_RENAME_LAYERS,p.Ay),{start:t,stop:n,state:k,aiTrackingContext:A,tasks:x}=e,R=(0,I._I)(),{close:P,pop:O}=(0,g.cq)(),D=(0,r.useCallback)((e=!1)=>{t({source:p.uQ.QUICK_ACTIONS,overwriteNames:e})},[t]);(0,r.useEffect)(()=>{k===_.qy.DONE&&R(m.JT.AUTO_RENAME_LAYERS)},[k,R]);let L=(0,u.O1)(),M=-1,F=-1;k===_.qy.INITIAL&&(M=C({nodes:L||[],onlyRenamable:!0}),F=C({nodes:L||[]}));let K=(0,r.useCallback)(()=>{A&&(0,f.ID)({...A,interaction:E.lc.DISMISS,interaction_type:E.dk.BUTTON_CLICK}),O()},[A,O]);switch(k){case _.qy.INITIAL:if(L&&L.length>0){if(0===M)return r.createElement(v.y,null,r.createElement(y.B,{justify:"space-between",align:"center",fullWidth:!0},r.createElement("div",{className:s.cx.flex.itemsCenter.gap4.ml8.$},r.createElement("span",{className:s.cx.textBodyMediumStrong.truncate.maxW150.$},(0,c.tx)("auto_rename_layers.error.no_nameable_items"))),r.createElement(h.r,{onAction:K,variant:"secondary",shortcuts:[{key:i.Uz.ESCAPE}],recordingKey:"cancel-instruction"},(0,c.tx)("ai.cancel"))));if(F>p.NB)return r.createElement(v.y,null,r.createElement(y.B,{justify:"space-between",align:"center",fullWidth:!0},r.createElement("div",{className:s.cx.flex.itemsCenter.gap4.ml8.$},r.createElement("span",{className:s.cx.textBodyMediumStrong.truncate.maxW150.$},(0,c.tx)("auto_rename_layers.too_many_layers_selected")),r.createElement("span",{className:s.cx.textBodyMedium.colorTextSecondary.$},(0,c.tx)("auto_rename_layers.too_many_layers_count",{selected:F,limit:p.NB}))),r.createElement(h.r,{onAction:K,variant:"secondary",shortcuts:[{key:i.Uz.ESCAPE}],recordingKey:"cancel-instruction"},(0,c.tx)("ai.cancel"))))}return r.createElement(T.A,{action:m.JT.AUTO_RENAME_LAYERS,actionIcon:r.createElement(a._,null),actionLabel:(0,c.tx)("fullscreen_actions.quick_actions.name-all-layers"),onPerform:D,aiTrackingContext:A,instructionAction:{type:"learn_more",url:m.gj},getCustomSelectedNodesAmount:e=>C({nodes:e}),customLayersIcon:r.createElement(l,null)},(0,c.tx)("auto_rename_layers.select_some_layers"));case _.qy.RUNNING:return r.createElement(S.F,{secondaryMessage:(0,c.tx)("auto_rename_layers.progress",{completed:e.tasks.filter(e=>e.state===_.z8.SUCCEEDED).length,total:e.tasks.length}),onCancel:()=>{n(),P()},aiTrackingContext:A},(0,c.tx)("auto_rename_layers.running"));case _.qy.ERROR:{let t;let{error:n}=e;if(n instanceof p.BT)return r.createElement(w.u,{buttons:[{label:(0,c.t)("auto_rename_layers.rename_anyway"),onClick:()=>{D(!0)},variant:"secondary"}]},(0,c.tx)("auto_rename_layers.error.no_nameable_items"));if(n instanceof p.tS)return r.createElement(w.u,null,(0,c.tx)("ai.error.no_layers_selected"));let a=[{type:b.f.TRY_AGAIN,callback:D}],l=null;return n instanceof p.eJ&&(t=(0,c.tx)("auto_rename_layers.too_many_layers_selected"),l=(0,c.tx)("auto_rename_layers.too_many_layers_count",{selected:n.layerCount,limit:p.NB}),a=[]),r.createElement(b.E,{error:n,buttons:a,customMessage:t,aiTrackingContext:A,secondaryMessage:l})}case _.qy.DONE:{let t=x.filter(e=>e.state===_.z8.FAILED).length,n=[{type:N.i.UNDO,callback:()=>{d.glU.triggerActionInUserEditScope("undo",{}),P()}}];return t>0&&n.push({type:N.i.TRY_AGAIN,callback:D}),r.createElement(N.O,{iterateOptions:n,aiTrackingContext:{...A,iteration_view_type:E.$J.DEFAULT_SUCCESS},targets:e.tasks.map(e=>e.nodeGuid)},t>0&&(0,c.tx)("auto_rename_layers.could_not_rename_all_layers",{count:t}))}case _.qy.CANCELLED:return null;default:(0,o.xb)(k)}}},596378:(e,t,n)=>{n.d(t,{u:()=>c});var r=n(411855),a=n(762638),l=n(562432),o=n(395977),i=n(695426),s=n(843059);function c({children:e,buttons:t}){let{close:n}=(0,l.cq)();return r.createElement(s.y,{onDismiss:n},r.createElement(i.B,{justify:"space-between",align:"center",fullWidth:!0},r.createElement(i.B,null,r.createElement("span",{className:a.cx.textBodyMediumStrong.ml8.$},e)),r.createElement(i.B,null,t&&t.map(e=>r.createElement(o.r,{key:e.label,onAction:e.onClick,variant:e.variant,iconPrefix:e.iconPrefix,shortcuts:e.shortcuts},e.label)))))}},830111:(e,t,n)=>{n.d(t,{h:()=>A});var r=n(411855),a=n(188507),l=n(976404),o=n(421757),i=n(767129),s=n(397863),c=n(139689),d=n(921211),p=n(939683),u=n(966712),m=n(915440),_=n(711525),g=n(99380),f=n(564577),E=n(493323),h=n(939863),y=n(67294),v=n(174989),b=n(738269),w=n(973149),T=n(177505),N=n(335682),S=n(611978),I=n(279453),C=n(335650);let k="recordings_entrypoint_window--secondaryText--nAp30";function A(e){let t=r.useContext(g.q5),n=(0,N.q5)(),a=n?.key,d=(0,l.U1)(),p=r.useMemo(()=>({fileKey:a??""}),[a]),f=(0,m.Rs)(I.bCq,p,{enabled:(0,u.kc)().async_spotlight}),{onClose:y}=e;r.useEffect(()=>{(0,u.kc)().async_spotlight&&n&&(0,C.Q3)(n,C.ZP.RECORDINGS_WINDOW_OPENED,C.uT.SIDEBAR)},[n]);let v=r.useCallback(()=>{(0,C.Q3)(n,C.ZP.NEW_RECORDING_BUTTON_CLICKED,C.uT.SIDEBAR),t.initializeRecordingMedia(),y()},[y,t,n]),b=r.useMemo(()=>{if("loaded"!==f.status||f.data.walkthroughMediaByFileKey.status!==_.tT.Loaded)return[];let e=f.data.walkthroughMediaByFileKey.data;return e?e.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()):[]},[f]);return(0,u.kc)().async_spotlight&&a?r.createElement("div",{className:"recordings_entrypoint_window--windowContainer--dPDES",ref:d},r.createElement("div",{className:"recordings_entrypoint_window--windowHeader--r4wNv"},r.createElement("div",{className:"recordings_entrypoint_window--windowTitle--eDl4P"},(0,h.tx)("recordings.recordings")),r.createElement("div",{className:"recordings_entrypoint_window--windowHeaderRight--QHvmv"},r.createElement("button",{onClick:v,className:"recordings_entrypoint_window--actionStrip--xnHRK"},r.createElement(s.x,null),(0,h.tx)("recordings.new_recording")),r.createElement(i.K,{onClick:e.onClose,"aria-label":(0,h.t)("general.close")},r.createElement(c.A,null)))),"loaded"!==f.status||f.data.walkthroughMediaByFileKey.status!==_.tT.Loaded?r.createElement("div",{className:"recordings_entrypoint_window--loadingSpinnerContainer--r2n7-"},r.createElement(E.kt,null)):0===b.length?r.createElement("div",{className:"recordings_entrypoint_window--emptyStateContainer--QYgG-"},r.createElement("div",{className:"recordings_entrypoint_window--emptyStateTextSection--fpTRu"},r.createElement("div",{className:"recordings_entrypoint_window--boldText---2EPl"},(0,h.tx)("recordings.no_recordings_yet")),r.createElement("div",{className:k},(0,h.tx)("recordings.make_context_setting_easier"))),r.createElement(o.$n,{onClick:v},(0,h.tx)("recordings.new_recording"))):r.createElement("div",{className:"recordings_entrypoint_window--recordingsContainer--5-i0S"},b.map(t=>r.createElement(x,{recording:t,onClose:e.onClose,key:t.id})))):null}function x(e){let t=(0,S._6)(),n=(0,a.wA)(),l=(0,N.q5)(),o=(0,T.dh)(),i=(0,a.d4)(e=>e.versionHistory),s=(0,p.U)(),c=r.useMemo(()=>new w.f0(Number.POSITIVE_INFINITY,!1,!1),[]),[u,m]=r.useState(!1),g=async()=>{if("fullscreen"===t.view){(0,C.J1)(l.key,l.editorType,C.NA.SIDEBAR,e.recording.id),o!==e.recording.meta.pageId&&await (0,T.$P)(e.recording.meta.pageId,o,i,n,!1,s);let r={...t,walkthroughRecordingId:e.recording.id};n((0,b.$T)(r)),e.onClose()}},E=e.recording.meta.lengthMs.status===_.tT.Loaded?e.recording.meta.lengthMs.data:null,I=E?c.format(E/1e3):null;return r.createElement("div",{className:"recordings_entrypoint_window--recordingRow--tEVbx",key:e.recording.id,onClick:g,tabIndex:0,role:"button",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},r.createElement("div",{className:"recordings_entrypoint_window--profileImg--ssJ-s"},u?r.createElement(d.K,{className:"recordings_entrypoint_window--hoverPlayIcon--UZ5-8"}):r.createElement(v.H,{user:e.recording.creator,size:y.Pf.LARGE})),r.createElement("div",{className:"recordings_entrypoint_window--recordingInfo--mvIzC"},r.createElement("div",{className:"recordings_entrypoint_window--recordingInfoTopRow--8eH08"},r.createElement("div",{className:"recordings_entrypoint_window--recordingTitle--GdNUG"},(0,h.tx)("recordings.month_day",{monthStr:e.recording.createdAt.toLocaleString("default",{month:"short"}),dayNumber:e.recording.createdAt.getDate()})," - ",e.recording.meta.title),r.createElement("div",{className:k},r.createElement(f.h1,{date:e.recording.createdAt,style:"short"}))),r.createElement("div",{className:k},I," \xb7 ",e.recording.creator.handle)))}},857738:(e,t,n)=>{n.d(t,{IS:()=>T,MR:()=>w,$0:()=>N});var r=n(411855),a=n(921211),l=n(629019),o=n.n(l),i=n(522739),s=n(852800),c=n(318812),d=n(498606),p=n(924430),u=n(188507),m=n(421757),_=n(897379),g=n(966712),f=n(762638),E=n(939863),h=n(392592),y=n(335682),v=n(157147),b=n(706607);let w="slides-presentation-flyout",T={type:v.ZU.FLYOUT,name:w,editModes:v.LB.concat([s.m1T.SLIDE_LAYOUT,s.m1T.PREVIEW]),nonEditorsAllowed:!0,loggedOutAllowed:!0,recordingKey:"slidesPresentationFlyout",onboardingKey:p.J5,flyoutDoNotStyleActiveItem:!0,largeDisplayMode:!0,children:[{action:"present-slides-audience-view",actionOnFlyoutItemClick:"set-slides-audience-view",recordingKey:"audienceViewPresent",featureFlags:["piper"],description:"present-slides-description",isActive:()=>!0},{action:"present-slides-presenter-view",actionOnFlyoutItemClick:"set-slides-presenter-view",recordingKey:"presenterViewPresent",featureFlags:["piper"],description:"present-slides-presenter-view-description"}],footer:r.createElement("div",{className:"slides_toolbar_items--copyPresentationLinkWrapper--wpxRz","data-onboarding-key":p.FM},r.createElement(function(){let e=(0,y.tS)(),t=(0,u.wA)(),n=r.useCallback(()=>{let n=`${(0,g.tl)().figma_url}/deck/${e}`;navigator.clipboard.writeText(n),t(h.F.enqueue({type:"copy-presentation-link-success",message:(0,E.t)("fullscreen_actions.copy-presentation-link-success")}))},[e,t]);return r.createElement(m.IK,{variant:"secondary",onClick:n},r.createElement("div",{className:f.cx.flex.flexRow.itemsCenter.justifyCenter.$},r.createElement(_.r,null),(0,E.tx)("fullscreen_actions.copy-presentation-link")))},null))};function N({item:e,defaultItem:t,dropdownKey:n,tooltipText:l,additionalDispatchData:s,recordingKey:p,disabled:u}){let{toggle:m,showing:_}=(0,c.BK)(n),g=r.useRef(null);return r.createElement("div",{ref:g,className:o()(b.fullHeightSidebarFlyout,{"slides_toolbar_items--flyoutDropdownShown--xV4l7":_,[b.disabledFullHeightSidebarFlyout]:u}),"data-tooltip-type":d.Ib.LOOKUP,"data-tooltip":t.action,"data-onboarding-key":e.onboardingKey,"data-testid":t.action},r.createElement(i.D8,{className:o()(b.fullHeightSidebarFlyoutButton,"slides_toolbar_items--flyoutButton--iXCH9",{"slides_toolbar_items--disabledFlyoutButton--o5Iom":u}),recordingKey:p,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":l,dataTestId:`${e.name}-button`,onMouseDown:u?void 0:()=>{let e=g.current;m({data:{...s,targetRect:e.getBoundingClientRect()}})},onClick:e=>e.stopPropagation()},r.createElement(a.K,null)))}},334290:(e,t,n)=>{n.d(t,{rA:()=>eT,jX:()=>eN,kL:()=>eR,kF:()=>ex,n8:()=>ek,bu:()=>eS,QW:()=>eb,T0:()=>eP,xG:()=>eD,tO:()=>eM,w8:()=>eF,Es:()=>eO,U4:()=>ew,Kd:()=>eI});var r=n(411855),a=n(109388),l=n(188507),o=n(842700);function i(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m16.988 9.17.055.758.747.15A4.002 4.002 0 0 1 17 18H8a5 5 0 0 1-.34-9.989l.567-.038.257-.507a4.5 4.5 0 0 1 8.504 1.703ZM2 13a6 6 0 0 1 5.593-5.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19H8a6 6 0 0 1-6-6Zm8.354-2.854a.5.5 0 0 0-.708.708l1.647 1.646-1.647 1.646a.5.5 0 0 0 .708.708L12 13.207l1.646 1.647a.5.5 0 0 0 .708-.708L12.707 12.5l1.647-1.646a.5.5 0 0 0-.708-.708L12 11.793l-1.646-1.647Z",clipRule:"evenodd"}))}var s=n(434228);function c(e){return(0,s.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h2a.5.5 0 1 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3a.5.5 0 0 1 0-1h3a4 4 0 0 0 .79-7.922l-.747-.15Zm-4.69 1.219a.5.5 0 0 0-.707 0l-2.5 2.5a.5.5 0 1 0 .708.707l1.646-1.647V19a.5.5 0 1 0 1 0v-6.293l1.646 1.647a.5.5 0 0 0 .708-.707l-2.5-2.5Z",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h1.5a.5.5 0 0 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3.5a.5.5 0 0 1 0-1H17a4 4 0 0 0 .79-7.922l-.747-.15Zm-5.19 1.218a.5.5 0 0 0-.707 0l-3 3a.5.5 0 0 0 .708.708L11 12.707V19.5a.5.5 0 0 0 1 0v-6.793l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3Z",clipRule:"evenodd"}))}var d=n(963757),p=n(629019),u=n.n(p),m=n(776250),_=n(737947),g=n(939683),f=n(794272),E=n(915440),h=n(179940),y=n(153234),v=n(30637),b=n(743282),w=n(761870),T=n(195847),N=n(574176),S=n(46481),I=n(348425),C=n(715981),k=n(47506),A=n(939863),x=n(738269),R=n(662275),P=n(103907),O=n(483990),D=n(672517),L=n(198371),M=n(226055),F=n(516398),K=n(728325),B=n(356390),V=n(949632),U=n(852800),H=n(369870),z=n(779709),G=n(855418),W=n(809511),Y=n(318812),X=n(321487),Z=n(100197),$=n(239671),j=n(498606),q=n(279145),J=n(977466),Q=n(887326),ee=n(233890),et=n(341860),en=n(206074);function er(e){let t=(0,l.d4)(e=>e.mirror.appModel.pagesList),n=(0,l.d4)(e=>e.mirror.appModel.currentPage),a=(0,l.wA)();if(!t)return null;let o=async e=>{await et.q.instance.setCurrentPageFromNodeAsync(e.nodeId)},i=t.map(e=>({displayText:e.name,disabled:!1,isChecked:n===e.nodeId,nodeId:e.nodeId}));return r.createElement(en.j,{dispatch:a,items:i,showPoint:!0,parentRect:e.dropdown.data.targetRect,onSelectItem:o,recordingKey:"pagesPicker"})}var ea=n(227795),el=n(27928),eo=n(601538),ei=n(368702),es=n(157147),ec=n(136297),ed=n(447798),ep=n(761070),eu=n(67029),em=n(238472),e_=n(432616),eg=n(593701),ef=n(974397),eE=n(874804);let eh=[el.PH.type];function ey(e){return e.iconOverride?{svg:e.iconOverride,ui3Icon:r.createElement(o.V,null)}:e.type===es.ZU.TOOL?(0,G.LW)(e.tool):e.type===es.ZU.ACTION||e.type===es.ZU.TEXT_BUTTON?(0,G.bs)(e.action):(console.error(`Couldn't find icon for item ${e}`),null)}function ev(e){return e.type===es.ZU.ACTION?(0,G.GG)(e.action):null}class eb extends y.o6{constructor(){super(...arguments),this.onClick=y.cZ(this,"click",K.VU.get(this.props.action,"toolbar"))}render(){let{action:e,text:t}=this.props;return r.createElement("div",{className:ed.dM},r.createElement("div",{key:`toolbar-action-button-${e}`,className:`${ed.uX} ${this.props.className?this.props.className:""}`,onClick:this.props.onClick||this.onClick,"data-tooltip-type":j.Ib.LOOKUP,"data-tooltip":e},t))}}function ew(e,t){return{ui2ClassName:u()(ed.gb,(0,ec.M)(e,t),{[ed.YT]:t}),tooltipProps:{"data-tooltip-type":j.Ib.TEXT,"data-tooltip":t?(0,A.t)("fullscreen.focus_mode.toggle_variants.exit"):(0,A.t)("fullscreen.focus_mode.toggle_variants.enter"),"data-tooltip-submenu-open":!1,"data-tooltip-shortcut-key":"focus-mode-component-set-toggle"}}}function eT(e){let{item:t,isEnabled:n,isActive:a,showBadge:l,recordingKey:o}=e,i=(0,M.GS)(),s=e=>{K.VU.get(t.action,"toolbar")(),i&&e.stopPropagation()};if(!n)return null;let c=ey(t),d=c?.svg,p=ev(t),m=c?.ui3Icon,_=`toolbar-action-${t.action}`,g={"data-tooltip-type":j.Ib.LOOKUP,"data-tooltip":t.action,"data-onboarding-key":t.onboardingKey,"data-tooltip-submenu-open":a},f="focus-mode-component-set-toggle"===t.action?ew(n,a):null,E=f?.tooltipProps,h=f?.ui2ClassName;return c?r.createElement("span",{className:ed.WT},i?r.createElement(ea.YW,{recordingKey:o,onMouseDown:n?s:void 0,"aria-label":(0,O.A)(t.action),selected:a,showTooltipWhenSelectedIsTrue:!0,dataTestId:_,...g,...E},m):d?r.createElement(I.t,{id:_,key:_,dataTestId:_,svg:d,fallbackSvg:p||void 0,recordingKey:o,className:h??u()(ed.gb,(0,ec.M)(n,a)),onMouseDown:n?s:void 0,...g,...E}):r.createElement(r.Fragment,null),l&&r.createElement("div",{className:ed.q3},r.createElement(N.B,{svg:e_.A}))):r.createElement(r.Fragment,null)}eb.displayName="TextButton";let eN=r.memo(function({recordingKey:e}){let t=(0,Y.Um)(),n=(0,l.d4)(e=>(0,q.Yh)(e.mirror.appModel,es.ec.action)&&!!e.openFile),a=(0,l.d4)(e=>e.mirror.appModel.currentTool===es.ec.tool),o=(0,P.n6)(),i=(0,l.d4)(e=>e.mirror.appModel.topLevelMode);return r.useEffect(()=>{if(n&&a){let e=!0;return(0,ei.W)("right",()=>{e&&B.Y5.triggerAction("set-tool-default")}),()=>{e=!1}}},[n,a]),r.createElement(eP,{key:`tool-button-${es.ec.tool}`,dropdownShown:t,isEnabled:n,isActive:a,item:es.ec,numUnreadComments:o,recordingKey:e,topLevelMode:i})});function eS(){return(0,Z.J2)((0,V.d)().showTimeSlicingEditRenderingDot)?r.createElement("div",{className:ed.e1,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,A.t)("time_sliced_edit_rendering.active"),"data-onboarding-key":"tsmer-status"},r.createElement(N.B,{className:ed.by,svg:em.A})):null}function eI(){let[e,t]=r.useState(!1),[n,a]=r.useState(void 0),o=(0,l.d4)(e=>e.saveStatus?.hasUnsavedChanges),i=(0,l.d4)(e=>e.autosave.onboardingTooltipVisible),s=(0,E.Ym)()===E.Dj.CONNECTED||(0,v.PN)(),c=!!(0,l.d4)(e=>e.openFile);return r.useEffect(()=>(o||i||!s?void 0!==n||e||a(setTimeout(()=>{t(!0),a(void 0)},c?3e3:1e4)):(t(!1),clearTimeout(n),a(void 0)),()=>{clearTimeout(n)}),[o,i,e,n,s,c]),e}let eC=e=>{switch(e){case U.E63.SUPPRESS_UNSAVED_CHANGES_UI:case U.E63.NONE:return"";case U.E63.DISCONNECTED_AUTOSAVE_DISABLED:return(0,A.t)("unsaved_changes.disconnected.autosave_disabled");case U.E63.DISCONNECTED_SERVER_ISSUES:return(0,A.t)("unsaved_changes.disconnected.server_issues");case U.E63.DISCONNECTED_OTHER:return(0,A.t)("unsaved_changes.disconnected.other");case U.E63.SYNCING_AUTOSAVE_DISABLED:return(0,A.t)("unsaved_changes.syncing.autosave_disabled");case U.E63.SYNCING_SERVER_ISSUES:return(0,A.t)("unsaved_changes.syncing.server_issues");case U.E63.SYNCING_OTHER:return(0,A.t)("unsaved_changes.syncing.other");default:throw Error(`Unhandled tab close text enum value ${e}`)}},ek=r.memo(function(){let e=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState===U.kul.JOINED),t=(0,l.d4)(e=>e.saveStatus?.tabCloseText),n=(0,E.Ym)()===E.Dj.CONNECTED||(0,v.PN)(),a=eI(),o=t?eC(t):"",s=ep.A,d=r.createElement(i,null);return e&&(n?(s=eu.A,d=r.createElement(c,null)):(o=(0,A.t)("unsaved_changes.disconnected.live_updates"),s=ep.A)),!function(e,t,n,a,o){let i=(0,l.d4)(e=>e.saveStatus?.hasUnsavedChanges),[s,c]=r.useState(!1);r.useEffect(()=>{if(t&&!s){let t=n===ep.A?"offline":"unsaved";(0,m.sx)("Show Save Status Icon",{tooltipText:e,iconName:t,multiplayerJoined:a,livegraphConnected:o,hasUnsavedChanges:i},{forwardToDatadog:!0}),c(!0)}},[s,c,e,t,n,i,a,o])}(o,a,s,e,n),a?r.createElement("div",{className:ed.e1,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":o,"data-onboarding-key":"multiplayer-save-status"},r.createElement(S.U,{svg:s},d)):null}),eA=e=>e===es.ec?(0,A.t)("fullscreen.accessibility.view_comments"):(0,O.A)(e.action),ex="fullscreen_menu_visible",eR="fullscreen_menu_hidden";function eP(e){let{isEnabled:t,isActive:n,item:a,numUnreadComments:l,recordingKey:o,isWide:i}=e,s=r.useRef(null),c=ey(a)?.svg||null,d=ev(a),p=z.z4.getIsExtension(),m=r.useRef(null);if(!n&&m.current&&m.current===document.activeElement&&ee.F2.focusCustomCanvasFocusElement(),!c)return null;function _(e){return r=>{t&&(n&&a.tool===W.NLJ.COMMENTS?(B.Y5.triggerAction("set-tool-default"),e&&m.current?.focus()):K.VU.get(a.action,"toolbar")(r))}}return r.createElement("div",{key:a.action,"data-testid":a.action,className:ed.yT,ref:s},r.createElement(I.t,{svg:c,fallbackSvg:d||void 0,recordingKey:o,className:u()(ed.gb,(0,ec.M)(t,n),i?ed.U:null),onMouseDown:_(!1),"data-tooltip-type":j.Ib.LOOKUP,"data-tooltip":a.action,"data-onboarding-key":a.onboardingKey,role:"button",tabIndex:0,onKeyDown:e=>(0,F.hx)({e,onClickHandler:_(!0)}),ariaLabel:eA(a),"aria-pressed":n,"data-fullscreen-intercept":!0,innerSpanRef:m}),!p&&l>0&&a.tool===W.NLJ.COMMENTS&&r.createElement("div",{className:n?ed.TE:ed.Zm}))}function eO(){return"main-menu"}let eD=r.memo(function(e){let t=r.createRef(),n=(0,l.wA)(),o=(0,b.g)(),{dropdownShown:i,modalShown:s,user:c,selectedView:p}=(0,f.R)(e=>({dropdownShown:e.dropdownShown,modalShown:e.modalShown,user:e.user,selectedView:e.selectedView})),u=(0,L.$D)(),m=(0,M.GS)();r.useEffect(()=>{(0,q.TY)(i)?(0,k.YQ)({id:ex}):(0,k.YQ)({id:eR})},[i]);let g=r.useRef(null);return(0,H.eM)()?m?r.createElement("div",{className:ed.Ex},r.createElement(d.m,null)):null:r.createElement(C.i,{key:"toggle-menu-button",id:"toggle-menu-button",ref:t,className:`${ed.AQ} ${e.hideToolsClassName}`,recordingKey:"toggleMenuTopbarButton",selected:(0,q.TY)(i),svg:ef.A,fallbackSvg:eE.A,showChevron:!0,chevronRef:g,positionOnChevron:!0,"data-tooltip-type":j.Ib.LOOKUP,"data-tooltip":eO(),onClick:()=>{let e=t.current,r=a.findDOMNode(e);if(!c||c.appData&&c.appData.loggedOut){r&&("fullscreen"===p.view&&p.editorType===$.nT.Whiteboard?(n(w.Ts({origin:"logged_out_main_menu_toolbar",redirectUrl:_.Ay.location.pathname,signedUpFromOpenSession:u})),n(R.to({type:J.x,data:{headerText:(0,A.t)("fullscreen.toolbar.create_an_account_to_do_more_with_fig_jam")}}))):n(x.j7({type:q.G,data:{targetRect:r.getBoundingClientRect()}})));return}if(s?.type&&eh.includes(s?.type)&&n(R.ES({type:s.type})),(0,q.TY)(i))n(x.oB());else if(r){let e={type:q.pi,data:{targetRect:r.getBoundingClientRect()},hasOwnEscKeyHandler:!0};n(x.j7(e))}},ariaLabel:(0,A.t)("fullscreen_actions.main_menu"),"aria-haspopup":"menu","aria-expanded":(0,q.TY)(i),"aria-controls":o,onboardingKey:eo.tO,isUI3:m,ui3Icon:r.createElement(d.m,null)},(0,q.TY)(i)&&r.createElement(Q.e,{id:o,key:"fullscreen-menu","aria-labelledby":"toggle-menu-button",controlledByID:"toggle-menu-button",dropdown:i,recordingKey:"mainMenu",chevronRef:g,positionOnChevron:!0}),(0,q.IS)(i)&&r.createElement(er,{dropdown:i}))}),eL=(0,D.tf)(eb),eM=r.memo(function(){let{openFile:e,selectedView:t}=(0,f.R)(e=>({openFile:e.openFile,selectedView:e.selectedView})),n=(0,L.$D)(),a=(0,l.wA)();return r.createElement(eL,{text:(0,A.t)("fullscreen.toolbar.log_in"),isEnabled:!0,action:"",onClick:()=>{let r="";"fullscreen"===t.view&&"DUPLICATE"===t.landingState?r=e?(0,A.t)("fullscreen.toolbar.log_in_or_create_an_account_to_get_a_copy_of",{file:e.name}):(0,A.t)("fullscreen.toolbar.log_in_or_create_an_account"):n&&(r=(0,A.t)("fullscreen.toolbar.log_in_to_do_more_with_figjam"));let l=(0,h.qg)(_.Ay.location.search)["node-id"];a(w.Ts({origin:"logged_out_footer",formState:T.qB.SIGN_IN,redirectUrl:l?`${_.Ay.location.pathname}?node-id=${encodeURIComponent((0,X.E)(l))}`:_.Ay.location.pathname})),a(R.to({type:J.x,data:{headerText:r}}))},className:ed.eh,innerText:(0,A.t)("fullscreen.toolbar.log_in")})}),eF=r.memo(function(e){let t=(0,g.U)();return r.createElement(C.L,{ariaLabel:(0,A.t)("fullscreen.toolbar.missing_fonts"),key:"missing-fonts-button",svg:eg.A,className:ed.Er,onClick:()=>{t("missing_fonts_button_clicked"),U.glU.findMissingFontsAndShowPopover()},recordingKey:y.Pt(e,"missingFontsButton"),"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,A.t)("fullscreen.toolbar.missing_fonts")})})},136297:(e,t,n)=>{n.d(t,{I:()=>r,M:()=>a});let r=n(706607);function a(e,t,n=!0){let l=r.enabledButton;return e?t&&n&&(l=r.activeButton):l=r.disabledButton,l}},753630:(e,t,n)=>{n.d(t,{PK:()=>C,QE:()=>S,om:()=>w,z2:()=>I});var r=n(411855),a=n(188507),l=n(935283),o=n(794272),i=n(966712),s=n(153234),c=n(483990),d=n(408405),p=n(779709),u=n(809511),m=n(318812),_=n(279145),g=n(212478),f=n(334290),E=n(157147),h=n(447798);let y=r.memo(function({item:e}){let t=(0,a.d4)(t=>(0,c.A)(e.label));return r.createElement("div",{key:`label-${e.label}`,className:h.Pf},t)}),v=r.memo(function({item:e,recordingKey:t}){let n=(0,a.d4)(t=>(0,_.Yh)(t.mirror.appModel,e.action)),l=(0,a.d4)(t=>(0,c.A)(e.action));return r.createElement(f.QW,{key:`text-button-${e.action}`,action:e.action,isEnabled:n,text:l,recordingKey:t})}),b=r.memo(function({item:e,disabled:t,recordingKey:n}){let l=e.children.filter(e=>!(0,E.Zk)(e)||!e.featureFlags||e.featureFlags.every(e=>(0,i.kc)()[e])),s=(0,o.R)(e=>l.filter(t=>(0,E.Zk)(t)&&(0,_.Yh)(e.mirror.appModel,t.action))),c=(0,a.d4)(e=>s.length>0&&w(s[0],e));if(0===s.length)return null;if(e.flyoutHideOptionsIfSingleEnabledAction&&1===s.length){var d;return r.createElement(f.rA,{key:`action-button-${s[0].action}`,item:(d=s[0],{type:E.ZU.ACTION,...d}),isEnabled:!0,isActive:c,recordingKey:n})}return 1===s.length&&"flatten-selection"===s[0].action?null:r.createElement(g.xn,{key:`flyout-${e.name}`,item:{...e,children:l},disabled:t,recordingKey:n,styleActiveItem:!e.flyoutDoNotStyleActiveItem})});function w(e,t){return"isActive"in e&&e.isActive?e.isActive(t):"propertyValue"in e&&void 0!==e.propertyValue&&t.mirror.appModel[e.property]===e.propertyValue}let T=r.memo(function({item:e,recordingKey:t}){let n=(0,a.d4)(t=>w(e,t)),l=C();return r.createElement(f.rA,{key:`action-button-${e.action}`,item:e,isEnabled:l(e),isActive:n,recordingKey:"toolbarView.toolCreateSymbol"===t?"toolbarView.createSymbolFlyout":t})}),N=r.memo(function({item:e,numUnreadComments:t,recordingKey:n,canEdit:l}){let o=(0,a.d4)(t=>(0,_.Yh)(t.mirror.appModel,e.action)),s=(0,m.Um)(),c=(0,a.d4)(t=>e.tool!==u.NLJ.NONE&&e.tool===t.mirror.appModel.currentTool&&!(0,_.TY)(s)),d=(0,a.d4)(e=>e.mirror.appModel.topLevelMode);return e.featureFlags&&!e.featureFlags.every(e=>(0,i.kc)()[e])?null:r.createElement(f.T0,{key:`tool-button-${e.tool}`,dropdownShown:s,isEnabled:o,isActive:c,item:e,numUnreadComments:t,recordingKey:n,topLevelMode:d,isWide:e.isWideForEditors&&l})}),S=r.memo(function({item:e,numUnreadComments:t,recordingKey:n}){let o=I(),i=(0,a.d4)(e=>e.progressBarState.mode),c=(0,a.d4)(e=>e.openFile),p=(0,d.T)(i);if(!o(e))return null;let u=e.dontChainRecordingKeys?e.recordingKey:s.Pt(n,e.recordingKey);switch(e.type){case E.ZU.LABEL:return r.createElement(y,{item:e});case E.ZU.TEXT_BUTTON:return r.createElement(v,{item:e,recordingKey:u});case E.ZU.FLYOUT:return r.createElement(b,{item:e,disabled:p,recordingKey:u});case E.ZU.ACTION:return r.createElement(T,{item:e,recordingKey:u});case E.ZU.TOOL:return r.createElement(N,{item:e,numUnreadComments:t,recordingKey:u,canEdit:c?.canEdit||!1});default:(0,l.xb)(e)}});function I(){let e=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),t=(0,a.d4)(e=>e.mirror.appModel.currentTool),n=(0,a.d4)(e=>e.openFile),r=(0,a.d4)(e=>e.progressBarState.mode),l=(0,d.T)(r),o=(0,a.d4)(e=>l?!n?.canEdit:e.mirror.appModel.isReadOnly),i=(0,a.d4)(e=>e.mirror.appModel.isSceneReadOnly),s=(0,a.d4)(e=>!!e.user);return a=>!(!a||i&&!a.nonEditorsAllowed||a.onlyShowInReadOnly&&!(o&&r!==u.Oin.HIDE_UI)||a.hideInExtension&&p.z4.getIsExtension())&&(!!n||!a.newFileDisabled)&&(!!s||!!a.loggedOutAllowed)&&(!a.editModes||-1!==a.editModes.indexOf(e))&&(!a.showForTools||-1!==a.showForTools.indexOf(t))}function C(){return(0,a.d4)(e=>t=>{let{featureFlags:n=[]}=t;return(0,_.Yh)(e.mirror.appModel,t.action)&&n.every(e=>(0,i.kc)()[e])&&(!t.isAvailable||t.isAvailable(e))})}},100039:(e,t,n)=>{n.d(t,{bt:()=>O,BH:()=>P,R:()=>R});var r=n(411855),a=n(188507),l=n(789529),o=n.n(l),i=n(199629),s=n.n(i),c=n(675551),d=n.n(c),p=n(531664),u=n(737947),m=n(966712),_=n(153234),g=n(574176),f=n(939863),E=n(154483),h=n(632430),y=n(662275),v=n(617453),b=n(869156),w=n(318812),T=n(335682),N=n(100197),S=n(173454),I=n(715762),C=n(507662),k=n(206074),A=n(564092),x=n(132208);let R="VARIABLES_APPLY_MODE_DROPDOWN",P="[INVALID_FILE_KEY]";function O(e){let{showLibrarySets:t,recordingKey:n}=e,l=(0,a.wA)(),i=function(e,t){let n=(0,a.wA)(),l=(0,T.uL)(),i=(0,N.J2)((0,v.UK)().showGuids),c=(0,A.hZ)(),E=(0,A.ZP)(),w=r.useCallback((e,t,a,l,o)=>{let s=a??(l?A.UE:A.Ws),d=l===A.Mo?(0,f.t)("variables.mode_properties_panel.select.option.mixed"):t.find(e=>p.c2(e.modeId,l))?.name,_=r.createElement(g.B,{className:"variables_apply_mode_dropdown--infoIcon--BO6TZ",svg:x.A}),v=!!(0,m.kc)().ds_variables_relax_modes,b=t.some(e=>!e.isCompatible),w=(e,t)=>e?t:[];return[...w(s===A.Mo,[{recordingKey:"mode-MIXED",displayText:(0,f.t)("variables.mode_properties_panel.select.option.mixed"),isChecked:!0}]),...w(!!l,[{recordingKey:"mode-INHERIT",displayText:d?(0,f.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:d}):(0,f.t)("variables.mode_properties_panel.select.option.auto"),isChecked:s===A.UE,callback:()=>{c(e,A.UE,d)}}]),...w(!l&&t.length>0,[{recordingKey:"mode-DEFAULT",displayText:(0,f.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:t[0].name}),rightIcon:v&&!t[0].isCompatible?_:void 0,disabled:!v&&!t[0].isCompatible,isChecked:s===A.Ws,callback:()=>{c(e,A.Ws,t[0].name)}}]),...w(t.length>0,[{separator:!0,displayText:""},...a&&a!==A.Mo&&t.every(e=>!(0,p.c2)(e.modeId,a))?[{recordingKey:"mode-DELETED",displayText:(0,f.t)("variables.mode_properties_panel.select.option.deleted"),disabled:!0,isChecked:!0}]:[],...t.map(t=>({recordingKey:"mode-"+t.modeId.guid,displayText:i?`${t.name} (${t.modeId.guid})`:t.name,callback:()=>{o?n((0,h.Wo)({item:o,callback:n=>{c(e,t.modeId,t.name)}})):c(e,t.modeId,t.name)},rightIcon:v&&!t.isCompatible?_:void 0,disabled:!v&&!t.isCompatible,isChecked:(0,p.c2)(t.modeId,s)}))]),...w(v&&b&&E===A.iw.REVIEW_UPDATES,[{separator:!0,displayText:""},{recordingKey:"mode-review-update",displayText:(0,f.t)("variables.modes.option.review_updates"),callback:()=>{n(y.to({type:C.T,data:{initialTab:S.Wv.UPDATES,entrypoint:I.r6.VARIABLE_APPLY_MODE_DROPDOWN_INCOMPATIBLE_LINK}}))},iconType:"info"}]),...w(v&&b&&E===A.iw.LEARN_MORE,[{separator:!0,displayText:""},{recordingKey:"mode-learn-more",displayText:(0,f.t)("variables.modes.option.learn_more"),callback:()=>{u.Ay.unsafeRedirect(A.Yc,"_blank")},iconType:"info"}])]},[E,c,i,n]),k=(0,A.lk)(),R=(0,A.FR)(),O=(0,A.iR)(),L=r.useMemo(()=>{if(!e)return R;{let e=d()(O,(e,t)=>({collectionID:e.node_id,collectionName:e.name,key:e.key,modeOptions:e.modes?.map(t=>({modeId:{guid:t.id,collectionKey:e.key},name:t.name,isCompatible:!0}))||[],explicitMode:null,inheritMode:null,fileKey:D(e)}));return o()({},R,e)}},[O,e,R]),M=(0,b.el)(s()(L,e=>e.fileKey??P)),F=r.useMemo(()=>Object.entries(L).reduce((e,[t,n])=>{if(n.fileKey===l)return e;let r=P;n.fileKey&&M[n.fileKey]&&(r=n.fileKey);let a=e[r];return a?a[t]=n:e[r]={[t]:n},e},{}),[L,l,M]),K=r.useMemo(()=>Object.keys(F).sort(),[F]);return r.useMemo(()=>{let e=[];for(let[n,r]of(Object.values(k).length>0&&e.push({recordingKey:_.Pt(t,"local"),displayText:(0,f.t)("variables.mode_properties_panel.local_variables.subheading"),header:!0}),Object.entries(k)))e.push({recordingKey:_.Pt(t,n),displayText:r.collectionName,children:w(n,r.modeOptions,r.explicitMode,r.inheritMode)});for(let n of K){let r=F[n]??[];if(0===Object.values(r).length)continue;e.length>0&&e.push({separator:!0,displayText:""});let a=M[n]??(0,f.t)("variables.mode_properties_panel.used_variables.subheading");for(let[n,l]of(e.push({recordingKey:_.Pt(t,"fileName-"+a),displayText:a,header:!0}),Object.entries(r).sort(([e,t],[n,r])=>t.collectionName.localeCompare(r.collectionName))))e.push({recordingKey:_.Pt(t,n),displayText:l.collectionName,children:w(n,l.modeOptions,l.explicitMode,l.inheritMode,O[n])})}return e},[k,t,w,K,F,M,O])}(t,n),c=(0,w.Um)();return c&&c.type===R?r.createElement(k.j,{dispatch:l,parentRect:c.data.targetRect,showPoint:!0,items:i,onSelectItem:e=>{e.callback&&e.callback("",{},l)},recordingKey:"applyModeDropdown"}):null}let D=(0,E.fv)()},37819:(e,t,n)=>{n.d(t,{M:()=>g});var r=n(411855),a=n(188507),l=n(153234),o=n(939863),i=n(738269),s=n(226055),c=n(318812),d=n(498606),p=n(227795),u=n(564092),m=n(100039),_=n(943686);function g({showLibrarySets:e,recordingKey:t}){let n=(0,a.wA)(),g=(0,s.GS)(),f=(0,c.Um)(),E=r.useRef(null),h=r.useCallback(()=>{E.current&&n(i.j7({type:m.R,data:{targetRect:E.current.getBoundingClientRect()}}))},[n]),y=f&&f.type===m.R;return(0,u.A1)(e)?r.createElement("div",{ref:E},r.createElement(p.YW,{recordingKey:l.Pt(t,"applyMode"),selected:!!y,svg:_.A,dataTestId:"applyModeButton","data-tooltip-type":d.Ib.TEXT,"data-tooltip":g?(0,o.t)("properties.dropdown.apply_variable_mode"):(0,o.t)("variables.layer_panel.header.button.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:h}),r.createElement(m.bt,{showLibrarySets:e,recordingKey:l.Pt(t,"applyModeDropdown")})):null}},203845:(e,t,n)=>{n.d(t,{kn:()=>m,JD:()=>c,bO:()=>p,Uw:()=>d,A:()=>u});var r=n(411855),a=n(188507),l=n(799569),o=n(662275),i=n(237870),s=n(488578);let c="/legal/privacy",d="/legal/tos",p="/legal/reader-mode/privacy",u="/legal/reader-mode/tos",m=(0,i.Ju)(function({url:e,title:t}){let n=(0,a.wA)(),i=r.useRef(null);return r.createElement(s.aF,{disableClickOutsideToHide:!0},r.createElement(l.i0,{onClick:()=>n(o.Lo())}),r.createElement("iframe",{className:"google_device_disclaimer_modals--iframeContainer--0XCRs",title:t,ref:i,src:e}))},"GOOGLE_DEVICE_IFRAME_MODAL")},309325:(e,t,n)=>{n.d(t,{V:()=>d});var r=n(411855),a=n(188507),l=n(563706),o=n(946689),i=n(662275),s=n(203845),c=n(384890);function d({url:e,title:t}){let n=(0,a.wA)();return l.Ay.isMeetDevice?r.createElement(o.Us,{className:c.jH,onClick:()=>n(i.to({type:s.kn,data:{url:e,title:t}})),trusted:!0},t):r.createElement(o.Us,{className:c.jH,href:e,target:"_blank",trusted:!0},t)}},974898:(e,t,n)=>{n.d(t,{e:()=>l});var r=n(237870),a=n(279080);let l="WORKSHOP_ONBOARDING";(0,r.Ju)(a.mG,l)},279080:(e,t,n)=>{n.d(t,{mG:()=>B,v6:()=>U,kO:()=>V});var r=n(411855),a=n(188507),l=n(69814),o=n(629019),i=n.n(o),s=n(38329),c=n(737947),d=n(563706),p=n(286640),u=n(761870),m=n(195847),_=n(175103),g=n(946689),f=n(632923),E=n(939863),h=n(838e3),y=n(662275),v=n(650769),b=n(672517),w=n(198371),T=n(988022),N=n(737499),S=n(335682),I=n(860178),C=n(227338),k=n(977466),A=n(203845),x=n(309325),R=n(488578),P=n(479296);let O="workshop_modals--textContainer--Fn3Oc",D="workshop_modals--disclaimer--wFoqk text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI",L="workshop_modals--figjamTryDisclaimer--g4iHA text--fontPos12--YsUAh text--_fontBase--QdLsd";function M({user:e,file:t}){let n=(0,a.wA)(),l=(0,r.useMemo)(()=>d.Ay.isMeetDevice?(0,E.t)("figjam_try.google_meet_user_name"):localStorage.getItem((0,C.H)())||"",[]),[o,i]=(0,r.useState)(l),[s,p]=(0,r.useState)(!1),_=(0,w.nF)(),g=_.enabled?_.id:null,f=!e,b=!!t?.isTryFile;return{openLoginModal:()=>{n(u.Ts({origin:"logged_out_footer",formState:m.qB.SIGN_IN,redirectUrl:c.Ay.location.pathname})),n(y.to({type:k.x,data:{headerText:"Log In",disableClickOutsideToHide:!0}}))},name:o,onNameChanged:e=>{i(e.target.value)},isNameError:s,onSubmit:r=>{if(r.preventDefault(),r.stopPropagation(),f&&(null==o||0===o.trim().length)){p(!0);return}f?(n(v.cq({name:o})),b&&t?.name===(0,E.t)("fullscreen.fullscreen_view_selector.untitled")&&n(h.S({userName:o,file_key:t.key}))):V(g,e.email),(0,T.Cu)({name:"Jam Session access file button",isAnonymous:f,isFigjamTry:b,userID:e?.id??null,userName:f?o:null,fileKey:t?.key}),n(y.Ce())},onClose:e=>{e.preventDefault(),e.stopPropagation(),n(v.cq({name:(0,E.t)("figjam_try.google_meet_user_name")})),b&&t?.name===(0,E.t)("fullscreen.fullscreen_view_selector.untitled")&&n(h.S({userName:o,file_key:t.key})),n(y.Ce())}}}function F({file:e}){let{openLoginModal:t,name:n,onNameChanged:a,isNameError:l,onSubmit:o,onClose:s}=M({file:e}),c=(0,N.BI)(),p=!c?.shouldOptimizeForIpadApp;return r.createElement(r.Fragment,null,r.createElement("img",{src:"https://static.figma.com/uploads/ff519560b46a66403ec0c45887a8f336270b7033",alt:"",className:"workshop_modals--figjamTryImage--pnbwF"}),r.createElement("div",{className:O},r.createElement("h1",{className:"workshop_modals--figjamTryHeader--5gdQ2 text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,E.tx)("figjam_try.onboarding_title"))),r.createElement(f.k0,{multiple:1}),r.createElement("div",{className:O},r.createElement("div",{className:"workshop_modals--figjamTrySubtitle--XIYgl text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,E.tx)("figjam_try.onboarding_subtext"))),r.createElement(f.k0,{multiple:3}),d.Ay.isMeetDevice?r.createElement(g.nD,{type:"close",fullWidth:!0,onClick:s},(0,E.tx)("figjam_try.onboarding_submit")):r.createElement("form",{onSubmit:o},r.createElement(g.il,{autoFocus:!0,className:i()("workshop_modals--figjamTryInput--vCslR",l&&"workshop_modals--figjamTryInputError--wUBqP"),placeholder:(0,E.t)("figjam_try.name_input_placeholder"),onChange:a,value:n}),l&&r.createElement("div",{className:"workshop_modals--figjamTryError--tCLy- text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,E.tx)("figjam_try.onboarding_name_validation_error")),r.createElement(f.k0,{multiple:2}),r.createElement(g.nD,{type:"submit",fullWidth:!0},(0,E.tx)("figjam_try.onboarding_submit"))),r.createElement(f.k0,{multiple:3}),r.createElement("div",{className:L},(0,E.tx)("figjam_try.onboarding_disclaimer",{tos:r.createElement(x.V,{url:d.Ay.isMeetDevice?A.A:A.Uw,title:(0,E.t)("figjam_try.onboarding_disclaimer_tos")}),privacy_policy:r.createElement(x.V,{url:d.Ay.isMeetDevice?A.bO:A.JD,title:(0,E.t)("figjam_try.onboarding_disclaimer_privacy_policy")})})),r.createElement(f.k0,{multiple:1}),p&&!d.Ay.isMeetDevice&&r.createElement("div",{className:L},(0,E.tx)("figjam_try.already_have_an_account",{log_in:r.createElement(g.Us,{className:"workshop_modals--figjamTryInlineLink--R8U28",onClick:t,trusted:!0},(0,E.tx)("figjam_try.already_have_an_account_log_in"))})))}function K({user:e,file:t}){let{openLoginModal:n,name:a,onNameChanged:l,isNameError:o,onSubmit:i}=M({user:e,file:t}),s=!e;return r.createElement(r.Fragment,null,r.createElement("div",{className:O},r.createElement("h1",{className:"workshop_modals--header--1TwZ- text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},(0,E.tx)("whiteboard.open_sessions.onboarding_title")),r.createElement("h1",{className:"workshop_modals--headerFilename--Z60l0 workshop_modals--header--1TwZ- text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},t?.name)),r.createElement(f.k0,{multiple:2}),r.createElement("div",{className:O},r.createElement("div",{className:"workshop_modals--subtitle---dQsr text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI"},(0,E.tx)("whiteboard.open_sessions.onboarding_subtext"))),r.createElement(f.k0,{multiple:2}),r.createElement("form",{onSubmit:i},s&&!d.Ay.isMeetDevice&&r.createElement(r.Fragment,null,r.createElement(_.F0,{autoFocus:!0,placeholder:(0,E.t)("whiteboard.open_sessions.onboarding_name_input_placeholder"),onChange:l,value:a}),o&&r.createElement("div",{className:"workshop_modals--brandError--wMV-m text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI"},(0,E.tx)("whiteboard.open_sessions.onboarding_name_validation_error")),r.createElement(f.k0,{multiple:2})),r.createElement(f.Wd,{type:"submit"},s?(0,E.t)("whiteboard.open_sessions.onboarding_anonymous_submit"):(0,E.t)("whiteboard.open_sessions.onboarding_viewer_submit",{email:e.email}))),s&&r.createElement(r.Fragment,null,r.createElement(f.k0,{multiple:2}),r.createElement("div",{className:O},r.createElement("div",{className:D},(0,E.tx)("whiteboard.open_sessions.onboarding_disclaimer",{button_text:s?(0,E.t)("whiteboard.open_sessions.onboarding_disclaimer_access_file"):(0,E.t)("whiteboard.open_sessions.onboarding_disclaimer_continue"),tos:r.createElement(x.V,{url:A.Uw,title:(0,E.t)("whiteboard.open_sessions.onboarding_disclaimer_tos")}),privacy_policy:r.createElement(x.V,{url:A.JD,title:(0,E.t)("whiteboard.open_sessions.onboarding_disclaimer_privacy_policy")})})),!d.Ay.isMeetDevice&&r.createElement(r.Fragment,null,r.createElement(f.k0,{multiple:1}),r.createElement("div",{className:D},(0,E.tx)("whiteboard.open_sessions.already_have_an_account",{log_in:r.createElement(g.Us,{className:"workshop_modals--inlineLink--knuU8",onClick:n,trusted:!0},(0,E.tx)("whiteboard.open_sessions.already_have_an_account_log_in"))}))))))}function B(){let e=(0,I.iZ)(),t=(0,S.q5)(),n=!!t?.isTryFile,a=s.D.getState().selectedView;return(a?.view==="fullscreen"?a.claim:null)?null:r.createElement(R.aF,{disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,className:"workshop_modals--workshopOnboardModal---pZ-B"},r.createElement(b.fu,{name:"Jam Session Onboarding Modal",properties:{isAnonymous:!e,isFigjamTry:n,userID:e?.id??null,fileKey:t?.key}},r.createElement(l.i,null,n?r.createElement(F,{file:t}):r.createElement(K,{user:e,file:t}))))}let V=(0,P.D)((e,t)=>{let n=(0,p.DN)();try{let r=n.get(U(e));if(!r){n.set(U(e),[t]);return}let a=JSON.parse(r);a.includes(t)||(a.push(t),n.set(U(e),a))}catch(r){n.set(U(e),[t])}});function U(e){return`workshop_logged_in_accpeted_${e}`}},927990:(e,t,n)=>{n.d(t,{u:()=>d});var r=n(411855),a=n(776250),l=n(515009),o=n(356390),i=n(852800),s=n(662531),c=n(484892);function d({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:n,trackingOptions:d}){let[p,u]=r.useState(null),m=r.useRef(!1),_=s.nc.user("create-style",()=>{if(m.current=!0,p){let{key:e,version:t}=p,n=i.glU.getSoftDeletedStyleNodeId(e,t);return o.Y5.restoreStyle(n),(0,a.sx)("Style Created",{styleType:d.styleType,styleKey:p.key,styleVersion:p.version}),n}});return r.useEffect(()=>{let r=s.l7.system("create-soft-deleted-style",()=>(function({initialStyleCreationPaint:e,isCreatingFromSelection:t,inheritStyleKeyField:n}){if(!e)return i.glU.createSoftDeletedStyle(n,"","",t);{let t=(0,c.fZ)(e);return i.Osy.createSoftDeletedStyleFromPaintData(t,"")}})({initialStyleCreationPaint:t,inheritStyleKeyField:e,isCreatingFromSelection:n}));if(!r){u(null);return}return u(r),()=>{i.glU.selectStyle(l.n3.INVALID,l.IA.INVALID),s.l7.system("style-creation-cleanup",()=>{if(r&&!m.current){let e=i.glU.getSoftDeletedStyleNodeId(r.key,r.version);i.glU.detachAllConsumersOfStyle(e),i.glU.hardDeleteSoftDeletedNode(e)}})}},[t,e,n]),{styleRef:p,createStyle:_}}},502242:(e,t,n)=>{n.d(t,{O8:()=>H,Qv:()=>Y,RO:()=>W,we:()=>z});var r=n(411855),a=n(109388),l=n(188507),o=n(629019),i=n.n(o),s=n(776250),c=n(91408),d=n(374626),p=n(498750),u=n(153234),m=n(827586),_=n(987918),g=n(939863),f=n(175290),E=n(395281),h=n(168039),y=n(959232),v=n(83909),b=n(44892),w=n(356390),T=n(852800),N=n(662531),S=n(843495),I=n(848661),C=n(318812),k=n(237929),A=n(144119),x=n(179243),R=n(908968),P=n(311206),O=n(184027),D=n(766022),L=n(7959),M=n(538697),F=n(991443),K=n(860168),B=n(821150);let V=2*(0,c.hG)(K.dGl),U=(0,c.hG)(K.wQn);function H({selectedStyleProperties:e,styleName:t,styleNameInputPrefix:n,styleDescription:a,isRenaming:l,isInspectPanel:o,viewOnly:i,recordingKey:s,showSlideThemeField:c,slideThemeId:d,setSlideThemeId:p,showProperties:_=!0,onEnterPressed:g}){return r.createElement(f.Y,{direction:"vertical",spacing:0,height:"hug-contents"},r.createElement(z,{selectedStyleProperties:e}),r.createElement(m.P,{maxHeight:300,width:U},r.createElement("div",{className:B.BZ},r.createElement(G,{styleName:t,styleNameInputPrefix:n,styleDescription:a,selectedStyleProperties:e,isRenaming:l,isInspectPanel:o,viewOnly:i,recordingKey:s,onEnterPressed:g}),c&&d&&p&&r.createElement(X,{themeId:d,setThemeId:p,viewOnly:!!i,recordingKey:u.Pt(s,"slideTheme")})),_&&(o?r.createElement(P.U,{recordingKey:u.Pt(s,"inspectionPanel"),inStyleModal:!0}):r.createElement(W,{selectedStyleProperties:e,recordingKey:s}))))}function z({selectedStyleProperties:e}){let[t,n]=r.useState(!1),a=e.styleType,l="TEXT"===a,o="FILL"===a,s="dark"===(0,h.DP)(),{containerClassName:c,previewClassName:d}=r.useMemo(()=>({containerClassName:i()({[B.$9]:l,[B.vL]:!t&&o,[B.mj]:t&&o,[B.ig]:!l&&!o}),previewClassName:i()({[B.Lq]:!t,[B.s1]:t,[B.Gv]:!0,[B.Pj]:l,[B.SI]:l&&s,[B.hj]:o})}),[t,l,o,s]),p=r.useMemo(()=>{let e={};if(e.backgroundImage=`url('${(0,y.A)()}')`,!l)return o?t?e:void 0:e},[t,l,o]);return r.createElement(f.Y,{spacing:0,height:"hug-contents",padding:{left:o?V:0,right:o?V:0,top:o?V:0,bottom:V},verticalAlignItems:"start"},r.createElement("div",{style:p,className:c},e.url?r.createElement("img",{src:e.url,className:d,alt:"",onLoad:()=>{n(!0)}}):r.createElement(F.zi,{dsStyle:{style_type:e.styleType}})))}function G({selectedStyleProperties:e,styleName:t,styleNameInputPrefix:n,styleDescription:o,recordingKey:i,viewOnly:d,onEnterPressed:m}){let[h,y]=r.useState((n??"")+(t?(0,k.kH)(t):"")),[C,A]=r.useState((0,I._W)(o,"")),x=(0,l.wA)(),P=e.guid,D=e.styleType,M=r.useRef(null),F=r.useContext(O.zK),U=u.of(u.Pt(i,"styleName"),"submit",()=>{if(""===h)return;let n=t?(0,k.In)(t):void 0,r=n?n+"/"+h:h;N.l7.user("rename-style",()=>T.glU.renameNode((0,_.dI)(P),(0,b.J_)(r))),w.Y5.triggerAction("commit"),H(),(0,s.sx)("Style Renamed",{styleType:e.styleType})}),H=()=>{x(E.ay({isRenaming:!1}))},z=u.v_(i,"keydown",e=>{if(e.keyCode===p.Uz.TAB)U();else if(e.keyCode===p.Uz.ENTER)U(),F===O.zM.EDIT_STYLE&&""===h||null==m||m();else{if(e.keyCode!==p.Uz.ESCAPE)return u.aH;(0,a.flushSync)(()=>{y(t?(0,k.kH)(t):"")}),H();let n=a.findDOMNode(M.current);n&&n.blur()}}),G=()=>{N.l7.user("set-style-description",()=>(0,S.Sn)((0,_.dI)(P),C)),(0,s.sx)("Style Description Changed",{styleType:D,length:C.length,guid:(0,_.dI)(P)})};return r.createElement(f.Y,{direction:"vertical",height:"hug-contents"},r.createElement(f.Y,{spacing:0,horizontalAlignItems:"space-between",height:"hug-contents",padding:{horizontal:V}},r.createElement(L.JU,{disabled:d},(0,g.tx)("design_systems.create_style.name")),d?r.createElement(f.Y,{padding:{vertical:(0,c.hG)(K.dGl)},width:"hug-contents",height:"hug-contents",verticalAlignItems:"start"},t):r.createElement(L.ks,{ref:M,className:B._Z,name:"styleName",value:h,placeholder:Y(D),onFocus:()=>(x(E.ay({isRenaming:!0})),y(h),u.aH),onBlur:U,onChange:e=>{let n=e.target.value;y(n),t!==n&&v.wt.reportEditAction("style-rename")},onKeyDown:z,recordingKey:u.Pt(i,"styleName"),delay:50,autoFocus:!0,autoComplete:"off"})),(o||!d)&&r.createElement(f.Y,{spacing:16,horizontalAlignItems:"space-between",height:"hug-contents",padding:{horizontal:V},verticalAlignItems:"start"},r.createElement(L.JU,{disabled:d,className:B.ow},(0,g.t)("design_systems.create_style.description")),d?r.createElement(f.Y,{spacing:0,padding:{vertical:(0,c.hG)(K.dGl)},width:"hug-contents",height:"hug-contents",verticalAlignItems:"start",horizontalAlignItems:"end"},r.createElement("div",{className:B.PE},o)):r.createElement(R.v,{className:`${B._Z} ${B.uO}`,name:"styleDescription",value:C,placeholder:(0,g.t)("design_systems.create_style.placeholder_description"),onBlur:G,spellCheck:!1,onChange:e=>{A(e.target.value),v.wt.reportEditAction("change-style-description")},submit:G,recordingKey:u.Pt(i,"styleDescription"),autoComplete:"off",delay:50})))}function W({selectedStyleProperties:e,recordingKey:t}){return r.createElement("div",null,"FILL"===e.styleType&&r.createElement(D.B8,{key:"fill",selectionProperties:e,recordingKey:t}),"GRID"===e.styleType&&r.createElement(D.tC,{key:"grids",selectionProperties:e,recordingKey:t}),"TEXT"===e.styleType&&r.createElement(D.gc,{key:"type",selectionProperties:e,recordingKey:t}),"EFFECT"===e.styleType&&r.createElement(D.w5,{key:"effects",selectionProperties:e,recordingKey:t}))}function Y(e){switch(e){case"FILL":return(0,g.t)("design_systems.create_style.placeholder_name_color");case"TEXT":return(0,g.t)("design_systems.create_style.placeholder_name_text");case"EFFECT":return(0,g.t)("design_systems.create_style.placeholder_name_effect");case"GRID":return(0,g.t)("design_systems.create_style.placeholder_name_grid");default:return(0,g.t)("design_systems.create_style.placeholder_name_create_new_style_generic")}}function X({themeId:e,setThemeId:t,viewOnly:n,recordingKey:a}){let o=(0,A.sO)(),i=(0,l.wA)(),s=(0,C.Um)(),p=(0,d.md)(x.TN),m=(0,d.md)(x.Dq)[e]||"";return o&&e?r.createElement(f.Y,{horizontalAlignItems:"space-between",height:"hug-contents",padding:{left:V,right:V,top:V/2,bottom:0}},r.createElement(L.JU,{disabled:n},(0,g.tx)("slides.properties_panel.theme.panel_title")),n?r.createElement(f.Y,{padding:{vertical:(0,c.hG)(K.dGl)},width:"hug-contents",height:"hug-contents",verticalAlignItems:"start"},m):r.createElement("div",{className:B.Xm},r.createElement(M.l6,{id:"style-properties-form-slide-theme-select",property:e,onChange:t,formatter:{format:e=>{var t;return(null==(t=(0,x.Dh)(e))?void 0:t.name)||""}},dispatch:i,dropdownShown:s,recordingKey:a},p.map(e=>r.createElement(M.c$,{key:e,value:e,recordingKey:u.Pt(a,e)}))))):null}},468829:(e,t,n)=>{n.d(t,{w:()=>p});var r=n(411855),a=n(629019),l=n.n(a),o=n(966712),i=n(762638),s=n(939863),c=n(422237),d=n(530244);let p=(0,c.ex)("ai_features_tooltip",function(){return(0,o.kc)().figjam_synthesize_handbrake?r.createElement("div",{className:i.cx.flex.flexColumn.justifyCenter.$},r.createElement("p",{className:l()(d.Qq)},(0,s.t)("whiteboard.inline_menu.ai_quick_actions_disabled_header")),r.createElement("p",{className:l()(d.Qq)},(0,s.t)("whiteboard.inline_menu.ai_quick_actions_disabled_try_again_later"))):r.createElement("span",null,(0,s.t)("whiteboard.inline_menu.ai_quick_actions_button_text"))})},782467:(e,t,n)=>{n.d(t,{e:()=>l,n:()=>o});var r=n(411855),a=n(560945);function l({ref:e,onTextChange:t,text:n}){return o({ref:e,onTextChange:t,text:n,checkVerticalOverflow:!1})}function o({ref:e,onTextChange:t,text:n,checkVerticalOverflow:l=!1}){let[o,i]=(0,r.useState)(!1),s=(0,a.w)(e);return(0,r.useLayoutEffect)(()=>void t?.(),[t,n]),(0,r.useLayoutEffect)(()=>{var t,n;i(l?!!(t=e.current)&&t.offsetHeight<t.scrollHeight:!!(n=e.current)&&n.clientWidth<n.scrollWidth)},[l,e,s,n]),o}},844157:(e,t,n)=>{n.d(t,{b:()=>a});var r=n(912666);function a(e,t){let n=e[r.Ms[t]];return e[r.UC[t]]?void 0:n}},763658:(e,t,n)=>{n.d(t,{k:()=>c});var r=n(411855),a=n(179479),l=n(69961),o=n(414441),i=n(863359),s=n(201547);function c(e){return(0,o.TR)()?r.createElement(d,{...e}):r.createElement(r.Fragment,null,e.children)}function d({name:e,trackingEnabled:t,alsoTrack:n,children:c}){let d=(0,a.F)(n),p=(0,o.U2)({name:e,trackingEnabled:t,alsoTrackRef:d,isNamespace:!1,autoTrackable:!1}),{error:u,trackablePath:m}=p,_=(0,o.MF)(()=>(0,o.ET)(m));(0,o.fK)(m,_);let g=(0,l.o3)(l.nt.trackableDebug),f=(0,o.MF)(()=>(0,o.R8)({componentName:"Trackable",name:e,error:u,alsoTrackedProperties:_()}));return c=(0,s.C)({children:c,isDebugMode:g,name:e,color:u?"red":"green",depth:m.length,getTooltipText:f}),r.createElement(i.f.Provider,{value:p},r.createElement("div",{className:"displayContents","data-trackable-name":e},c))}},552048:(e,t,n)=>{n.d(t,{S:()=>d});var r=n(411855),a=n(629019),l=n.n(a),o=n(574176),i=n(516398),s=n(949207),c=n(432023);function d({children:e,isInitiallyOpen:t,title:n,titleClassName:a}){let[d,p]=r.useState(t),u=()=>p(e=>!e);return r.createElement("div",null,r.createElement("div",{className:l()("collapse--collapseTitle---N1bR",a),onClick:u,onKeyDown:e=>(0,i.hx)({e,onClickHandler:u}),role:"button",tabIndex:0},r.createElement(o.B,{className:"collapse--expandCaret--FzvQ9 library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:d?s.A:c.A}),n),d&&e)}},324666:(e,t,n)=>{function r(){return null}n.d(t,{GO:()=>_,H5:()=>a,Mr:()=>h,Qc:()=>s,eg:()=>m,g9:()=>y,go:()=>i,i_:()=>v,j8:()=>g,kD:()=>l,l:()=>u,li:()=>p,lt:()=>o,mh:()=>E,oT:()=>f,rC:()=>c,rf:()=>d});let a=r,l=r,o=r,i=r,s=r,c=r,d=r,p=r,u=r,m=r,_=r,g=r,f=r,E=r,h=r,y=r,v=r},742934:(e,t,n)=>{n.d(t,{FW:()=>_,NQ:()=>g,PG:()=>f,o9:()=>E});var r=n(411855),a=n(188507),l=n(568214),o=n(374626),i=n(632430),s=n(852800),c=n(662531),d=n(29680),p=n(279702),u=n(478655),m=n(179243);function _(e){return{type:"SOLID",opacity:1,visible:!0,blendMode:"NORMAL",colorVar:{value:{alias:e},dataType:"ALIAS",resolvedDataType:"COLOR"}}}function g(e){return{type:"SOLID",color:{...e,a:1},opacity:e.a,blendMode:"NORMAL"}}function f(e){let t=(0,o.md)(m.ik),n=(0,a.wA)(),l=(0,o.md)(m.E_);return r.useCallback(async r=>{let a=await n((0,i.Oe)(r)),o=u.sH(a);o&&(t?c.l7.user("slides-edit-theme-color",()=>s.Ez5.slideThemeLibBindings().setThemeColorVariableFromSubscribedVariableColorValue((null==l?void 0:l.varId)||"",(null==l?void 0:l.modeId)||"",a)):e(_(o),p.zk.YES))},[n,l,t,e])}function E(e,t){let n=(0,a.wA)(),s=(0,o.md)(m.E_),p=(0,d.eY)(),u=(0,o.md)(m.ik);return r.useCallback((r,a)=>{u?n((0,i.nh)({style:r,callback:e=>{let n=p.get(e),r=(0,l.AW)(null==n?void 0:n.fills);r&&t&&c.l7.user("slides-edit-theme-color",()=>t((null==s?void 0:s.varId)||"",(null==s?void 0:s.modeId)||"",g(r)))}})):n(i.AV({style:r,inheritStyleKeyField:e,fromSearch:null==a?void 0:a.fromSearch}))},[n,s,e,u,p,t])}},753243:(e,t,n)=>{n.d(t,{GY:()=>W,pg:()=>G,qm:()=>Z});var r=n(411855),a=n(188507),l=n(767129),o=n(927457),i=n(859905),s=n(221768),c=n(629019),d=n.n(c),p=n(568214),u=n(374626),m=n(153234),_=n(522739),g=n(30637),f=n(520581),E=n(347082),h=n(572206),y=n(46481),v=n(762638),b=n(987918),w=n(939863),T=n(293017),N=n(259927),S=n(428654),I=n(775664),C=n(774191),k=n(852800),A=n(662531),x=n(848661),R=n(869156),P=n(318812),O=n(498606),D=n(420186),L=n(746806),M=n(179243),F=n(559681),K=n(452883),B=n(742934),V=n(173915),U=n(99123),H=n(501191),z=n(660164);let G=240;function W({paint:e,onChange:t,onClose:n,pickerShown:i,recordingKey:s,hideCustomColorPickerFillTypeToggle:c,inheritStyleKeyField:d}){let _=(0,a.wA)(),g=(0,K.$)(),v=(0,F.UZ)(g),I=(0,P.BK)(N.kX),U=(0,F.lK)(g),W=e=>{t({...e,type:"SOLID"})},[j,q]=r.useState(!1),[J,Q]=r.useState(new h.Mi(0,0)),ee=r.useRef(null),et=r.useRef(null),en=r.useCallback(()=>{if(et.current){let{x:e,y:t}=(0,D.cn)(et.current,V.jP);Q(new h.Mi(e,t)),q(!0)}else console.error("colorsWrapperRef.current is null")},[et]),[er,ea]=(0,u.fp)(M.ik),[el,eo]=(0,u.fp)(M.E_),ei=(0,R.bL)((null==el?void 0:el.varId)||"",v);r.useEffect(()=>()=>{eo(null),ea(!1)},[eo,ea]);let es=(0,F.k1)(),ec=A.nc.user("slides-add-theme-color",()=>{let t=es(function(e,t){if((0,x.hS)(e)&&e.color)return e.color;let n=p.UE;if(t.length>0){let e=t[t.length-1].paint.color;e&&(n=(0,C.Ad)(e,31))}return n}(e,U));t&&(eo({varId:t,modeId:v}),en())}),ed=r.useCallback(e=>{ea(!0),eo({varId:e,modeId:v}),en()},[en,v,ea,eo]),ep=r.useCallback(()=>{ea(!1),eo(null),q(!1)},[eo,ea,q]),eu=r.useMemo(()=>er&&ei&&ei.type===k.Z_n.COLOR?(0,B.NQ)(ei.value):(0,x.hS)(e)?e:(0,B.NQ)(p.Uv),[er,ei,e]),em=r.useCallback((e,n)=>{er?el&&e.color&&A.l7.user("slides-edit-theme-color",()=>$(el.varId,el.modeId,e)):t(e,n)},[er,el,t]),e_=(0,B.PG)(t),eg=(0,B.o9)(d,$);return r.createElement("div",{ref:ee},r.createElement(E.p,{name:"slides_color_picker"},(er||!j)&&r.createElement(L.vx,{headerSize:"small",title:(0,w.t)("slides.properties_panel.fill"),initialPosition:new h.Mi(i.initialX,i.initialY),onClose:()=>{ea(!1),n()},initialWidth:G,autoflowHeight:!0,recordingKey:s},r.createElement("div",{ref:et},r.createElement(X,{title:(0,w.t)("slides.properties_panel.color_picker.theme_colors"),rightControl:r.createElement(l.K,{"aria-label":(0,w.t)("slides.properties_panel.color_picker.add_template_color_tooltip"),onClick:()=>{er||ea(!0),ec()},recordingKey:m.Pt(s,"addThemeColor"),htmlAttributes:{"data-tooltip-type":O.Ib.TEXT,"data-tooltip":(0,w.t)("slides.properties_panel.color_picker.add_template_color_tooltip")}},r.createElement(y.U,{svg:H.A,fallbackSvg:z.A},r.createElement(o.e,null))),showBottomBorder:!0},r.createElement(f.E,{name:"slides_theme_colors"},U.map(({paint:n,variableId:a,variableName:l})=>{var o,i,c,d,p,u,_,g,f;let E=er?!!el&&a===el.varId:(0,b.aI)(null==(c=null==(i=null==(o=n.colorVar)?void 0:o.value)?void 0:i.alias)?void 0:c.guid,null==(u=null==(p=null==(d=null==e?void 0:e.colorVar)?void 0:d.value)?void 0:p.alias)?void 0:u.guid);return n.color&&(null==(f=null==(g=null==(_=n.colorVar)?void 0:_.value)?void 0:g.alias)?void 0:f.guid)?r.createElement(Z,{key:a,backgroundString:S.F.format({...n.color,a:1}),tooltipText:l,opacity:n.color.a,onClick:()=>{er?E||(ep(),W({...e,...n})):W({...e,...n})},isSelected:E,showEditIcon:E,isEditing:er&&E,onClickEdit:()=>{er?ep():ed(a)},onContextMenu:n=>{n.stopPropagation(),n.preventDefault();let{clientX:r,clientY:l}=n;I.show({data:{clientX:r,clientY:l,targetItem:{type:"THEME_COLOR",variableId:a,onEdit:()=>ed(a)},paint:e,onPaintChange:t}})},recordingKey:m.Pt(s,"themeColors",a.replace("VariableID:",""))}):null}))),r.createElement(Y,{paint:e,onPaintChange:t,onClickColorChit:em,onClickAddColor:()=>{ep(),en()},isEditingTheme:er,recordingKey:s}))),j&&eu&&r.createElement(V.Ph,{paint:eu,onPaintChange:em,onColorVariableChange:e_,onApplyStyle:eg,onClose:()=>{eo(null),q(!1),er||_(T.XE()),ea(!1)},initialPosition:er?J:new h.Mi(i.initialX,i.initialY),recordingKey:"slidesCustomColorPicker",enableGradients:!el,hideCustomColorPickerFillTypeToggle:c})))}function Y({paint:e,onPaintChange:t,onClickColorChit:n,onClickAddColor:a,isEditingTheme:l,recordingKey:o}){let s=(0,P.BK)(N.kX),[c,d]=r.useState(!1),p=(0,K.$)(),[u]=r.useState((0,F.lf)(p)),g=c?u:u.slice(0,17),E=!c&&u.length>17,h=(n,r)=>{if(n.color){r.stopPropagation(),r.preventDefault();let{clientX:a,clientY:l}=r;s.show({data:{clientX:a,clientY:l,targetItem:{type:"DOCUMENT_COLOR",documentColor:n.color},paint:e,onPaintChange:t}})}};return r.createElement(X,{title:(0,w.t)("slides.properties_panel.color_picker.document_colors"),removeBottomPadding:E},r.createElement(f.E,{name:"slides_add_custom_color"},r.createElement("div",{className:v.cx.flex.justifyCenter.itemsCenter.w32.h32.$},r.createElement(_.D8,{className:v.cx.w24.h24.$,"aria-label":(0,w.t)("slides.properties_panel.color_picker.add_color_aria_label"),onClick:a,"data-tooltip-type":O.Ib.TEXT,"data-tooltip":(0,w.t)("slides.properties_panel.color_picker.add_color_aria_label"),recordingKey:m.Pt(o,"addColor")},r.createElement("img",{src:"https://static.figma.com/uploads/bdf32fe13fe9a9be5b40c3de4a18572f14c9a1eb",alt:"",className:v.cx.w24.h24.$})))),r.createElement(f.E,{name:"slides_document_colors"},g.map((t,a)=>r.createElement(Z,{key:a,backgroundString:S.F.format(t.color),tooltipText:I.z5.format(t.color),opacity:t.opacity,onClick:()=>n(t),onContextMenu:e=>h(t,e),isSelected:!l&&(0,C.Vm)(t.color,null==e?void 0:e.color)&&t.opacity===(null==e?void 0:e.opacity),recordingKey:m.Pt(o,"documentColor",S.F.format(t.color))})),E&&r.createElement(_.D8,{className:v.cx.wFull.h32.flex.itemsCenter.justifyCenter.$,onClick:()=>d(!0),recordingKey:m.Pt(o,"documentColors","more")},r.createElement(i.k,null))))}function X({title:e,rightControl:t,removeBottomPadding:n,showBottomBorder:a,children:l}){return r.createElement("div",{className:v.cx.px12.if(a,v.cx.bb1.bSolid.colorBorder).if(!n,v.cx.pb12).$},r.createElement("div",{className:v.cx.h40.pl4.flex.justifyBetween.itemsCenter.$},r.createElement("div",{className:v.cx.textBodyMedium.colorTextSecondary.$},e),t),r.createElement("div",{className:v.cx.flex.flexWrap.gap4.$},l))}function Z({backgroundString:e,opacity:t,tooltipText:n,onClick:a,onContextMenu:l,isSelected:o,showEditIcon:i,isEditing:c,onClickEdit:p,recordingKey:u}){return r.createElement("div",{className:d()(U.k8,{[U.wH]:o}),"data-tooltip-type":O.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":n},i&&p&&r.createElement(_.GG,{className:d()(U.Lq,{[U.Sn]:c,[U.Qo]:(0,g.nl)()}),onClick:e=>{if((0,g.nl)())p();else{let t=e.currentTarget.getBoundingClientRect(),n=t.width/2,r=t.left+n,a=t.top+n;Math.pow(e.clientX-r,2)+Math.pow(e.clientY-a,2)<=n*n&&p()}},recordingKey:m.Pt(u,"edit")},r.createElement(s.A,null)),r.createElement(_.D8,{onClick:a,onContextMenu:l,className:v.cx.w24.h24.relative.$,recordingKey:u},r.createElement("div",{className:U.Le,style:{background:e}}),r.createElement("div",{className:U.f$,style:{opacity:void 0!==t?1-t:0}})))}function $(e,t,n){k.CWU.setVariableValueForMode(e,t,{type:k.Z_n.COLOR,resolvedType:k.rXF.COLOR,value:{...n.color,a:n.opacity??1}})}},173915:(e,t,n)=>{n.d(t,{Ph:()=>O,jP:()=>x,li:()=>R});var r=n(411855),a=n(188507),l=n(697378),o=n(864361),i=n(860601),s=n(153234),c=n(522739),d=n(347082),p=n(762638),u=n(939863),m=n(356390),_=n(288536),g=n(852800),f=n(617453),E=n(618056),h=n(555074),y=n(318812),v=n(29680),b=n(279702),w=n(233890),T=n(846848),N=n(12669),S=n(113754),I=n(939143),C=n(875157),k=n(746806),A=n(99123);let x=T.qo,R={type:"SOLID",color:{r:0,g:0,b:0,a:1},opacity:1,blendMode:"NORMAL"};var P=(e=>(e[e.COLOR=0]="COLOR",e[e.GRADIENT=1]="GRADIENT",e))(P||{});function O({paint:e,onPaintChange:t,onColorVariableChange:n,onApplyStyle:o,onClose:c,initialPosition:p,enableGradients:_,initialView:f,recordingKey:E,hideCustomColorPickerFillTypeToggle:y}){let v=["custom_color","library"],[b,w]=l.t.useTabs({custom_color:v.includes("custom_color"),library:v.includes("library")},{defaultActive:()=>(function({initialView:e,isBoundToLibraryAsset:t,supportedViews:n}){let r;return(r=e||(t?"library":"custom_color"),n&&!n.includes(r))?n[0]:r})({initialView:"custom_color",isBoundToLibraryAsset:!!e.colorVar,supportedViews:v})}),T=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),N=(0,h.kl)("numSelectedByType"),S=r.useMemo(()=>{if(N)return(0,C.aZ)(g.rrT.FILL,N)},[N]),A=w.activeTab;r.useEffect(()=>{f&&f!==A&&w.setActiveTab(f)},[f]);let R=new Set;return r.createElement(d.p,{name:"slides_custom_color_picker"},r.createElement(k.vx,{initialPosition:p,title:r.createElement("div",null,r.createElement(l.t.TabStrip,{manager:w},r.createElement(l.t.Tab,{...b.custom_color},(0,u.tx)("fullscreen.properties_panel.color_picker.custom")),r.createElement(l.t.Tab,{...b.library},(0,u.tx)("fullscreen.properties_panel.color_picker.libraries")))),onClose:()=>{T===g.m1T.GRADIENT&&m.Y5.triggerAction("leave-edit-mode"),c()},initialWidth:x,recordingKey:E},r.createElement(l.t.TabPanel,{...b.custom_color},r.createElement(D,{paint:e,onPaintChange:t,enableGradients:_,recordingKey:E,hideCustomColorPickerFillTypeToggle:y})),r.createElement(l.t.TabPanel,{...b.library},r.createElement(I.Rp,{selectedItem:null,resolvedType:g.rXF.COLOR,disabledVariableIds:R,pickerType:"color-picker",recordingKey:s.Pt(E,"libraryColors"),onVariableSelected:n,onStyleSelected:o,onClose:i.lQ,variableScopes:S}))))}function D({paint:e,onPaintChange:t,enableGradients:n,recordingKey:l,hideCustomColorPickerFillTypeToggle:i}){let s=(0,a.wA)(),c=(0,y.Um)(),d=(0,v.dH)(),p=(0,_.Ep)(),u=(0,o.C)(),h=(0,f.Ku)(),I=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),C=r.useRef(null),[k,A]=r.useState((0,E.bn)(e.type)?1:0),x=(0,E.Ou)(e),P=(0,E.x$)(e),O=(0,v.p8)("currentSelectedGradientStop"),D=(0,E.iC)(x||P||R,O);r.useEffect(()=>{1===k&&I!==g.m1T.GRADIENT?m.Y5.triggerAction("toggle-gradient-edit-mode"):0===k&&I===g.m1T.GRADIENT&&m.Y5.triggerAction("leave-edit-mode")},[k,I]);let M=n=>{e.type!==n&&t(E.Tm.initPaint(n,R.color,e,"slides-custom-color-picker"),!(0,E.bn)(e.type)&&(0,E.bn)(n)?b.zk.NO:b.zk.YES)};return r.createElement(r.Fragment,null,!i&&n&&r.createElement(L,{panelType:k,onPanelTypeChange:e=>{k!==e&&(M(0===e?"SOLID":"GRADIENT_LINEAR"),A(e))},recordingKey:l}),n&&1===k&&P&&r.createElement(w.vL,{name:"Slides color picker",ref:C,handleKeyDown:e=>{P&&(0,N.T)(e,P,I,O,t)},focusOnMount:!0,forceUpdate:u},r.createElement(S.i,{paint:P,onChange:t,currentSelectedGradientStop:O,colorProfile:p,hasFocus:!!C.current&&C.current.hasFocus(),dispatch:s,recordingKey:l})),r.createElement(T.S7,{color:D,colorFormat:h,onColorChange:(n,r)=>{(0,N.n)(n,e,O,t,r)},dropperDisabled:!1,displayType:T.sX.FULL,currentTool:d,dispatch:s,dropdownShown:c,recordingKey:l,canAcceptStyles:!1,canAcceptVariables:!1}))}function L({panelType:e,onPanelTypeChange:t,recordingKey:n}){let a=[{type:0,label:(0,u.t)("slides.properties_panel.color_picker.color_toggle"),optionRecordingKey:"color"},{type:1,label:(0,u.t)("slides.properties_panel.color_picker.gradient_toggle"),optionRecordingKey:"gradient"}];return r.createElement("div",{className:p.cx.wFull.py8.bb1.bSolid.colorBorder.$},r.createElement("div",{className:A.X9},a.map(({type:a,label:l,optionRecordingKey:o})=>r.createElement(c.GG,{key:a,className:e===a?A.wH:void 0,onClick:()=>t(a),recordingKey:s.Pt(n,o)},l))))}},60656:(e,t,n)=>{n.d(t,{u:()=>o});var r=n(411855),a=n(860601);let l={tonePosition:[0,0],setTonePosition:a.lQ,setPositionAndRun:a.lQ},o=(0,r.createContext)(l)},156182:(e,t,n)=>{n.d(t,{G:()=>a});var r=n(776250);function a(e){(0,r.sx)("slides_rewrite_event",e)}},263086:(e,t,n)=>{n.d(t,{DX:()=>f,FT:()=>g,eX:()=>E});var r=n(411855),a=n(776621),l=n(304783),o=n(515009),i=n(550273),s=n(313516),c=n(662531),d=n(341860),p=n(809511),u=n(32067),m=n(709731),_=n(108239);function g(e,t,n){let a=(0,r.useCallback)(n=>{e(n),t()},[e,t]),l=(0,r.useCallback)(e=>{n(e)},[n]);return(0,r.useCallback)(e=>{let{eventType:t,node:n}=e;switch(t){case"BEFORE_STREAM_START":a(n);return;case"AFTER_STREAM_CHUNK":l(n);return}},[a,l])}function f(e){let t=(0,r.useRef)(new Map),n=(0,m.wj)(e).state;return(0,r.useEffect)(()=>{n!==m.qy.RUNNING&&t.current.size>0&&(t.current=new Map)},[n]),{slidesTextResizeCallback:(0,r.useCallback)(e=>{if(!e.isInSlide())return;let n=t.current,r=n.get(e.guid);r&&cancelAnimationFrame(r);let i=requestAnimationFrame(()=>{c.l7.ai("slide-rewrite-text",()=>{(function(e){let t=e.findContainingSlideOrSelf(),n=d.q.instance.get(t);if(!n||"WIDTH_AND_HEIGHT"!==e.textAutoResize)return;let r=n.size.x,a=n.absoluteTransform.m02,l=a+r,o=e.absoluteTransform.m02,i=e.size.x;if(o<=a+16){if(e.parentGuid===t)(0,_.HH)(e,16,e.relativeTransform.m12);else{let n=e;for(;n.parentGuid!==t&&n.parentNode;)n=n.parentNode;(0,_.HH)(n,16,n.relativeTransform.m12)}let n=a+16-o;e.resizeWithConstraints(i-n,e.size.y),o=e.absoluteTransform.m02,i-=n}o+i>=l-16&&e.resizeWithConstraints(l-16-o,e.size.y)})(e),function(e){let t=e.findContainingSlideOrSelf(),n=d.q.instance.get(t);if(!n||"HEIGHT"!==e.textAutoResize&&"WIDTH_AND_HEIGHT"!==e.textAutoResize)return;let r=n.absoluteTransform.m12,i=n.absoluteTransform.m12+n.size.y,c=e.size.y,u=e.absoluteTransform.m12;if(u<r+16||u+c>i-16){let t;e.inheritedTextStyle&&(p.glU.applyStyleToSelection("inheritTextStyleKey",s.K8,!1),p.glU.selectStyle(o.n3.INVALID,o.IA.INVALID));let n=Math.max(0,r+16-u),d=Math.max(0,u+c-(i-16)),m=e.lineHeightOrMixed;"mixed"===m&&(m=e.getRangeLineHeight(0,1)),"mixed"===m?(t=1,(0,a.$D)(l.e.FIGJAM_AI,Error("Unexpected mixed line height while resizing text node for slide bounds"))):"PIXELS"===m.units?(t=m.value/e.fontSize,e.lineHeight={units:"RAW",value:t}):t=m.value;let _=c/(e.fontSize*t),g=Math.floor((e.fontSize*t-(n+d)/_)/t);e.fontSize=Math.max(g,8)}}(e)})});n.set(e.guid,i)},[])}}function E(){let e=(0,u.O1)(),t=(0,i.Gc)(e,{allowEmpty:!1}),n=(0,r.useRef)(new Map),a=(0,r.useCallback)(()=>{n.current.clear()},[]),l=(0,r.useCallback)(()=>{c.l7.ai("slide-rewrite-text",()=>{for(let[e,t]of n.current){let n=d.q.instance.get(e);n&&(0,_.HH)(n,t.x,t.y)}n.current.clear()})},[]),o=(0,r.useCallback)(e=>{n.current.has(e.guid)||n.current.set(e.guid,{x:e.relativeTransform.m02,y:e.relativeTransform.m12})},[]);return{shiftAllNodesOutOfSlideMargins:(0,r.useCallback)(()=>{t.forEach(e=>{c.l7.ai("slide-rewrite-text",()=>{let t=e.findContainingSlideOrSelf(),n=d.q.instance.get(t);if(!n)return;let r=e.absoluteTransform.m12,a=e.size.y,l=n.absoluteTransform.m12,i=l+n.size.y,s=(0,_.F7)(e);if(r<l+16)o(s),(0,_.HH)(s,s.relativeTransform.m02,16);else if(r+a>i-16){let e=Math.max(s.relativeTransform.m12-(r+a-(i-16)),16);o(s),(0,_.HH)(s,s.relativeTransform.m02,e)}})})},[t,o]),resetShiftedNodes:l,resetNodePositionMap:a}}},424950:(e,t,n)=>{n.d(t,{Cw:()=>$,JU:()=>et,Jp:()=>Z,Ne:()=>U,Os:()=>Y,Tm:()=>V,cR:()=>W,cx:()=>Q,fm:()=>K,fp:()=>q,h$:()=>G,h2:()=>X,mD:()=>H,o$:()=>z,p$:()=>ee,uG:()=>j,wi:()=>en});var r=n(411855),a=n(188507),l=n(409990),o=n(341092),i=n(841563),s=n.n(i),c=n(622422),d=n(358145),p=n(966712),u=n(374626),m=n(776621),_=n(966981),g=n(304783),f=n(877723),E=n(939863),h=n(392592),y=n(934533),v=n(239349),b=n(293017),w=n(259927),T=n(550273),N=n(574724),S=n(662531),I=n(341860),C=n(809511),k=n(499777),A=n(420186),x=n(32067),R=n(914905),P=n(222478),O=n(709731),D=n(999140),L=n(573591),M=n(60656),F=n(156182);let K=1/3,B="tone-dial-visual-bell",V=(0,k.TJ)(w.vu);function U(){let e=(0,x.O1)();return(0,f.u4)()&&!!(0,p.kc)().figjam_ai_piper_text_manipulation&&(0,T.Gc)(e,{allowEmpty:!1}).length>0}function H(e,t){let{source:n,toggle:r}=t,a=u.zl.get(R.h);if(!a?.current)return;if(u.zl.set(D.zF,n),u.zl.get(V)){r&&z(e);return}let l=(0,A.cn)(a.current,A.qo);e(b.u1({id:w.vu,initialX:l.x,initialY:l.y})),(0,F.G)({eventName:"modal_opened",source:n})}function z(e){e(b.XE()),(0,F.G)({eventName:"modal_closed"})}function G(e,t,n,a){let l=(0,r.useCallback)(({texts:t,parameters:n,targetMap:r,authInfo:a})=>{let l=e(r.values()),o=t.map(({id:e,text:t})=>{let n=r.get(e),a=n&&l.get(n.node.guid);return{id:e,text:a?.effectiveText??t}});return N.Ay.slides.rewriteText({texts:o,tones:n.tones},a)},[e]),{onRun:o,lastParameters:i,longRunningAction:s,cancel:c}=(0,L.Hd)({makeCortexRequest:l,featureType:P.JT.SLIDES_REWRITE_TEXT,excludeDigitsAndSpecialChar:!!(0,p.kc)().ai_prod_tone_dial_block_digits,onNodeStreamEvent:t,onError:n,onSuccess:a}),{enqueueRun:d}=function(e){let t=(0,r.useRef)(),n=(0,r.useRef)(),a=(0,r.useCallback)(()=>{t.current=void 0,n.current&&(t.current=n.current().then(a),n.current=void 0)},[]);return{enqueueRun:(0,r.useCallback)(r=>{if(t.current){n.current=()=>e(r);return}t.current=e(r).then(a)},[a,e])}}(o);return{enqueueRun:d,lastParameters:i,longRunningAction:s,cancel:c}}function W(){let[e,t]=(0,r.useState)(()=>new Map),n=(0,r.useCallback)(n=>{if(e.size)return e;let r=new Map;for(let e of n){let t=e.node,n=e.selectionRange?.start??0,a=t.getRangeFontSize(n,n+1),l=t.getRangeLineHeight(n,n+1),o=t.inheritedTextStyle;("mixed"===a||"mixed"===l)&&(0,m.$D)(g.e.FIGJAM_AI,Error("Unexpected mixed font size or line height while saving initial font size and line height")),r.set(t.guid,{...e,fontSize:"mixed"!==a?a:void 0,lineHeight:"mixed"!==l?l:void 0,nodeTextStyle:o})}return t(r),r},[e]),a=(0,r.useCallback)(()=>{t(new Map)},[]),l=(0,r.useCallback)(t=>{let n=e.get(t.guid);if(!n)return;let r=n.fontSize,a=n.lineHeight,l=n.nodeTextStyle,o=n.selectionRange?.start??0,i=n.selectionRange?.end??t.characters.length;S.l7.ai("slides-rewrite-text",()=>{r&&t.fontSize!==r&&t.setRangeFontSize(o,i,r),a&&!s()(t.lineHeightOrMixed,a)&&t.setRangeLineHeight(o,i,a),l&&(t.inheritedTextStyle=l)})},[e]),o=(0,r.useCallback)(()=>{for(let t of e.values())l(t.node)},[e,l]);return{originalNodeInfos:e,saveOriginalNodeInfos:n,resetOriginalNodeInfos:a,revertNodeToOriginalNodeInfo:l,resetAllNodesToOriginalTextStyles:o}}function Y(e){let t=(0,O.pP)(P.JT.SLIDES_REWRITE_TEXT),n=t.state,l=(0,d.ZC)(n)!==n,i=(0,a.wA)();(0,r.useEffect)(()=>()=>{i(h.F.dequeue({matchType:B})),(0,O.cT)(P.JT.SLIDES_REWRITE_TEXT)},[i]),(0,r.useEffect)(()=>{if(l){if(n===O.qy.RUNNING)i(h.F.enqueue({message:(0,E.t)("slides.properties_panel.rewrite_text.action_rewriting"),icon:y.zX.SPINNER,type:B,timeoutOverride:1/0,button:{text:(0,E.t)("slides.properties_panel.rewrite_text.action_stop"),action:()=>(0,O.cT)(P.JT.SLIDES_REWRITE_TEXT)}}));else if(n===O.qy.CANCELLED)i(h.F.dequeue({matchType:B}));else if(n===O.qy.DONE)i(h.F.enqueue({icon:y.zX.CHECK,message:(0,E.t)("slides.properties_panel.rewrite_text.action_done"),type:B,timeoutOverride:8e3,button:{text:(0,E.t)("slides.properties_panel.rewrite_text.action_rewrite_again"),action:()=>e()},onDismiss:()=>{}}));else if(n===O.qy.ERROR){let n=t.error,r=function(e){if(e instanceof L.n4)return(0,E.t)("slides.properties_panel.rewrite_text.error.no_text_characters_found");if(!(e instanceof o.G1))return(0,E.t)("slides.properties_panel.rewrite_text.error.default");let t={offline:(0,E.t)("slides.properties_panel.rewrite_text.error.connection"),meter_exceeded:(0,E.t)("slides.properties_panel.rewrite_text.error.rate_limit"),rate_limit_exceeded:(0,E.t)("slides.properties_panel.rewrite_text.error.rate_limit"),content_length_limit_exceeded:(0,E.t)("slides.properties_panel.rewrite_text.error.token_limit"),text_tool_no_text:(0,E.t)("slides.properties_panel.rewrite_text.error.empty_text"),unsafe_or_harmful_content:(0,E.t)("slides.properties_panel.rewrite_text.error.inappropriate_input"),service_issue:(0,E.t)("slides.properties_panel.rewrite_text.error.openai_down"),slides_rewrite_out_of_date:(0,E.t)("slides.properties_panel.rewrite_text.error.page_not_updated"),ai_opt_out_error:(0,E.t)("slides.properties_panel.rewrite_text.error.opt_out"),unauthorized:(0,E.t)("slides.properties_panel.rewrite_text.error.default"),generic:(0,E.t)("slides.properties_panel.rewrite_text.error.default")},n="generic";if(e instanceof o.G1)switch(e.type){case"content_length_limit_exceeded":case"meter_exceeded":case"rate_limit_exceeded":case"text_tool_no_text":case"service_issue":case"offline":case"unsafe_or_harmful_content":case"ai_opt_out_error":case"slides_rewrite_out_of_date":case"unauthorized":n=e.type;break;case"generic":switch(e.data?.status){case 404:n="service_issue";break;case 429:n="rate_limit_exceeded";break;case 403:n="ai_opt_out_error"}}return t[n]}(n),a=function(e){switch(e.type){case"text_tool_no_text":case"unsafe_or_harmful_content":case"content_length_limit_exceeded":case"slides_rewrite_out_of_date":case"no_text_characters_found":return!1;default:return!0}}(n);i(h.F.enqueue({icon:y.zX.CLOSE_FILLED,message:r,type:B,button:a?{text:(0,E.t)("slides.properties_panel.rewrite_text.action_rewrite_again"),action:()=>e()}:void 0,onDismiss:()=>{}}))}}},[i,n,l,e,t])}function X(e,t){let n=(0,c.$)((0,v.Tv)().join(",")),l=(0,c.$)((0,a.d4)(e=>e.mirror.appModel.activeUserAction===C.QOV.SELECTING_TEXT)),o=n||l,i=(0,c.$)((0,a.d4)(()=>T.nl()?.characters)),s=e===O.qy.RUNNING,p=(0,d.ZC)(s)&&!s,u=s||p;(0,r.useEffect)(()=>{if(o){t();return}i&&!u&&t()},[t,o,i,u])}function Z(e){let{Sprig:t}=(0,_.A)(),n=(0,d.ZC)(e);(0,r.useEffect)(()=>{e===O.qy.DONE&&n===O.qy.RUNNING&&t("track","slides_rewrite_text")},[t,e,n])}function $(e,t){if(1!==e.size){for(let{node:n,nodeText:r}of e.values())n.isAlive()&&S.l7.ai("slides-rewrite-text-reset",()=>{n.spliceCharacters(0,n.characters.length,r,"BEFORE"),t(n)});return}let[n]=e.values(),r=(0,T.fN)();if(!r||!n||!r.node.isAlive())return;let a=r.node,l=r.selectionRange?.start??0,o=r.selectionRange?.end??a.characters.length,i=n.effectiveText;S.l7.ai("slides-rewrite-text-reset",()=>{a.spliceCharacters(l,o,i,"BEFORE"),t(a)});let s=I.q.instance.getCurrentPage();n.selectionRange?s?.setSelectedTextRange(a.guid,l,l+i.length):(0,L.y_)(a.guid)}function j(e){let[t,n]=(0,r.useState)(!1),{tonePosition:a,setTonePosition:l,setPositionAndRun:o}=(0,r.useContext)(M.u),i=(0,r.useCallback)(e=>{n(!0),e.stopPropagation()},[]),s=(0,r.useCallback)(()=>{t&&(n(!1),o(a,{source:"dial_drag"}))},[t,o,a]),c=(0,r.useCallback)(n=>{if(!t||!e.current)return;let{clientX:r,clientY:a}=n;l(q(r,a,e.current.getBoundingClientRect()))},[e,t,l]);return(0,r.useEffect)(()=>(document.addEventListener("mouseup",s),document.addEventListener("mousemove",c),()=>{document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",c)}),[c,s]),{onMouseDown:i,isDragging:t}}function q(e,t,n){return[(e-n.left)/n.width,(n.bottom-t)/n.height].map(e=>Math.max(.045,Math.min(.955,e))).map(e=>(e-.5)*2).map(J)}function J(e){return Math.round(100*e)/100}function Q([e,t]){return[J(e),J(t)]}function ee([e,t]){let n=[],r=e=>Math.abs(e);return e<-K?n.push({tone:l.DE.CONCISE,weight:r(e)}):e>K&&n.push({tone:l.DE.EXPANDED,weight:r(e)}),t<-K?n.push({tone:l.DE.CASUAL,weight:r(t)}):t>K&&n.push({tone:l.DE.PROFESSIONAL,weight:r(t)}),n}function et(e){return[(()=>{let t=e.find(({tone:e})=>e===l.DE.EXPANDED)?.weight;if(t)return t;let n=e.find(({tone:e})=>e===l.DE.CONCISE)?.weight;if(n)return-n})()??0,(()=>{let t=e.find(({tone:e})=>e===l.DE.PROFESSIONAL)?.weight;if(t)return t;let n=e.find(({tone:e})=>e===l.DE.CASUAL)?.weight;if(n)return-n})()??0]}function en(e,t){return(0,r.useEffect)(()=>{let n=e.current?.getEl();if(!n)return;let r=e=>{"Escape"===e.key&&t()};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)},[e,t]),e}},352046:(e,t,n)=>{n.d(t,{i:()=>m,o:()=>_});var r=n(411855),a=n(568214),l=n(515009),o=n(987918),i=n(428654),s=n(168039),c=n(774191),d=n(852800),p=n(662531),u=n(184027);function m(){let e=(0,s.yM)().colorText;return r.useMemo(()=>{if(e){let t=i.F.parse(e);if(t.a>0)return(0,c.oU)(t)}return(0,c.oU)(a.Uv)},[e])}function _(e){let t=r.useContext(u.lk);return r.useCallback(()=>{if(e.current){p.l7.user("slides-create-style",()=>{d.glU.applyStyleToSelection("inheritTextStyleKey",o.AD,!0),d.glU.selectStyle(l.n3.INVALID,l.IA.INVALID)});let n=e.current.getBoundingClientRect();t({styleType:"TEXT",inheritStyleKeyField:"inheritTextStyleKey",rowLeft:n.left,rowTop:n.top})}else console.warn("expected containerRef to be non-null")},[e,t])}},67048:(e,t,n)=>{n.d(t,{G:()=>c});var r=n(411855),a=n(629019),l=n.n(a),o=n(498480),i=n(762638),s=n(939863);function c({location:e,overrideText:t,hoverStyleClassName:n}){return r.createElement(o.Ex,{className:l()(i.cx.font11.fontNormal.h16.px4.b1.bRadius5.mr0.hFitContent.if("MODAL"===e||"FILE_BROWSER_BAR"===e||"SLIDES_REWRITE_MODAL"===e,i.cx.colorTextSecondary.colorBorder).if("SUMMARIZE_NUDGE"===e,i.cx.colorTextOnbrand.colorBorderBrand).if("SUMMARIZE_NUDGE_DISABLED"===e,i.cx.colorTextOnbrand.colorBorderDisabled).if("INLINE_TOOLBAR"===e,i.cx.colorTextMenuSecondary.colorBorderMenu).if("SLIDES_REWRITE_MODAL"===e,i.cx.textBodySmall).$,n),color:o.zE.INVERT,subtle:!0,text:t??(0,s.t)("whiteboard.ai_modal.beta_badge")})}},632084:(e,t,n)=>{n.d(t,{zi:()=>f,Gq:()=>E,MS:()=>h,bM:()=>y,ON:()=>w,ep:()=>T,b7:()=>g,SU:()=>d});var r=n(987918),a=n(939863),l=n(852800),o=n(341860),i=(e=>(e.HEART="heart",e.STAR="star",e.PLUS_ONE="+1",e.THUMBS_UP="thumbs up",e.THUMBS_DOWN="thumbs down",e.QUESTION="question",e.PROFILE="profile",e.DOT="dot",e.OTHER="other",e))(i||{});let s={heart:{type:"heart",nodeNameOnCanvas:"Heart"},star:{type:"star",nodeNameOnCanvas:"Star"},"+1":{type:"+1",nodeNameOnCanvas:"+1"},"thumbs up":{type:"thumbs up",nodeNameOnCanvas:"Thumbs up"},"thumbs down":{type:"thumbs down",nodeNameOnCanvas:"Thumbs down"},question:{type:"question",nodeNameOnCanvas:"Question"},profile:{type:"profile",nodeNameOnCanvas:"Profile"},dot:{type:"dot",nodeNameOnCanvas:"Dot"},other:{type:"other",nodeNameOnCanvas:"Other"}},c=[l.Z6A.STICKY,l.Z6A.TEXT,l.Z6A.SHAPE_WITH_TEXT];function d(e){return e?e.textSublayer?e.textSublayer.textContent:e.textContent?e.textContent:null:null}let p=(e,t)=>e?d(e)||(e.name?e.name:null):null,u=e=>!!["STICKY","TEXT","SHAPE_WITH_TEXT"].includes(e.type),m=(e,t,n)=>{if(!u(e))return null;let r=n[e.guid],a=p(e,t);if(!a)return null;let l={t:a,bounds:e.absoluteRenderBounds,id:e.guid,type:e.type};return r&&(l.stamps=r),l},_=e=>{let t=l.DV9.getStampsOnNodes(e),n=Object.fromEntries(t),r={};for(let[e,a]of t)r[e]=Object.fromEntries(n[e]);return r};function g(e){let t=function(e){let t=l.glU.searchForNodesInSelection(c),n=[];for(let r of t){let t=e.get(r);t&&n.push(t)}return n.filter(e=>u(e))}(e),n=_(t.map(e=>e.guid)),r=[];for(let a of t){let t=m(a,e,n);t&&r.push(t)}return{v:1,data:r}}function f(e){let t=function(e){let t=l.glU.getStickyThreadsFromSelection(),n=[];for(let r of t){let t=!1,a={id:"",text:""};for(let n of r){let r=e.get(n);if(r&&"STICKY"===r.type){let e=r.textSublayer&&r.textSublayer.textContent||"";if(t)a.id=a.id?`${a.id}|${n}`:n,e&&(a.text=a.text?`${a.text}|${e}`:e);else{if(t=!0,!e)continue;a.id=r.guid,a.text=e;continue}}}a.text&&n.push(a)}return n}(e),n=JSON.stringify(t).length;return{v:1,data:t,characterCount:n}}function E(){let e=l.glU.searchForNodesInSelection([l.Z6A.STICKY]),t=l.DV9.getStickyClustersByAuthor(e),n=[];for(let e of t)n.push({clusterName:e[0],messages:e[1]});return n}function h(){let e=l.glU.searchForNodesInSelection([l.Z6A.STICKY]),t=l.DV9.getStickyClusterByColor(e),n=[];for(let e of t)n.push({clusterName:"",messages:e[1]});return n}function y(){let e=l.glU.searchForNodesInSelection([l.Z6A.STICKY]),t=l.DV9.getStickyClusterByStampCount(e),n=[];for(let e of t)n.push({clusterName:e[0],messages:e[1]});return n.sort((e,t)=>parseInt(t.clusterName)-parseInt(e.clusterName)),n}let v=e=>{let t=l.DV9.getStickyClusterByStampType(e),n=[];return t.forEach((e,t)=>{let r="No stamps"===t?null:function(e){let t=Object.values(s).find(t=>t.nodeNameOnCanvas===e);return t?t.type:"other"}(t),a=n.find(e=>e.stampType===r);a||(a={stampType:r,stickyThreadGuids:[]},n.push(a)),a.stickyThreadGuids.push(...e)}),n},b=(e,t,n)=>{let r=[],a=e.get(t);if(!a)return r;for(let t of a.stuckNodes){let a=e.get(t);a&&a.name===s[n].nodeNameOnCanvas&&r.push(t)}return r};function w(){let e=v(l.glU.searchForNodesInSelection([l.Z6A.STICKY])),t=new o.q,n=[];for(let r of e){let e=r.stickyThreadGuids.flatMap(e=>e.split("|")),l=[];if(r.stampType)for(let n of e)l.push(...b(t,n,r.stampType));n.push({clusterName:function(e){switch(e){case i.HEART:return(0,a.t)("whiteboard.clustering.heart_stamp_cluster");case i.DOT:return(0,a.t)("whiteboard.clustering.dot_stamp_cluster");case i.PLUS_ONE:return(0,a.t)("whiteboard.clustering.plus_one_stamp_cluster");case i.PROFILE:return(0,a.t)("whiteboard.clustering.face_stamp_cluster");case i.QUESTION:return(0,a.t)("whiteboard.clustering.question_mark_stamp_cluster");case i.STAR:return(0,a.t)("whiteboard.clustering.star_stamp_cluster");case i.THUMBS_DOWN:return(0,a.t)("whiteboard.clustering.thumbs_down_stamp_cluster");case i.THUMBS_UP:return(0,a.t)("whiteboard.clustering.thumbs_up_stamp_cluster");case i.OTHER:default:return(0,a.t)("whiteboard.clustering.other_stamp_cluster");case null:return(0,a.t)("whiteboard.clustering.no_stamps_cluster")}}(r.stampType),messages:r.stickyThreadGuids,allowedStampsToCopyGuids:l})}return n}function T(e,t){let n=e.get(t);if(!n||!n.isDiagramNode)return null;let a=d(n);if(!a)return null;let l=[],o=n.diagramParentId;for(;o&&o!==r.AD;){let t=e.get(o);if(!t)break;let n=d(t);n&&l.push(n),o=t.diagramParentId}l.reverse();let i=[];for(let t of n.diagramChildIds){let n=d(e.get(t));n&&i.push(n)}return{selectedNode:a,parentHierarchy:l,children:[],excludedSuggestions:i}}},47750:(e,t,n)=>{n.d(t,{J:()=>x,f:()=>A});var r=n(411855),a=n(188507),l=n(939683),o=n(966712),i=n(374626),s=n(395900),c=n(966981),d=n(825871),p=n(939863),u=n(574724),m=n(378260),_=n(106757),g=n(852800),f=n(662531),E=n(862442),h=n(843495),y=n(341860),v=n(457630),b=n(335682),w=n(247014),T=n(951840),N=n(435898),S=n(342824),I=n(88596),C=n(632084);let k=e=>({...e,width:e.w,height:e.h});function A(){let e=r.useRef((0,p.t)("whiteboard.ai_cluster.loading_section_base")),t=r.useMemo(()=>new y.q,[]),{Sprig:n}=(0,c.A)(),[A,x]=r.useState(!1),R=(0,l.am)(),P=r.useRef(),O=(0,E.Z)("figjam_summary_navigate"),D=(0,S.um)(),L=(0,i.md)(m._s),M=(0,i.md)(b.As),F=(0,i.md)(_.kS),K=(0,i.md)(b.yM),B=(0,i.md)(b.ze),V=(0,a.d4)(e=>e.multiplayer.allUsers.length),U={orgId:L,teamId:M||null,fileKey:B,userId:F||null,trackingSessionId:(0,d.f)()},H=r.useCallback(e=>{let n=t.get(e);n?.isAlive()&&f.l7.system("remove-cluster-placeholder",()=>g.Hur.removePlaceholder(e)),P.current&&(clearInterval(P.current),P.current=void 0)},[P,t]);return{clusterCanvasSelection:()=>{let r=new s.jk(I.Ux.TIME_TAKEN_TO_COMPLETE,{});r.start(),x(e=>!e);let a=g.glU.getSelectionBounds(),{v:l,data:i,characterCount:c}=(0,C.zi)(t),d=e.current+".",p=f.l7.system("create-cluster-placeholder",()=>{let e=g.Hur.createPlaceholder(a);return h.i(e,d),e});O((0,v.QZ)({nodeId:p,alwaysPan:!1})),P.current=setInterval(()=>{d.length===e.current.length+3?d=e.current+".":d+=".",f.l7.system("update-cluster-placeholder-text",()=>h.i(p,d))},1e3),u.Ay.figjam.cluster({v:l,data:i,tokenCount:c/4},U).then(e=>{let l=t.get(p),s=l?.containingCanvas;if(!l?.isAlive()||!s)return;let d=l?.absoluteRenderBounds,u=d?k(d):a;H(p);let[m,_]=f.l7.user("create-and-place-clusters",()=>g.Hur.createAndPlaceClusters(e.clusters,u,s,!1));n("track",N.l0),x(!1);let E=r.stop();E&&R(I.Ux.TIME_TAKEN_TO_COMPLETE,{elapsed_ms:E},{forwardToDatadog:!0}),R("ai_sticky_clusters_created",{request_id:e.requestUuid,nodes_clustered:i.map(e=>e.id.split("|")).flat(),num_characters_input:c,success:!0,output_section_node_ids:_,output_sticky_node_ids:m,failure_reason:""}),(0,o.kc)().workspace_activity_write&&B&&K&&T.i.recordActivity({activityUnitType:w.qj.FILE_COLLABORATION,fileKey:B,collaborationType:w.Uz.AI_CLUSTER,numPeopleInFile:V})}).catch(e=>{let t;H(p);let n=(0,S.E$)(e,S.ez.CLUSTER);R("ai_sticky_clusters_created",{nodes_clustered:i.map(e=>e.id.split("|")).flat(),num_characters_input:c,success:!1,failure_reason:n.message}),"figjam_cluster_out_of_date"===n.type&&(t={type:S.tE.Reload}),D(n.message,S.ez.CLUSTER,t)})},requestIsPending:A}}function x(e,t=!1){let n=r.useMemo(()=>new y.q,[]),[a,l]=r.useState(!1),o=r.useRef(),i=(0,E.Z)("figjam_local_cluster_navigate"),s=r.useCallback(e=>{let t=n.get(e);t?.isAlive()&&f.l7.system("remove-cluster-placeholder",()=>g.Hur.removePlaceholder(e)),o.current&&(clearInterval(o.current),o.current=void 0)},[o,n]);return{cluster:()=>{l(e=>!e);let r=g.glU.getSelectionBounds(),a=e(),o=f.l7.system("create-cluster-placeholder",()=>g.Hur.createPlaceholder(r));i((0,v.QZ)({nodeId:o,alwaysPan:!1}));let c=n.get(o),d=c?.containingCanvas;if(!c?.isAlive()||!d)return;let p=c?.absoluteRenderBounds,u=p?k(p):r;s(o),f.l7.system("create-and-place-clusters",()=>g.Hur.createAndPlaceClusters(a,u,d,t)),l(!1)},requestIsPending:a}}},230646:(e,t,n)=>{n.d(t,{CI:()=>d,QP:()=>i,V:()=>o,cF:()=>s,v1:()=>c});var r=n(188507),a=n(966712),l=n(211041);function o(){return!!(0,r.d4)(e=>e.mirror.selectionProperties.whiteboardStickyAIControlsShown)}function i(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.whiteboardMindmapAIControlsShown);return!!((0,a.kc)().figjam_mindmaps_gen_from_node&&e)}function s(){return!!(0,r.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanSummarize)}function c(){return!!(0,r.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanCluster)}function d(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiOnboardingBadge),t=(0,l.tG)();return!!(e&&t)}},477173:(e,t,n)=>{n.d(t,{ss:()=>L});var r=n(411855),a=n(188507),l=n(776250),o=n(939683),i=n(966712),s=n(374626),c=n(395900),d=n(966981),p=n(825871),u=n(743282),m=n(931828),_=n(574724),g=n(378260),f=n(106757),E=n(852800),h=n(662531),y=n(736916),v=n(769977),b=n(862442),w=n(341860),T=n(457630),N=n(335682),S=n(247014),I=n(951840),C=n(479296),k=n(435898),A=n(342824),x=n(88596),R=n(632084);class P{static generateLocalRequestId(){return(0,u.g)()}}let O=(0,C.D)((e,t,n)=>{let r=h.l7.user("insert-ai-summary-node",()=>E.glU.insertAISummaryInCanvas(t,n)),a=e.get(r);return a&&(h.l7.user("set-ai-summary-timestamp",()=>{(0,v.Gw)(a,new Date)}),E.glU.triggerAction("commit",{})),a});async function D({v:e,canvasData:t,nodePosition:n,loadingNodeGuid:r,showErrorBell:a,trackSummaryRequested:o,trackSummaryCreated:i,scene:c,operationTimer:d,source:u}){let b,w;let T={orgId:s.zl.get(g._s),teamId:s.zl.get(N.As)||null,fileKey:s.zl.get(N.ze)||null,userId:s.zl.get(f.kS)||null,trackingSessionId:(0,p.f)()},S=e=>{let t;throw"figjam_summarize_out_of_date"===e.type&&(t={type:A.tE.Reload}),"content_length_limit_exceeded"===e.type&&"DISCOVERY_NUDGE"===u&&(0,l.sx)("ai_summarize_from_nudge_exceeded_token_length_limit",{},{forwardToDatadog:!0}),a(e.message,A.ez.SUMMARIZE,t),Error(A.xQ[A.ez.SUMMARIZE]+e.message)},I=t.map(e=>e.id),C=P.generateLocalRequestId();o(I,t,C);let k=null,R=!1;try{b=(await _.Ay.figjam.streamSummarize({v:e,data:t},T)).pipeThrough((0,_.nU)())}catch(e){S((0,A.E$)(e,A.ez.SUMMARIZE));return}let D=()=>{if(!R){let e=c.get(r);e&&e.isAlive()&&h.l7.system("remove-ai-summary-loading-state",()=>{E.glU.deleteNode(r),R=!0})}},L=()=>{let e=O(c,n,r);return e&&setTimeout(()=>{D()},200),e},M=0;try{for await(let e of new _.c6(b)){w=e;let t=M%5==0;k||(k=await L()),t&&h.l7.system("stream-ai-summary",()=>{k&&(0,v.WN)(k,w)}),M++}}catch(e){S((0,A.E$)(e,A.ez.SUMMARIZE));return}if(h.l7.system("stream-ai-summary",()=>{w&&k&&(0,v.WN)(k,w)}),w){let e=d.stop();e&&(0,l.sx)(x.mr.TIME_TAKEN_TO_COMPLETE,{elapsed_ms:e},{forwardToDatadog:!0}),k&&(m.b({[y.zp]:!0}),i(k.guid,w,C))}w&&k&&E.glU.triggerAction("commit",{})}function L(e,t=!0,n){let[l]=r.useState(new w.q),[s,p]=r.useState(!1),u=(0,b.Z)("figjam_summary_navigate"),m=(0,A.um)(),{Sprig:_}=(0,d.A)(),g=function(){let e=(0,o.am)();return r.useCallback((t,n,r)=>{let a=(0,x.sh)(n);e(x.mr.REQUEST,{local_summary_id:r,num_characters_input:a,nodes_summarized:t})},[e])}(),f=function(){let e=(0,o.am)(),t=(0,N.q5)(),n=(0,a.d4)(e=>e.multiplayer.allUsers.length),l=r.useRef(n);return l.current=n,r.useCallback((n,r,a)=>{let o={local_summary_id:a,summary_node_id:n,num_characters_output:r.map(e=>"content"in e?e.content.length:0).reduce((e,t)=>e+t,0),num_themes_output:r.filter(e=>"h2"===e.type).length,num_supporting_points_output:r.filter(e=>"li"===e.type).length};e(x.mr.CREATE,o),(0,i.kc)().workspace_activity_write&&t?.team?.workspaceId&&I.i.recordActivity({activityUnitType:S.qj.FILE_COLLABORATION,fileKey:t.key,collaborationType:S.Uz.AI_SUMMARY,numPeopleInFile:l.current})},[e,t,l])}();return{summarizeCanvasSelection:async()=>{let r=new c.jk(x.mr.TIME_TAKEN_TO_COMPLETE,{});r.start();let{v:a,data:o}=(0,R.b7)(new w.q),i=h.l7.user("insert-ai-summary-loading-node",()=>E.glU.insertLoadingSummaryInCanvas(e===E.cfv.BELOW,t)),s=l.get(i);if(!s)return;h.l7.user("insert-ai-summary-loading-node",()=>{s.setWidgetSyncedState("syncedState:loading","true")}),u((0,T.QZ)({nodeId:i,alwaysPan:!1}));let d={x:s.absoluteBoundingBox.x,y:s.absoluteBoundingBox.y};if(o){p(!0);try{await D({v:a,canvasData:o,nodePosition:d,loadingNodeGuid:i,showErrorBell:m,trackSummaryRequested:g,trackSummaryCreated:f,scene:l,operationTimer:r,source:n})}catch(e){l.get(i)&&E.glU.deleteNode(i)}finally{_("track",k.AM),p(!1)}}},requestIsPending:s}}},773912:(e,t,n)=>{n.d(t,{s_:()=>el,nG:()=>Q,Ay:()=>ee,Bl:()=>et,dA:()=>ea});var r=n(411855),a=n(188507),l=n(629019),o=n.n(l),i=n(737947),s=n(966712),c=n(374626),d=n(860601),p=n(743282),u=n(712366),m=n(498480),_=n(268537),g=n(210954),f=n(574176),E=n(939863),h=n(931828),y=n(672517),v=n(582947),b=n(662531),w=n(498606),T=n(538697),N=n(468829),S=n(67048),I=n(211041),C=n(47750),k=n(230646),A=n(939683),x=n(395900),R=n(825871),P=n(392592),O=n(934533),D=n(574724),L=n(378260),M=n(106757),F=n(852800),K=n(341860),B=n(335682),V=n(342824),U=n(632084);let H="ai_expand_mindmap";var z=(e=>(e.LOADING="ai-expand-mindmap-loading",e.SUCCESS="ai-expand-mindmap-success",e))(z||{}),G=n(477173),W=n(425187),Y=n(677859),X=n(437771),Z=n(260378),$=n(266066),j=n(58772),q=n(449802),J=n(62573);let Q="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma";var ee=(e=>(e.SUMMARIZE="summarize",e.CLUSTER="cluster",e.GENERATE_IDEAS="generate_ideas",e))(ee||{});let et=(0,v.r1)("used_figjam_ai_quick_actions"),en="used_figjam_ai_mindmaps_inline_menu",er=(0,v.r1)(en);function ea(){let e=(0,c.md)(W.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,G.ss)(e,void 0,"INLINE_TOOLBAR"),{clusterCanvasSelection:n}=(0,C.f)(),{expandSelectedMindmapNode:l}=function(){let e=(0,c.md)(L._s),t=(0,c.md)(B.As),n=(0,c.md)(B.ze),l=(0,c.md)(M.kS),o=(0,V.um)(),i=(0,A.am)(),s=(0,a.wA)(),d={orgId:e,teamId:t||null,fileKey:n,userId:l||null,trackingSessionId:(0,R.f)()},p=r.useCallback(()=>s(P.F.enqueue({message:(0,E.t)("whiteboard.ai_expand_mindmap.generic_error")})),[s]),u=e=>{for(let t of e)b.l7.user("expand-figjam-ai-mindmap",()=>{F.glU.deleteNode(t)})},m=(e,t,n)=>{let r=(0,U.ep)(new K.q,e);if(!r){p(),i(H,{success:!1,failure_reason:"Failed to get input data"});return}s(P.F.dequeue({matchType:"ai-expand-mindmap-success"})),s(P.F.enqueue({message:(0,E.t)("whiteboard.ai_modal.streaming"),icon:O.zX.SPINNER,type:"ai-expand-mindmap-loading",timeoutOverride:1/0})),D.Ay.figjam.updateVisual({inputData:r,updateType:{visualType:"mindmap",updateMode:"generate_ideas"}},d).then(r=>{n&&u(n);let a=b.l7.user("expand-figjam-ai-mindmap",()=>F.$mk.expandWithFigjamAiMindmapNodes(r,e)),l=t.stop();a.length?(s(P.F.enqueue({message:(0,E.t)("whiteboard.ai_expand_mindmap.generation_success"),type:"ai-expand-mindmap-success",button:{text:(0,E.t)("whiteboard.ai_expand_mindmap.retry"),action:()=>{let t=new x.jk(H,{});return t.start(),m(e,t,a),!1}}})),i(H,{request_id:r.requestId,success:!0,failure_reason:"",num_nodes_generated:a.length,elapsed_ms:l})):(p(),i(H,{request_id:r.requestId,success:!1,failure_reason:"No nodes generated",elapsed_ms:l}))}).catch(e=>{let n=t.stop(),r=(0,V.E$)(e,V.ez.GENERATE);o(r.message,V.ez.GENERATE),i(H,{success:!1,failure_reason:r.message,elapsed_ms:n})}).finally(()=>{s(P.F.dequeue({matchType:"ai-expand-mindmap-loading"}))})};return{expandSelectedMindmapNode:()=>{let e=new x.jk(H,{});e.start();let t=F.wzW.getSingleSelectedDiagramNodeId(),n=function(e,t){let n=e.get(t);if(n){if((0,U.SU)(n))return t;{if(!n.diagramParentId)return;let t=e.get(n.diagramParentId);return(0,U.SU)(t)?n.diagramParentId:void 0}}}(new K.q,t);if(!n){p(),i(H,{success:!1,failure_reason:"Failed to get selected node"});return}m(n,e)}}}();return e=>{let r=d.lQ,a="";if(e){switch(e.type){case"summarize":r=t,a="ai-quick-action-summarize";break;case"cluster":r=n,a="ai-quick-action-cluster";break;case"generate_ideas":r=l,a="ai-quick-action-generate-ideas"}b.l7.user(a,r)}}}function el(){var e;let t=(0,p.g)(),n=ea(),a=(0,s.kc)().figjam_synthesize_handbrake,[l,o]=r.useState(!1),c=[...function(){let e=(0,k.QP)(),t=[];return e&&t.push({type:"generate_ideas",enabled:e}),t}()];return r.createElement(X.Fn,{value:void 0,overrideMenuOpenState:{isOpenOverride:l,setIsOpenOverride:o},onChange:n,renderButton:({onClick:e,onKeyDown:n,ref:l})=>r.createElement(eo,{onClick:e,onKeyDown:n,buttonRef:l,ariaWrapperId:t,disabled:!!a,trackingProperties:{text:"figjam ai"},dropdownMenuOptions:c}),options:c,renderOption:es,OptionWrapper:(e=(0,E.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_options_aria_label"),function({children:n}){return r.createElement("div",{className:"ai_quick_actions_control--flexColumn--kgAdX","aria-label":e,id:t,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},n)}),responsivePositionY:{aboveTargetPositionY:(e,t,n)=>(0,Z.T1)(e,t,n+-48),belowTargetPositionY:(e,t,n)=>(0,Z.DH)(e,t,n+-48)},positionX:e=>e.x,popoverClassName:"ai_quick_actions_control--popover--BNsqs",additionalContentsTop:function({closeMenu:e}){return r.createElement("div",{className:"ai_quick_actions_control--dropdownHeaderContainer--ifOPr",onClick:e,role:"button",tabIndex:0},r.createElement("div",{className:"ai_quick_actions_control--dropdownHeaderTitle--Cqg8n"},(0,E.tx)("whiteboard.inline_menu.ai_quick_actions_header_text")),r.createElement("div",{className:"ai_quick_actions_control--badgeContainer--kBpYM"},r.createElement(S.G,{location:"INLINE_TOOLBAR",overrideText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))}({closeMenu:()=>o(!1)}),additionalOptions:ei,additionalOptionOnChange:()=>{(0,u.Lf)(Q)||i.Ay.unsafeRedirect(Q,"_blank")}})}let eo=(0,y.tf)(function({onClick:e,onKeyDown:t,buttonRef:n,ariaWrapperId:l,disabled:i,dropdownMenuOptions:p}){let[u,_]=r.useState(0),{shouldShowBadge:g,setUserFlagsCallback:v}=function(e){var t;let n=(0,a.wA)(),l=(t=["generate_ideas"],!!e.find(e=>e&&t.includes(e.type)));return{shouldShowBadge:function(e){let t=(0,I.tG)(),n=(0,c.md)(er).data;return!!((0,s.kc)().figjam_mindmaps_gen_from_node&&t&&!n&&e)}(l),setUserFlagsCallback:r.useCallback(()=>{l&&n(h.b({[en]:!0}))},[l,n])}}(p);return r.createElement(Y.$n,{tooltip:N.w,tooltipType:w.Ib.SPECIAL,onClick:i?d.lQ:()=>{e(),v()},disabled:i,onKeyDown:t,ariaControls:l,ref:n,recordingKey:"toolbarAIQuickActionsDropdownButton",testId:"toolbarAIQuickActionsDropdownButton",caret:"down",role:"combobox",ariaLabel:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_button_aria_label"),buttonStyle:{width:g?48+u+8:48},buttonChildrenStyle:{justifyContent:"initial",width:"initial"}},r.createElement("div",{className:o()({"ai_quick_actions_control--withBadge--z88DK":g})},r.createElement("div",{className:"ai_quick_actions_control--buttonIconContainer--pBGdR"},r.createElement(f.B,{svg:$.A,className:o()("ai_quick_actions_control--svgIcon--XDs5m",{"ai_quick_actions_control--svgIconDisabled--u4WwB":i})})),g&&r.createElement(y.fu,{name:"ai_quick_actions_onboarding_badge"},r.createElement("div",{ref:e=>{_(e?.offsetWidth||u)}},r.createElement(m.Ex,{text:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"),color:m.zE.FIGJAM,size:m.vj.SMALL,className:"ai_quick_actions_control--onboardingBadge---sKJz"})))))});function ei(e){return r.createElement(r.Fragment,null,r.createElement(_.wv,{key:"menu-separator-token"}),r.createElement("div",{className:"ai_quick_actions_control--dropdownFooterContainer--1d8mD"},r.createElement("span",null,r.createElement("span",{className:"ai_quick_actions_control--dropdownFooterDisclaimer--UVXvJ"},`${(0,E.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer")} `),r.createElement(g.N,{className:o()("ai_quick_actions_control--dropdownFooterCta--hi6Ik",{"ai_quick_actions_control--dropdownFooterCtaIsFocused--2OdM8":e}),href:Q,target:"_blank",trusted:!0},(0,E.tx)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")))))}let es=e=>{let{value:t,onClick:n,id:a,isFocused:l}=e;if(!t)return null;let{type:o,enabled:i}=t,{displayText:s,svgSrc:c,disabledTooltipText:d}=function(e){switch(e){case"summarize":return{displayText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:J.A,disabledTooltipText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2})};case"cluster":return{displayText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),svgSrc:q.A,disabledTooltipText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2})};case"generate_ideas":return{displayText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_generate_ideas_button"),svgSrc:j.A,disabledTooltipText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_generate_ideas_disabled_tooltip")}}}(o),p="generate_ideas"===o?"generate ideas":"other ai action";return r.createElement(ec,{key:`${o}-menu-option`,id:a,type:o,displayText:s,svgSrc:c,disabledTooltipText:d,disabled:!i,onClick:n,isFocused:l,trackingProperties:{text:p}})},ec=(0,y.tf)(function({id:e,type:t,displayText:n,svgSrc:a,disabledTooltipText:l,disabled:i,onClick:s,isFocused:c}){return r.createElement("div",{id:e,className:o()("ai_quick_actions_control--optionContainer--pbhnv",{"ai_quick_actions_control--optionContainerDisabled--Sxua-":i,"ai_quick_actions_control--optionContainerIsFocused--AD1hq":c}),"aria-label":n,"aria-selected":"false",role:"option",tabIndex:-1,"data-tooltip-type":w.Ib.TEXT,"data-tooltip":i?l:"","data-tooltip-tip-align-left":!0,"data-tooltip-show-right":!0,"data-tooltip-offset-x":6},r.createElement(T.c$,{disabled:i,recordingKey:`aiQuickActionsOption-${t}`,"data-testid":`aiQuickActionsOption-${t}`,dataTestId:`aiQuickActionsOption-${t}`,key:`option-${t}`,value:t,height:32,fullWidth:!0,svg:a,formattedValue:n,additionalStylesClassName:void 0,selected:!1,onMouseUp:i?d.lQ:s,style:{marginLeft:8},ignoreCheck:!0}))})},971612:(e,t,n)=>{n.d(t,{M:()=>l});var r=n(411855),a=n(434228);function l(e){return(0,a.O)()?r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-1.146 1.147a.5.5 0 1 1-.707-.708L12 7 8 3 4 7l1.146 1.146a.5.5 0 1 1-.707.708L3.293 7.707a1 1 0 0 1 0-1.414l4-4Zm-2.147 8.353a.5.5 0 0 0 .708.708L7.5 9.707V13.5a.5.5 0 0 0 1 0V9.707l1.646 1.647a.5.5 0 0 0 .708-.708l-2.5-2.5a.5.5 0 0 0-.708 0l-2.5 2.5Z",clipRule:"evenodd"})):r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.854 2.146a.5.5 0 0 0-.708 0l-5 5a.5.5 0 0 0 0 .708l1.5 1.5a.5.5 0 0 0 .708-.707L3.207 7.5 7.5 3.207 11.793 7.5l-1.147 1.147a.5.5 0 0 0 .707.707l1.5-1.5a.5.5 0 0 0 0-.708l-5-5Zm-3.208 8.5a.5.5 0 1 0 .707.708L7 9.707V13.5a.5.5 0 1 0 1 0V9.707l1.646 1.647a.5.5 0 0 0 .707-.707l-2.5-2.5a.5.5 0 0 0-.707 0l-2.5 2.5Z",clipRule:"evenodd"}))}},992739:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.354 2.146a.5.5 0 0 1 0 .708L5.207 4H8.5a5 5 0 1 1-5 5 .5.5 0 0 1 1 0 4 4 0 1 0 4-4H5.207l1.147 1.146a.5.5 0 1 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}},503429:(e,t,n)=>{n.d(t,{s:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m9.36 6.214-.674 2.472-2.473.674c-1.67.456-1.67 2.825 0 3.28l2.473.675.674 2.472c.455 1.67 2.825 1.67 3.28 0l.675-2.472 2.472-.674c1.67-.456 1.67-2.825 0-3.28l-2.473-.675-.674-2.472c-.455-1.67-2.825-1.67-3.28 0Zm.965.263L9.5 9.5l-3.024.824c-.687.188-.687 1.163 0 1.35L9.5 12.5l.825 3.024c.187.688 1.163.688 1.35 0l.825-3.023 3.024-.825c.688-.188.688-1.163 0-1.35L12.5 9.5l-.825-3.024c-.187-.688-1.163-.688-1.35 0ZM14.5 14a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 1 0V15h1v3h-.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H17v-3h1v.5a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-.5-.5h-4Z",clipRule:"evenodd"}))}},328849:(e,t,n)=>{n.d(t,{V:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m6.9 6.9.29-1.159c.08-.323.54-.323.62 0L8.1 6.9l1.158.29c.323.08.323.54 0 .62L8.1 8.1l-.29 1.158c-.08.323-.54.323-.62 0L6.9 8.1l-1.158-.29c-.323-.08-.323-.54 0-.62L6.9 6.9Zm9 9 .29-1.158c.08-.323.54-.323.62 0l.29 1.158 1.158.29c.323.08.323.54 0 .62l-1.158.29-.29 1.159c-.08.323-.54.323-.62 0L15.9 17.1l-1.158-.29c-.323-.08-.323-.54 0-.62l1.158-.29Zm-5.54-8.687-.674 2.473-2.473.674c-1.67.456-1.67 2.825 0 3.28l2.473.675.674 2.472c.455 1.67 2.825 1.67 3.28 0l.674-2.472 2.473-.675c1.67-.455 1.67-2.824 0-3.28l-2.473-.674-.674-2.473c-.455-1.67-2.825-1.67-3.28 0Zm.965.263L10.5 10.5l-3.024.825c-.688.187-.688 1.163 0 1.35l3.024.825.825 3.024c.187.688 1.163.688 1.35 0L13.5 13.5l3.024-.825c.688-.187.688-1.163 0-1.35L13.5 10.5l-.825-3.024c-.187-.687-1.163-.687-1.35 0Z",clipRule:"evenodd"}))}},667859:(e,t,n)=>{n.d(t,{_:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11 5.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H14v12h1.5a.5.5 0 0 1 0 1h-4a.5.5 0 0 1 0-1H13V6h-1.5a.5.5 0 0 1-.5-.5Zm7 4a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 19 9.5v5a1.5 1.5 0 0 1-1.5 1.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 0 .5-.5v-5ZM6 11a.5.5 0 0 0-1 0v3.5A1.5 1.5 0 0 0 6.5 16h5a.5.5 0 0 0 0-1h-5a.5.5 0 0 1-.5-.5V11Zm2.015-4.56L7.7 7.7l-1.26.315c-.505.126-.505.844 0 .97L7.7 9.3l.315 1.26c.126.505.844.505.97 0L9.3 9.3l1.26-.315c.505-.126.505-.844 0-.97L9.3 7.7l-.315-1.26c-.126-.505-.844-.505-.97 0Z",clipRule:"evenodd"}))}},859905:(e,t,n)=>{n.d(t,{k:()=>l});var r=n(411855),a=n(434228);function l(e){return(0,a.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m8 10.5 4 4 4-4"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m7.5 10.5 4 4 4-4"}))}},613023:(e,t,n)=>{n.d(t,{Q:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.9 6h-.02c-.403 0-.735 0-1.006.022-.28.023-.54.072-.782.196a2 2 0 0 0-.874.874c-.124.243-.173.501-.196.782C6 8.144 6 8.477 6 8.88v.62a.5.5 0 0 0 1 0v-.6c0-.428 0-.72.019-.944.018-.22.05-.332.09-.41a1 1 0 0 1 .437-.437c.078-.04.19-.072.41-.09C8.18 7 8.472 7 8.9 7h.6a.5.5 0 0 0 0-1h-.6Zm6.2 0h.02c.403 0 .735 0 1.006.022.281.023.54.072.782.196a2 2 0 0 1 .874.874c.124.243.173.501.196.782.022.27.022.603.022 1.005V9.5a.5.5 0 0 1-1 0v-.6c0-.428 0-.72-.019-.944-.018-.22-.05-.332-.09-.41a1 1 0 0 0-.437-.437c-.078-.04-.19-.072-.41-.09A12.925 12.925 0 0 0 15.1 7h-.6a.5.5 0 0 1 0-1h.6Zm.02 12h-.62a.5.5 0 0 1 0-1h.6c.428 0 .72 0 .944-.019.22-.018.332-.05.41-.09a1 1 0 0 0 .437-.437c.04-.078.072-.19.09-.41.019-.225.019-.516.019-.944v-.6a.5.5 0 0 1 1 0v.62c0 .403 0 .735-.022 1.006-.023.281-.072.54-.196.782a2 2 0 0 1-.874.874c-.243.124-.501.173-.782.196-.27.022-.603.022-1.005.022ZM8.9 18h-.02c-.403 0-.735 0-1.006-.022-.281-.023-.54-.072-.782-.196a2 2 0 0 1-.874-.874c-.124-.243-.173-.501-.196-.782A13.35 13.35 0 0 1 6 15.12v-.62a.5.5 0 0 1 1 0v.6c0 .428 0 .72.019.944.018.22.05.332.09.41a1 1 0 0 0 .437.437c.078.04.19.072.41.09.225.019.516.019.944.019h.6a.5.5 0 0 1 0 1h-.6Z",clipRule:"evenodd"}))}},186913:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75v6.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-6.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-2.5Z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon)",d:"M17.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),r.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M17.5 14.5V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75v8.25"}))}},900638:(e,t,n)=>{n.d(t,{d:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 18a.5.5 0 0 0 .5-.5V15h2.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13v-3h4.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13V5.5a.5.5 0 0 0-1 0V8H7.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v3H9.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v2.5a.5.5 0 0 0 .5.5Z",clipRule:"evenodd"}),r.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 5.5h3.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H15.5m-6 0H6.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H9.5"}))}},905111:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}),r.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M8.5 5.5h10.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H8.5"}))}},674462:(e,t,n)=>{n.d(t,{s:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}),r.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 17.5H5.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H15.5"}))}},921095:(e,t,n)=>{n.d(t,{j:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 15.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-6.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v6.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v2.5Z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}),r.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 8.5v8.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V8.5"}))}},583080:(e,t,n)=>{n.d(t,{V:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 11.5a.5.5 0 0 0-.5-.5H15V9.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75V11h-3V7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75V11H5.5a.5.5 0 0 0 0 1H8v3.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h3v1.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h2.5a.5.5 0 0 0 .5-.5Z",clipRule:"evenodd"}),r.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 14.5v2.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V14.5m0-6V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75V8.5"}))}},915377:(e,t,n)=>{n.d(t,{_:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3.293 7.793a1 1 0 0 0 0 1.414l11.5 11.5a1 1 0 0 0 1.414 0l4.5-4.5a1 1 0 0 0 0-1.414l-11.5-11.5a1 1 0 0 0-1.414 0l-4.5 4.5ZM4 8.5l.707.707.69.69.75-.75a.5.5 0 1 1 .707.707l-.75.75 1.292 1.292 2.25-2.25a.5.5 0 0 1 .708.708l-2.25 2.25 1.292 1.292.75-.75a.5.5 0 0 1 .708.708l-.75.75 1.292 1.292 2.25-2.25a.5.5 0 0 1 .708.708l-2.25 2.25 2.689 2.689.707.707.707-.707 3.086-3.086L20 15.5l-.707-.707L9.207 4.707 8.5 4l-.707.707-3.086 3.086L4 8.5ZM16 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}},811027:(e,t,n)=>{n.d(t,{z:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1ZM3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7Zm3.618 8.282h1.265l.542-1.614h2.46l.543 1.614h1.265l-2.307-6.545H8.922l-2.304 6.545Zm3.947-2.566-.886-2.637h-.05l-.885 2.637h1.821Zm3.843.559v.083h1.064v-.083c.002-.226.029-.415.08-.569.053-.155.134-.29.243-.406.11-.115.252-.226.425-.332a2.41 2.41 0 0 0 .508-.4c.143-.149.252-.32.33-.511a1.7 1.7 0 0 0 .117-.652c0-.36-.087-.671-.262-.933a1.679 1.679 0 0 0-.725-.61 2.535 2.535 0 0 0-1.074-.215c-.373 0-.714.068-1.023.205-.307.136-.554.34-.741.613-.186.273-.284.612-.294 1.017h1.138c.01-.2.06-.366.146-.496a.837.837 0 0 1 .336-.294.977.977 0 0 1 .432-.099c.164 0 .312.034.444.102.134.069.24.165.32.288.078.124.118.27.118.438a.91.91 0 0 1-.09.406c-.06.12-.142.228-.246.326a2.23 2.23 0 0 1-.348.265c-.19.117-.35.246-.483.387a1.393 1.393 0 0 0-.307.55c-.07.228-.106.534-.108.92Zm.06 1.873a.681.681 0 0 0 .496.204c.128 0 .244-.03.348-.092a.736.736 0 0 0 .256-.256.66.66 0 0 0 .099-.355.661.661 0 0 0-.211-.492.678.678 0 0 0-.492-.204.682.682 0 0 0-.496.204.666.666 0 0 0-.207.492c0 .196.069.363.207.499Z",clipRule:"evenodd"}))}},106075:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M8.5 15.5v-3c0-1.4 0-2.1.272-2.635a2.5 2.5 0 0 1 1.093-1.093C10.4 8.5 11.1 8.5 12.5 8.5h3"}))}},52339:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m6.953 5.91-.315 1.26-1.26.315c-.504.126-.504.844 0 .97l1.26.315.315 1.26c.127.504.844.504.97 0l.315-1.26 1.26-.315c.505-.126.505-.844 0-.97l-1.26-.315-.314-1.26c-.127-.505-.844-.505-.97 0Zm7.84.09a1 1 0 0 1 1.414 0L18 7.793a1 1 0 0 1 0 1.414l-1.646 1.646L9.5 17.707a1 1 0 0 1-.707.293H7a1 1 0 0 1-1-1v-1.793a1 1 0 0 1 .293-.707l6.853-6.854L14.793 6Zm-.586 2L16 9.793 17.293 8.5 15.5 6.707 14.207 8Zm1.086 2.5L13.5 8.707l-6.5 6.5V17h1.793l6.5-6.5Zm.546 5.37.28-1.12c.083-.333.556-.333.64 0l.28 1.12 1.119.28c.333.083.333.557 0 .64l-1.12.28-.28 1.12c-.083.332-.556.332-.64 0l-.28-1.12-1.119-.28c-.333-.083-.333-.557 0-.64l1.12-.28Z",clipRule:"evenodd"}))}},978488:(e,t,n)=>{n.d(t,{P:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 6v.879l-1 1V6l-1 1-2 2H7.5a.5.5 0 0 0-.5.5v5c0 .107.034.206.091.288l-.71.71A1.494 1.494 0 0 1 6 14.5v-5A1.5 1.5 0 0 1 7.5 8h3.085l2.708-2.707A1 1 0 0 1 15 6Zm-1 6.121 1-1V18a1 1 0 0 1-1.707.707L10.586 16h-.465l.94-.94L13 17l1 1v-5.88Zm3.854-5.267a.5.5 0 0 0-.708-.708l-11 11a.5.5 0 1 0 .708.707l11-11Z",clipRule:"evenodd"}))}},43604:(e,t,n)=>{n.d(t,{L:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m10 15 2 2 1 1V6l-1 1-2 2H6.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5H10Zm2.293-9.707L9.586 8H6.5A1.5 1.5 0 0 0 5 9.5v5A1.5 1.5 0 0 0 6.5 16h3.086l2.707 2.707A1 1 0 0 0 14 18V6a1 1 0 0 0-1.707-.707ZM19 12a5.002 5.002 0 0 1-3.5 4.771V15.71a4.001 4.001 0 0 0 0-7.418V7.229A5.002 5.002 0 0 1 19 12Zm-2 0a3 3 0 0 1-1.5 2.599v-1.276c.311-.353.5-.816.5-1.323s-.189-.97-.5-1.323V9.401a2.999 2.999 0 0 1 1.5 2.6Z",clipRule:"evenodd"}))}},844519:(e,t,n)=>{n.d(t,{i:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h-4ZM9 6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2h2.5a1.5 1.5 0 0 1 .463 2.927l-.841 9.254A2 2 0 0 1 15.13 20H8.87a2 2 0 0 1-1.992-1.819l-.841-9.254A1.5 1.5 0 0 1 6.5 6H9Zm8.494 2h.01a.5.5 0 0 0-.004-1h-11a.5.5 0 0 0-.004 1h10.998Zm-.541 1H7.048l.826 9.09a1 1 0 0 0 .996.91h6.26a1 1 0 0 0 .996-.91L16.952 9ZM11 11.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0v-5Zm3 0a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0v-5Z",clipRule:"evenodd"}))}}}]);

//# debugId=add019d5-4c01-55b7-b940-2d7a3dde2ad3

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f1c94a8dbd9be9f66ca7d1d97ee5d6737dbd3b9e/7561-38c94776e08cc24d.min.js.map